(self.webpackChunk_plone_volto=self.webpackChunk_plone_volto||[]).push([[4124],{"./src/components/manage/Controlpanels/Users/RenderUsers.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/message.js"),react_intl__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/injectIntl.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/collections/Table/Table.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/modules/Checkbox/Checkbox.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/modules/Dropdown/Dropdown.js"),_plone_volto_icons_delete_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/icons/delete.svg"),_plone_volto_icons_delete_svg__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_plone_volto_icons_delete_svg__WEBPACK_IMPORTED_MODULE_1__),_plone_volto_icons_editing_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/icons/editing.svg"),_plone_volto_icons_editing_svg__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_plone_volto_icons_editing_svg__WEBPACK_IMPORTED_MODULE_2__),_plone_volto_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/index.js"),_plone_volto_components_manage_Form__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/manage/Form/index.tsx"),_plone_volto_actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/actions/index.js"),_plone_volto_icons_plone_svg__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/icons/plone.svg"),_plone_volto_icons_plone_svg__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_plone_volto_icons_plone_svg__WEBPACK_IMPORTED_MODULE_6__),redux__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../../../node_modules/.pnpm/redux@4.2.1/node_modules/redux/es/redux.js"),react_redux__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/.pnpm/react-redux@8.1.2_@types+react-dom@18.2.12_@types+react@18.2.27_react-dom@18.2.0_react@18.2.0__react@18.2.0_redux@4.2.1/node_modules/react-redux/es/index.js"),_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/helpers/index.js"),react_toastify__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../../node_modules/.pnpm/react-toastify@5.5.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/react-toastify/esm/react-toastify.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;class RenderUsers extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state={user:{}},this.onChange=this.onChange.bind(this),this.onEditUserError=this.onEditUserError.bind(this),this.onEditUserSubmit=this.onEditUserSubmit.bind(this)}onChange(event,{value:value}){const[user,role]=value.split("&role=");this.props.updateUser(user,role)}componentDidUpdate(prevProps){var _this$state,_this$state$user,_this$props,_this$props$user;if(prevProps.updateRequest.loading&&this.props.updateRequest.loaded&&(null===(_this$state=this.state)||void 0===_this$state||null===(_this$state$user=_this$state.user)||void 0===_this$state$user?void 0:_this$state$user.id)===(null===(_this$props=this.props)||void 0===_this$props||null===(_this$props$user=_this$props.user)||void 0===_this$props$user?void 0:_this$props$user.id))return this.setState({user:{}}),this.props.listUsers(),react_toastify__WEBPACK_IMPORTED_MODULE_9__.toast.success(__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_3__.qAm,{success:!0,title:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_8__.cJ.success),content:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_8__.cJ.updateUserSuccess)}))}onEditUserSubmit(data,callback){delete data.groups,delete data.roles,this.props.updateUserData(data.id,data)}onEditUserError(){return react_toastify__WEBPACK_IMPORTED_MODULE_9__.toast.error(__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_3__.qAm,{error:!0,title:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_8__.cJ.error),content:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_8__.cJ.addUserFormPasswordAndSendPasswordTogetherNotAllowed)}))}onClickEdit(props){const{formData:formData}=props;this.setState({user:(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_10__.c)({},formData)})}canDeleteUser(){return!!this.props.isUserManager||!this.props.user.roles.includes("Manager")}render(){return __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_11__.c.Row,{key:this.props.user.username},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_11__.c.Cell,{className:"fullname"},this.props.user.fullname?this.props.user.fullname:this.props.user.username," ","(",this.props.user.username,")"),this.props.roles.map((role=>__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_11__.c.Cell,{key:role.id},this.props.inheritedRole&&this.props.inheritedRole.includes(role.id)?__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_3__.GWx,{name:_plone_volto_icons_plone_svg__WEBPACK_IMPORTED_MODULE_6___default(),size:"20px",color:"#007EB1",title:"plone-svg"}):__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_12__.c,{checked:this.props.user.roles.includes(role.id),onChange:this.onChange,value:`${this.props.user.id}&role=${role.id}`,disabled:!(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_8__.s5)(this.props.isUserManager,role)})))),__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_11__.c.Cell,{textAlign:"right"},this.canDeleteUser()&&__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_13__.c,{icon:"ellipsis horizontal"},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_13__.c.Menu,{className:"left"},this.props.userschema&&__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_13__.c.Item,{id:"edit-user-button",onClick:()=>{this.onClickEdit({formData:this.props.user})},value:this.props.user["@id"]},__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_3__.GWx,{name:_plone_volto_icons_editing_svg__WEBPACK_IMPORTED_MODULE_2___default(),size:"15px"}),__jsx(react_intl__WEBPACK_IMPORTED_MODULE_14__.c,{id:"Edit",defaultMessage:"Edit"})),__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_13__.c.Item,{id:"delete-user-button",onClick:this.props.onDelete,value:this.props.user["@id"]},__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_3__.GWx,{name:_plone_volto_icons_delete_svg__WEBPACK_IMPORTED_MODULE_1___default(),size:"15px"}),__jsx(react_intl__WEBPACK_IMPORTED_MODULE_14__.c,{id:"Delete",defaultMessage:"Delete"}))))),Object.keys(this.state.user).length>0&&this.props.userschema.loaded&&__jsx(_plone_volto_components_manage_Form__WEBPACK_IMPORTED_MODULE_4__.Ah,{className:"modal",onSubmit:this.onEditUserSubmit,submitError:this.state.editUserError,formData:this.state.user,onCancel:()=>this.setState({user:{}}),title:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_8__.cJ.updateUserFormTitle),loading:this.props.updateRequest.loading,schema:this.props.userschema.userschema}))}}__webpack_exports__.default=(0,redux__WEBPACK_IMPORTED_MODULE_15__.compose)(react_intl__WEBPACK_IMPORTED_MODULE_16__.cp,(0,react_redux__WEBPACK_IMPORTED_MODULE_7__.connect)(((state,props)=>{var _state$users;return{updateRequest:null===(_state$users=state.users)||void 0===_state$users?void 0:_state$users.update}}),{updateUserData:_plone_volto_actions__WEBPACK_IMPORTED_MODULE_5__.Fo}))(RenderUsers),RenderUsers.__docgenInfo={description:"UsersControlpanelUser class.\n@class UsersControlpanelUser\n@extends Component",methods:[{name:"onChange",docblock:"@param {*} event\n@param {*} { value }\n@memberof UsersControlpanelUser",modifiers:[],params:[{name:"event",type:{name:"mixed"},optional:!1},{name:"{ value }",optional:!1}],returns:null,description:null},{name:"onEditUserSubmit",docblock:null,modifiers:[],params:[{name:"data",optional:!1,type:null},{name:"callback",optional:!1,type:null}],returns:null},{name:"onEditUserError",docblock:null,modifiers:[],params:[],returns:null},{name:"onClickEdit",docblock:null,modifiers:[],params:[{name:"props",optional:!1,type:null}],returns:null},{name:"canDeleteUser",docblock:null,modifiers:[],params:[],returns:null}],displayName:"RenderUsers",props:{user:{description:"",type:{name:"shape",value:{username:{name:"string",required:!1},fullname:{name:"string",required:!1},roles:{name:"arrayOf",value:{name:"string"},required:!1}}},required:!0},roles:{description:"",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1}}}},required:!0},onDelete:{description:"",type:{name:"func"},required:!0},isUserManager:{description:"",type:{name:"bool"},required:!0}}}},"./src/components/manage/Controlpanels/Users/UsersControlpanel.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),lodash_difference__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/difference.js"),lodash_difference__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_difference__WEBPACK_IMPORTED_MODULE_0__),lodash_pull__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/pull.js"),lodash_pull__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_pull__WEBPACK_IMPORTED_MODULE_1__),lodash_map__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/map.js"),lodash_map__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_2__),lodash_find__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/find.js"),lodash_find__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash_find__WEBPACK_IMPORTED_MODULE_3__),_plone_volto_actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/actions/index.js"),jwt_decode__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../../node_modules/.pnpm/jwt-decode@2.2.0/node_modules/jwt-decode/lib/index.js"),jwt_decode__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(jwt_decode__WEBPACK_IMPORTED_MODULE_6__),_plone_volto_components__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/index.js"),_plone_volto_components_manage_Form__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/manage/Form/index.tsx"),_plone_volto_components_manage_Controlpanels_Users_RenderUsers__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/manage/Controlpanels/Users/RenderUsers.jsx"),react_router_dom__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("../../../node_modules/.pnpm/react-router-dom@5.2.0_react@18.2.0/node_modules/react-router-dom/esm/react-router-dom.js"),_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/helpers/index.js"),_plone_volto_icons_clear_svg__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/icons/clear.svg"),_plone_volto_icons_clear_svg__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_plone_volto_icons_clear_svg__WEBPACK_IMPORTED_MODULE_11__),_plone_volto_icons_add_user_svg__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/icons/add-user.svg"),_plone_volto_icons_add_user_svg__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_plone_volto_icons_add_user_svg__WEBPACK_IMPORTED_MODULE_12__),_plone_volto_icons_save_svg__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/icons/save.svg"),_plone_volto_icons_save_svg__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_plone_volto_icons_save_svg__WEBPACK_IMPORTED_MODULE_13__),_plone_volto_icons_plone_svg__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/icons/plone.svg"),_plone_volto_icons_plone_svg__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_plone_volto_icons_plone_svg__WEBPACK_IMPORTED_MODULE_14__),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/message.js"),react_intl__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/injectIntl.js"),react_dom__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../../../node_modules/.pnpm/react-dom@18.2.0_react@18.2.0/node_modules/react-dom/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../../../node_modules/.pnpm/react-redux@8.1.2_@types+react-dom@18.2.12_@types+react@18.2.27_react-dom@18.2.0_react@18.2.0__react@18.2.0_redux@4.2.1/node_modules/react-redux/es/index.js"),react_toastify__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("../../../node_modules/.pnpm/react-toastify@5.5.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/react-toastify/esm/react-toastify.js"),redux__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("../../../node_modules/.pnpm/redux@4.2.1/node_modules/redux/es/redux.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Container/Container.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/addons/Confirm/Confirm.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/modules/Dimmer/Dimmer.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Loader/Loader.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Segment/Segment.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/collections/Form/Form.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Input/Input.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/collections/Table/Table.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Button/Button.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_4__.createElement;class UsersControlpanel extends react__WEBPACK_IMPORTED_MODULE_4__.Component{constructor(props){super(props),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_17__.c)(this,"fetchData",(async()=>{await this.props.getControlpanel("usergroup"),await this.props.listRoles(),this.props.many_users||(this.props.listGroups(),await this.props.listUsers(),this.setState({entries:this.props.users})),await this.props.getUserSchema(),await this.props.getUser(this.props.userId)})),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_17__.c)(this,"checkLoginUsingEmailStatus",(async()=>{var _this$props$controlPa;await this.props.getControlpanel("security"),this.setState({loginUsingEmail:null===(_this$props$controlPa=this.props.controlPanelData)||void 0===_this$props$controlPa?void 0:_this$props$controlPa.data.use_email_as_login})})),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_17__.c)(this,"addUserToGroup",(user=>{const{groups:groups,username:username}=user;groups.forEach((group=>{this.props.updateGroup(group,{users:{[username]:!0}})}))})),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_17__.c)(this,"updateUserRoleSubmit",(e=>{e.stopPropagation();const roles=this.props.roles.map((item=>item.id));this.state.entries.forEach((item=>{const userData={roles:{}};lodash_difference__WEBPACK_IMPORTED_MODULE_0___default()(roles,item.roles).forEach((role=>{userData.roles[role]=!1})),item.roles.forEach((role=>{userData.roles[role]=!0})),this.props.updateUser(item.id,userData)})),react_toastify__WEBPACK_IMPORTED_MODULE_18__.toast.success(__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_7__.qAm,{success:!0,title:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.success),content:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.updateRoles)}))})),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_17__.c)(this,"onChangePage",((event,{value:value})=>{this.setState({currentPage:value})})),this.onChangeSearch=this.onChangeSearch.bind(this),this.onSearch=this.onSearch.bind(this),this.delete=this.delete.bind(this),this.onDeleteOk=this.onDeleteOk.bind(this),this.onDeleteCancel=this.onDeleteCancel.bind(this),this.onAddUserSubmit=this.onAddUserSubmit.bind(this),this.onAddUserError=this.onAddUserError.bind(this),this.onAddUserSuccess=this.onAddUserSuccess.bind(this),this.updateUserRole=this.updateUserRole.bind(this),this.state={search:"",isLoading:!1,showAddUser:!1,showAddUserErrorConfirm:!1,addUserError:"",showDelete:!1,userToDelete:void 0,entries:[],isClient:!1,currentPage:0,pageSize:10,loginUsingEmail:!1}}componentDidMount(){this.setState({isClient:!0}),this.fetchData(),this.checkLoginUsingEmailStatus()}UNSAFE_componentWillReceiveProps(nextProps){(this.props.deleteRequest.loading&&nextProps.deleteRequest.loaded||this.props.createRequest.loading&&nextProps.createRequest.loaded)&&this.props.listUsers({search:this.state.search}),this.props.deleteRequest.loading&&nextProps.deleteRequest.loaded&&this.onDeleteUserSuccess(),this.props.createRequest.loading&&nextProps.createRequest.loaded&&this.onAddUserSuccess(),this.props.createRequest.loading&&nextProps.createRequest.error&&this.onAddUserError(nextProps.createRequest.error),this.props.loadRolesRequest.loading&&nextProps.loadRolesRequest.error&&this.setState({error:nextProps.loadRolesRequest.error})}getUserFromProps(value){return lodash_find__WEBPACK_IMPORTED_MODULE_3___default()(this.props.users,["@id",value])}onSearch(event){event.preventDefault(),this.setState({isLoading:!0}),this.props.listUsers({search:this.state.search}).then((()=>{this.setState({isLoading:!1})})).catch((error=>{this.setState({isLoading:!1}),console.error("Error searching users",error)}))}onChangeSearch(event){this.setState({search:event.target.value})}delete(event,{value:value}){value&&this.setState({showDelete:!0,userToDelete:this.getUserFromProps(value)})}onDeleteOk(){this.state.userToDelete&&this.props.deleteUser(this.state.userToDelete.id)}onDeleteCancel(){this.setState({showDelete:!1,itemsToDelete:[],userToDelete:void 0})}onAddUserSubmit(data,callback){const{groups:groups,sendPasswordReset:sendPasswordReset,password:password}=data;void 0!==sendPasswordReset&&!0===sendPasswordReset&&void 0!==password?react_toastify__WEBPACK_IMPORTED_MODULE_18__.toast.error(__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_7__.qAm,{error:!0,title:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.error),content:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.addUserFormPasswordAndSendPasswordTogetherNotAllowed)})):(groups&&groups.length>0&&this.addUserToGroup(data),this.props.createUser(data,sendPasswordReset),this.setState({addUserSetFormDataCallback:callback}))}onAddUserSuccess(){this.state.addUserSetFormDataCallback({}),this.setState({showAddUser:!1,addUserError:void 0,addUserSetFormDataCallback:void 0}),react_toastify__WEBPACK_IMPORTED_MODULE_18__.toast.success(__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_7__.qAm,{success:!0,title:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.success),content:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.userCreated)}))}onDeleteUserSuccess(){this.setState({userToDelete:void 0,showDelete:!1}),react_toastify__WEBPACK_IMPORTED_MODULE_18__.toast.success(__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_7__.qAm,{success:!0,title:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.success),content:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.userDeleted)}))}updateUserRole(name,value){this.setState({entries:lodash_map__WEBPACK_IMPORTED_MODULE_2___default()(this.state.entries,(entry=>(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_19__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_19__.c)({},entry),{},{roles:entry.id!==name||entry.roles.includes(value)?entry.id!==name?entry.roles:lodash_pull__WEBPACK_IMPORTED_MODULE_1___default()(entry.roles,value):[...entry.roles,value]})))})}onAddUserError(error){this.setState({addUserError:error.response.body.error.message})}componentDidUpdate(prevProps,prevState){this.props.users!==prevProps.users&&this.setState({entries:this.props.users})}canAssignAdd(isManager){var _this$props$user;return isManager?this.props.roles:null!==(_this$props$user=this.props.user)&&void 0!==_this$props$user&&_this$props$user.roles?this.props.roles.filter((role=>this.props.user.roles.includes(role.id))):[]}render(){var _this$props,_this$props$userschem,_this$props3,_this$props3$deleteRe,_this$props4,_this$props4$usersche,_this$state$entries;if(this.state.error)return __jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_7__.wxC,{error:this.state.error});let usernameToDelete=this.state.userToDelete?this.state.userToDelete.username:"",adduserschema={},isUserManager=!1;var _this$props2,_this$props2$usersche;null!==(_this$props=this.props)&&void 0!==_this$props&&null!==(_this$props$userschem=_this$props.userschema)&&void 0!==_this$props$userschem&&_this$props$userschem.loaded&&(isUserManager=(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.YH)(this.props.user),adduserschema=JSON.parse(JSON.stringify(null===(_this$props2=this.props)||void 0===_this$props2||null===(_this$props2$usersche=_this$props2.userschema)||void 0===_this$props2$usersche?void 0:_this$props2$usersche.userschema)),adduserschema.properties.username={title:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.addUserFormUsernameTitle),type:"string",description:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.addUserFormUsernameDescription)},adduserschema.properties.password={title:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.addUserFormPasswordTitle),type:"password",description:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.addUserFormPasswordDescription),widget:"password"},adduserschema.properties.sendPasswordReset={title:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.addUserFormSendPasswordResetTitle),type:"boolean"},adduserschema.properties.roles={title:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.addUserFormRolesTitle),type:"array",choices:this.canAssignAdd(isUserManager).map((role=>[role.id,role.title])),noValueOption:!1},adduserschema.properties.groups={title:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.addUserGroupNameTitle),type:"array",choices:this.props.groups.filter((group=>(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.Gm)(isUserManager,group))).map((group=>[group.id,group.id])),noValueOption:!1},adduserschema.fieldsets&&adduserschema.fieldsets.length>0&&!adduserschema.fieldsets[0].fields.includes("username")&&(adduserschema.fieldsets[0].fields=adduserschema.fieldsets[0].fields.concat(["username","password","sendPasswordReset","roles","groups"])));return __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_20__.c,{className:"users-control-panel"},__jsx(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.So,{title:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.users)}),__jsx("div",{className:"container"},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_21__.c,{open:this.state.showDelete,header:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.deleteUserConfirmTitle),content:__jsx("div",{className:"content"},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_22__.c,{active:null===(_this$props3=this.props)||void 0===_this$props3||null===(_this$props3$deleteRe=_this$props3.deleteRequest)||void 0===_this$props3$deleteRe?void 0:_this$props3$deleteRe.loading},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_23__.c,null,__jsx(react_intl__WEBPACK_IMPORTED_MODULE_24__.c,{id:"Loading",defaultMessage:"Loading."}))),__jsx("ul",{className:"content"},__jsx(react_intl__WEBPACK_IMPORTED_MODULE_24__.c,{id:"Do you really want to delete the user {username}?",defaultMessage:"Do you really want to delete the user {username}?",values:{username:__jsx("b",null,usernameToDelete)}}))),onCancel:this.onDeleteCancel,onConfirm:this.onDeleteOk,size:null}),null!==(_this$props4=this.props)&&void 0!==_this$props4&&null!==(_this$props4$usersche=_this$props4.userschema)&&void 0!==_this$props4$usersche&&_this$props4$usersche.loaded&&this.state.showAddUser?__jsx(_plone_volto_components_manage_Form__WEBPACK_IMPORTED_MODULE_8__.Ah,{open:this.state.showAddUser,className:"modal",onSubmit:this.onAddUserSubmit,submitError:this.state.addUserError,onCancel:()=>this.setState({showAddUser:!1,addUserError:void 0}),title:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.addUserFormTitle),loading:this.props.createRequest.loading,schema:adduserschema}):null),__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_25__.c.Group,{raised:!0},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_25__.c,{className:"primary"},__jsx(react_intl__WEBPACK_IMPORTED_MODULE_24__.c,{id:"Users",defaultMessage:"Users"})),__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_25__.c,{secondary:!0},__jsx(react_intl__WEBPACK_IMPORTED_MODULE_24__.c,{id:"Note that roles set here apply directly to a user. The symbol{plone_svg}indicates a role inherited from membership in a group.",defaultMessage:"Note that roles set here apply directly to a user. The symbol{plone_svg}indicates a role inherited from membership in a group.",values:{plone_svg:__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_7__.GWx,{name:_plone_volto_icons_plone_svg__WEBPACK_IMPORTED_MODULE_14___default(),size:"20px",color:"#007EB1",title:"plone-svg"})}})),__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_25__.c,null,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_26__.c,{onSubmit:this.onSearch},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_26__.c.Field,null,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_27__.c,{name:"SearchableText",action:{icon:"search",loading:this.state.isLoading,disabled:this.state.isLoading},placeholder:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.searchUsers),onChange:this.onChangeSearch,id:"user-search-input"})))),__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_26__.c,null,(this.props.many_users&&this.state.entries.length>0||!this.props.many_users)&&__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_28__.c,{padded:!0,striped:!0,attached:!0,unstackable:!0},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_28__.c.Header,null,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_28__.c.Row,null,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_28__.c.HeaderCell,null,__jsx(react_intl__WEBPACK_IMPORTED_MODULE_24__.c,{id:"User name",defaultMessage:"User name"})),this.props.roles.map((role=>__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_28__.c.HeaderCell,{key:role.id},role.title))),__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_28__.c.HeaderCell,null,__jsx(react_intl__WEBPACK_IMPORTED_MODULE_24__.c,{id:"Actions",defaultMessage:"Actions"})))),__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_28__.c.Body,{"data-user":"users"},this.state.entries.slice(10*this.state.currentPage,this.state.pageSize*(this.state.currentPage+1)).map((user=>__jsx(_plone_volto_components_manage_Controlpanels_Users_RenderUsers__WEBPACK_IMPORTED_MODULE_9__.default,{key:user.id,onDelete:this.delete,roles:this.props.roles,user:user,updateUser:this.updateUserRole,inheritedRole:this.props.inheritedRole,userschema:this.props.userschema,listUsers:this.props.listUsers,isUserManager:isUserManager}))))),0===this.state.entries.length&&this.state.search&&__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_25__.c,null,this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.userSearchNoResults)),__jsx("div",{className:"contents-pagination"},__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_7__.eML,{current:this.state.currentPage,total:Math.ceil((null===(_this$state$entries=this.state.entries)||void 0===_this$state$entries?void 0:_this$state$entries.length)/this.state.pageSize),onChangePage:this.onChangePage})))),this.state.isClient&&(0,react_dom__WEBPACK_IMPORTED_MODULE_15__.createPortal)(__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_7__.YT3,{pathname:this.props.pathname,hideDefaultViewButtons:!0,inner:__jsx(react__WEBPACK_IMPORTED_MODULE_4__.Fragment,null,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_29__.c,{id:"toolbar-save",className:"save","aria-label":this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.save),onClick:this.updateUserRoleSubmit,loading:this.props.createRequest.loading},__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_7__.GWx,{name:_plone_volto_icons_save_svg__WEBPACK_IMPORTED_MODULE_13___default(),className:"circled",size:"30px",title:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.save)})),__jsx(react_router_dom__WEBPACK_IMPORTED_MODULE_30__.cH,{to:"/controlpanel",className:"cancel"},__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_7__.GWx,{name:_plone_volto_icons_clear_svg__WEBPACK_IMPORTED_MODULE_11___default(),className:"circled","aria-label":this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.cancel),size:"30px",title:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.cancel)})),__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_29__.c,{id:"toolbar-add","aria-label":this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.addUserButtonTitle),onClick:()=>{this.setState({showAddUser:!0})},loading:this.props.createRequest.loading},__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_7__.GWx,{name:_plone_volto_icons_add_user_svg__WEBPACK_IMPORTED_MODULE_12___default(),size:"45px",color:"#826A6A",title:this.props.intl.formatMessage(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__.cJ.addUserButtonTitle)})))}),document.getElementById("toolbar")))}}__webpack_exports__.default=(0,redux__WEBPACK_IMPORTED_MODULE_31__.compose)(react_intl__WEBPACK_IMPORTED_MODULE_32__.cp,(0,react_redux__WEBPACK_IMPORTED_MODULE_16__.connect)(((state,props)=>{var _state$controlpanels,_state$controlpanels$,_state$controlpanels$2,_state$controlpanels2,_state$controlpanels3,_state$controlpanels4,_state$controlpanels5;return{roles:state.roles.roles,users:state.users.users,user:state.users.user,userId:state.userSession.token?jwt_decode__WEBPACK_IMPORTED_MODULE_6___default()(state.userSession.token).sub:"",groups:state.groups.groups,many_users:null===(_state$controlpanels=state.controlpanels)||void 0===_state$controlpanels||null===(_state$controlpanels$=_state$controlpanels.controlpanel)||void 0===_state$controlpanels$||null===(_state$controlpanels$2=_state$controlpanels$.data)||void 0===_state$controlpanels$2?void 0:_state$controlpanels$2.many_users,many_groups:null===(_state$controlpanels2=state.controlpanels)||void 0===_state$controlpanels2||null===(_state$controlpanels3=_state$controlpanels2.controlpanel)||void 0===_state$controlpanels3||null===(_state$controlpanels4=_state$controlpanels3.data)||void 0===_state$controlpanels4?void 0:_state$controlpanels4.many_groups,description:state.description,pathname:props.location.pathname,deleteRequest:state.users.delete,createRequest:state.users.create,loadRolesRequest:state.roles,inheritedRole:state.authRole.authenticatedRole,userschema:state.userschema,controlPanelData:null===(_state$controlpanels5=state.controlpanels)||void 0===_state$controlpanels5?void 0:_state$controlpanels5.controlpanel}}),(dispatch=>(0,redux__WEBPACK_IMPORTED_MODULE_31__.bindActionCreators)({listRoles:_plone_volto_actions__WEBPACK_IMPORTED_MODULE_5__.YF,listUsers:_plone_volto_actions__WEBPACK_IMPORTED_MODULE_5__.Cq,listGroups:_plone_volto_actions__WEBPACK_IMPORTED_MODULE_5__.Ud,getControlpanel:_plone_volto_actions__WEBPACK_IMPORTED_MODULE_5__.Gm,deleteUser:_plone_volto_actions__WEBPACK_IMPORTED_MODULE_5__.A0,createUser:_plone_volto_actions__WEBPACK_IMPORTED_MODULE_5__.C_,updateUser:_plone_volto_actions__WEBPACK_IMPORTED_MODULE_5__.Fo,updateGroup:_plone_volto_actions__WEBPACK_IMPORTED_MODULE_5__.Gy,getUserSchema:_plone_volto_actions__WEBPACK_IMPORTED_MODULE_5__.Mf,getUser:_plone_volto_actions__WEBPACK_IMPORTED_MODULE_5__.eg},dispatch))))(UsersControlpanel),UsersControlpanel.__docgenInfo={description:"UsersControlpanel class.\n@class UsersControlpanel\n@extends Component",methods:[{name:"fetchData",docblock:null,modifiers:["async"],params:[],returns:null},{name:"checkLoginUsingEmailStatus",docblock:null,modifiers:["async"],params:[],returns:null},{name:"getUserFromProps",docblock:null,modifiers:[],params:[{name:"value",optional:!1,type:null}],returns:null},{name:"onSearch",docblock:"Search handler\n@method onSearch\n@param {object} event Event object.\n@returns {undefined}",modifiers:[],params:[{name:"event",description:"Event object.",type:{name:"object"},optional:!1}],returns:{},description:"Search handler"},{name:"onChangeSearch",docblock:"On change search handler\n@method onChangeSearch\n@param {object} event Event object.\n@returns {undefined}",modifiers:[],params:[{name:"event",description:"Event object.",type:{name:"object"},optional:!1}],returns:{},description:"On change search handler"},{name:"delete",docblock:"Delete a user\n@method delete\n@param {object} event Event object.\n@param {string} value username.\n@returns {undefined}",modifiers:[],params:[{name:"event",description:"Event object.",type:{name:"object"},optional:!1},{name:"{ value }",optional:!1}],returns:{},description:"Delete a user"},{name:"onDeleteOk",docblock:"On delete ok\n@method onDeleteOk\n@returns {undefined}",modifiers:[],params:[],returns:{},description:"On delete ok"},{name:"onDeleteCancel",docblock:"On delete cancel\n@method onDeleteCancel\n@returns {undefined}",modifiers:[],params:[],returns:{},description:"On delete cancel"},{name:"addUserToGroup",docblock:"@param {object} user\n@returns {undefined}\n@memberof UsersControlpanel",modifiers:[],params:[{name:"user",type:{name:"object"},optional:!1}],returns:{},description:null},{name:"onAddUserSubmit",docblock:"Callback to be called by the ModalForm when the form is submitted.\n\n@param {object} data Form data from the ModalForm.\n@param {func} callback to set new form data in the ModalForm\n@returns {undefined}",modifiers:[],params:[{name:"data",description:"Form data from the ModalForm.",type:{name:"object"},optional:!1},{name:"callback",description:"to set new form data in the ModalForm",type:{name:"func"},optional:!1}],returns:{},description:"Callback to be called by the ModalForm when the form is submitted."},{name:"onAddUserSuccess",docblock:"Handle Success after createUser()\n\n@returns {undefined}",modifiers:[],params:[],returns:{},description:"Handle Success after createUser()"},{name:"onDeleteUserSuccess",docblock:"Handle Success after deleteUser()\n\n@returns {undefined}",modifiers:[],params:[],returns:{},description:"Handle Success after deleteUser()"},{name:"updateUserRole",docblock:"@param {*} data\n@param {*} callback\n@memberof UsersControlpanel",modifiers:[],params:[{name:"name",optional:!1},{name:"value",optional:!1}],returns:null,description:null},{name:"updateUserRoleSubmit",docblock:"@param {*} event\n@memberof UsersControlpanel",modifiers:[],params:[{name:"e",optional:!1}],returns:null,description:null},{name:"onAddUserError",docblock:"Handle Errors after createUser()\n\n@param {object} error object. Requires the property .message\n@returns {undefined}",modifiers:[],params:[{name:"error",description:"object. Requires the property .message",type:{name:"object"},optional:!1}],returns:{},description:"Handle Errors after createUser()"},{name:"onChangePage",docblock:"On change page\n@method onChangePage\n@param {object} event Event object.\n@param {string} value Page value.\n@returns {undefined}",modifiers:[],params:[{name:"event",description:"Event object.",type:{name:"object"},optional:!1},{name:"{ value }",optional:!1}],returns:{},description:"On change page"},{name:"canAssignAdd",docblock:"Filters the roles a user can assign when adding a user.\n@method canAssignAdd\n@returns {arry}",modifiers:[],params:[{name:"isManager",optional:!1}],returns:{type:{name:"arry"}},description:"Filters the roles a user can assign when adding a user."}],displayName:"UsersControlpanel",props:{listRoles:{description:"",type:{name:"func"},required:!0},listUsers:{description:"",type:{name:"func"},required:!0},updateUser:{description:"",type:{name:"func"},required:!1},listGroups:{description:"",type:{name:"func"},required:!0},pathname:{description:"",type:{name:"string"},required:!0},roles:{description:"",type:{name:"arrayOf",value:{name:"shape",value:{"@id":{name:"string",required:!1},"@type":{name:"string",required:!1},id:{name:"string",required:!1}}}},required:!0},users:{description:"",type:{name:"arrayOf",value:{name:"shape",value:{username:{name:"string",required:!1},fullname:{name:"string",required:!1},roles:{name:"arrayOf",value:{name:"string"},required:!1}}}},required:!0},user:{description:"",type:{name:"shape",value:{"@id":{name:"string",required:!1},id:{name:"string",required:!1},description:{name:"string",required:!1},email:{name:"string",required:!1},fullname:{name:"string",required:!1},groups:{name:"object",required:!1},location:{name:"string",required:!1},portrait:{name:"string",required:!1},home_page:{name:"string",required:!1},roles:{name:"arrayOf",value:{name:"string"},required:!1},username:{name:"string",required:!1}}},required:!0}}}},"../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIndexOfWith.js":function(module){module.exports=function baseIndexOfWith(array,value,fromIndex,comparator){for(var index=fromIndex-1,length=array.length;++index<length;)if(comparator(array[index],value))return index;return-1}},"../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_basePullAll.js":function(module,__unused_webpack_exports,__webpack_require__){var arrayMap=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayMap.js"),baseIndexOf=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIndexOf.js"),baseIndexOfWith=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIndexOfWith.js"),baseUnary=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseUnary.js"),copyArray=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_copyArray.js"),splice=Array.prototype.splice;module.exports=function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;for(array===values&&(values=copyArray(values)),iteratee&&(seen=arrayMap(array,baseUnary(iteratee)));++index<length;)for(var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;(fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1;)seen!==array&&splice.call(seen,fromIndex,1),splice.call(array,fromIndex,1);return array}},"../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/pull.js":function(module,__unused_webpack_exports,__webpack_require__){var pull=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseRest.js")(__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/pullAll.js"));module.exports=pull},"../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/pullAll.js":function(module,__unused_webpack_exports,__webpack_require__){var basePullAll=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_basePullAll.js");module.exports=function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}},"../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/addons/Confirm/Confirm.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js"),_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),lodash_es_has__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/has.js"),lodash_es_has__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_es_has__WEBPACK_IMPORTED_MODULE_0__),lodash_es_invoke__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/invoke.js"),lodash_es_invoke__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_es_invoke__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("../../../node_modules/.pnpm/prop-types@15.7.2/node_modules/prop-types/index.js"),__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js")),_lib__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/lib/getUnhandledProps.js"),_elements_Button__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Button/Button.js"),_modules_Modal__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/modules/Modal/Modal.js"),Confirm=function(_Component){function Confirm(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Component.call.apply(_Component,[this].concat(args))||this).handleCancel=function(e){lodash_es_invoke__WEBPACK_IMPORTED_MODULE_1___default()(_this.props,"onCancel",e,_this.props)},_this.handleCancelOverrides=function(predefinedProps){return{onClick:function onClick(e,buttonProps){lodash_es_invoke__WEBPACK_IMPORTED_MODULE_1___default()(predefinedProps,"onClick",e,buttonProps),_this.handleCancel(e)}}},_this.handleConfirmOverrides=function(predefinedProps){return{onClick:function onClick(e,buttonProps){lodash_es_invoke__WEBPACK_IMPORTED_MODULE_1___default()(predefinedProps,"onClick",e,buttonProps),lodash_es_invoke__WEBPACK_IMPORTED_MODULE_1___default()(_this.props,"onConfirm",e,_this.props)}}},_this}return(0,_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_4__.c)(Confirm,_Component),Confirm.prototype.render=function render(){var _this$props=this.props,cancelButton=_this$props.cancelButton,confirmButton=_this$props.confirmButton,content=_this$props.content,header=_this$props.header,open=_this$props.open,size=_this$props.size,rest=(0,_lib__WEBPACK_IMPORTED_MODULE_5__.c)(Confirm,this.props),openProp={};return lodash_es_has__WEBPACK_IMPORTED_MODULE_0___default()(this.props,"open")&&(openProp.open=open),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_modules_Modal__WEBPACK_IMPORTED_MODULE_6__.c,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_7__.c)({},rest,openProp,{size:size,onClose:this.handleCancel}),_modules_Modal__WEBPACK_IMPORTED_MODULE_6__.c.Header.create(header,{autoGenerateKey:!1}),_modules_Modal__WEBPACK_IMPORTED_MODULE_6__.c.Content.create(content,{autoGenerateKey:!1}),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_modules_Modal__WEBPACK_IMPORTED_MODULE_6__.c.Actions,null,_elements_Button__WEBPACK_IMPORTED_MODULE_8__.c.create(cancelButton,{autoGenerateKey:!1,overrideProps:this.handleCancelOverrides}),_elements_Button__WEBPACK_IMPORTED_MODULE_8__.c.create(confirmButton,{autoGenerateKey:!1,defaultProps:{primary:!0},overrideProps:this.handleConfirmOverrides})))},Confirm}(react__WEBPACK_IMPORTED_MODULE_3__.Component);Confirm.handledProps=["cancelButton","confirmButton","content","header","onCancel","onConfirm","open","size"],Confirm.propTypes={},Confirm.defaultProps={cancelButton:"Cancel",confirmButton:"OK",content:"Are you sure?",size:"small"},__webpack_exports__.c=Confirm},"./src/icons/add-user.svg":function(module){module.exports={attributes:{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 36 36"},content:'<g fill="#000" fill-rule="evenodd"><path d="M4.8774 28 23.1324 28C22.3064 26.614 20.0084 25.548 19.0924 25.232 15.4554 24.373 15.0454 22.379 15.0114 22.154L15.0004 22.003 15.0004 18.895 15.6304 18.645C16.8514 18.158 16.7644 17.393 16.7634 17.386L16.6384 16.607 17.3654 16.304C17.4044 16.268 17.5774 16.064 17.9134 15.315 17.8684 15.255 17.7984 15.185 17.7704 15.163L17.1894 14.725 17.8304 12.881C18.1344 11.639 18.0094 10.353 17.4614 9.651 17.1974 9.314 16.8544 9 16.5174 9L15.9664 9 15.6724 8.655C15.6704 8.653 15.0354 7.766 14.0284 7.766 13.5514 7.769 12.1334 7.916 11.3624 8.421 10.4574 9.013 9.5174 10.292 10.1784 12.953L10.7744 14.773 10.1364 15.196C10.0934 15.228 10.0314 15.292 9.9984 15.339 10.1754 15.816 10.5154 16.233 10.6504 16.308L11.4284 16.632 11.2414 17.388C11.2324 17.494 11.2244 18.188 12.3694 18.644L13.0004 18.894 12.9884 22.151C12.9554 22.376 12.5524 24.373 8.8194 25.259 7.9814 25.553 5.7004 26.615 4.8774 28L4.8774 28ZM25.0004 30 3.0004 30 3.0004 29C3.0004 25.39 7.8954 23.539 8.4774 23.34 10.5884 22.834 10.8954 22.057 11.0004 21.847L11.0004 20.199C9.8114 19.515 9.3684 18.523 9.2664 17.76 8.7184 17.278 8.2894 16.536 8.0804 15.916 7.8304 15.176 8.0854 14.536 8.4414 14.083L8.2574 13.521C7.2064 9.3 9.3144 7.401 10.2674 6.777 11.6724 5.858 13.7894 5.827 14.0254 5.826 15.5324 5.826 16.5564 6.734 17.0414 7.29 17.8034 7.429 18.5104 7.867 19.0364 8.54 19.5834 9.239 20.4024 10.807 19.7454 13.45L19.5164 14.114C19.9054 14.644 20.0924 15.325 19.7984 15.997 19.5254 16.62 19.2044 17.289 18.7404 17.739 18.6424 18.505 18.2004 19.509 17.0004 20.199L17.0004 21.87C17.0754 22.01 17.3384 22.816 19.4304 23.313 20.1054 23.539 25.0004 25.389 25.0004 29L25.0004 30ZM29 5 27 5 27 9 23 9 23 11 27 11 27 15 29 15 29 11 33 11 33 9 29 9z"/></g>'}},"./src/icons/plone.svg":function(module){module.exports={attributes:{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 36 36"},content:'<g fill-rule="evenodd"><path d="M18.5,30 C12.159,30 7,24.841 7,18.5 C7,12.159 12.159,7 18.5,7 C24.841,7 30,12.159 30,18.5 C30,24.841 24.841,30 18.5,30 M18.5,4 C10.505,4 4,10.505 4,18.5 C4,26.495 10.505,33 18.5,33 C26.495,33 33,26.495 33,18.5 C33,10.505 26.495,4 18.5,4"/><path d="M16.5 15.5C18.157 15.5 19.5 14.157 19.5 12.5 19.5 10.843 18.157 9.5 16.5 9.5 14.843 9.5 13.5 10.843 13.5 12.5 13.5 14.157 14.843 15.5 16.5 15.5M16.5 21.5C14.843 21.5 13.5 22.843 13.5 24.5 13.5 26.157 14.843 27.5 16.5 27.5 18.157 27.5 19.5 26.157 19.5 24.5 19.5 22.843 18.157 21.5 16.5 21.5M22.5 15.5C20.843 15.5 19.5 16.843 19.5 18.5 19.5 20.157 20.843 21.5 22.5 21.5 24.157 21.5 25.5 20.157 25.5 18.5 25.5 16.843 24.157 15.5 22.5 15.5"/></g>'}}}]);