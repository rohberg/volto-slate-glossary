(self.webpackChunk_plone_volto=self.webpackChunk_plone_volto||[]).push([[4328,2976],{"./src/components/manage/Widgets/ColorPickerWidget.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var lodash_isEqual__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isEqual.js"),lodash_isEqual__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_0__),lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isEmpty.js"),lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/collections/Form/Form.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/collections/Grid/Grid.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Button/Button.js"),react_intl__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/useIntl.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_2__.createElement;const messages=(0,react_intl__WEBPACK_IMPORTED_MODULE_3__.defineMessages)({Color:{id:"Color",defaultMessage:"Color"}}),ColorPickerWidget=props=>{const{id:id,title:title,required:required,value:value,onChange:onChange,colors:colors,className:className}=props,intl=(0,react_intl__WEBPACK_IMPORTED_MODULE_4__.c)();return react__WEBPACK_IMPORTED_MODULE_2__.useEffect((()=>{lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1___default()(props.value)&&props.default&&props.onChange(props.id,props.default)})),colors.length>0?__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__.c.Field,{inline:!0,required:required,className:className,id:"field-"+id},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__.c,null,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__.c.Row,null,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__.c.Column,{width:"12",className:"color-picker-widget",verticalAlign:"middle"},__jsx("div",{className:"wrapper"},__jsx("label",{htmlFor:`field-${id}`},title||intl.formatMessage(messages.Color)),__jsx("div",{className:"buttons"},colors.map((color=>{let colorValue;const colorName=color.name;return colorValue=void 0!==color.style?color.style:color.name,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__.c,{key:id+colorName,className:colorName,onClick:e=>{e.preventDefault(),e.stopPropagation(),onChange(id,value===colorValue?props.missing_value:colorValue)},style:color.style,active:lodash_isEqual__WEBPACK_IMPORTED_MODULE_0___default()(value,colorValue),circular:!0,"aria-label":color.label,title:color.label})})))))))):null};__webpack_exports__.default=ColorPickerWidget;try{ColorPickerWidget.displayName="ColorPickerWidget",ColorPickerWidget.__docgenInfo={description:"",displayName:"ColorPickerWidget",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},default:{defaultValue:null,description:"",name:"default",required:!1,type:{name:"string | object"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},missing_value:{defaultValue:null,description:"",name:"missing_value",required:!1,type:{name:"unknown"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(id: string, value: any) => void"}},colors:{defaultValue:null,description:"",name:"colors",required:!0,type:{name:"Color[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/manage/Widgets/ColorPickerWidget.tsx#ColorPickerWidget"]={docgenInfo:ColorPickerWidget.__docgenInfo,name:"ColorPickerWidget",path:"src/components/manage/Widgets/ColorPickerWidget.tsx#ColorPickerWidget"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/manage/Blocks/Search/widgets/SelectMetadataField.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var lodash_groupBy__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/groupBy.js"),lodash_groupBy__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_0__),lodash_toPairs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toPairs.js"),lodash_toPairs__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_toPairs__WEBPACK_IMPORTED_MODULE_1__),lodash_filter__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/filter.js"),lodash_filter__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_filter__WEBPACK_IMPORTED_MODULE_2__),lodash_map__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/map.js"),lodash_map__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_3__),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_plone_volto_helpers_Loadable_Loadable__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/helpers/Loadable/Loadable.jsx"),redux__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../../node_modules/.pnpm/redux@4.2.1/node_modules/redux/es/redux.js"),_plone_volto_components_manage_Widgets__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/manage/Widgets/index.tsx"),_hocs_withQueryString__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/manage/Blocks/Search/hocs/withQueryString.jsx"),react_intl__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/index.js"),_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/manage/Widgets/SelectStyling.jsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_4__.createElement;const identity=a=>a,messages=(0,react_intl__WEBPACK_IMPORTED_MODULE_9__.defineMessages)({select:{id:"Select…",defaultMessage:"Select…"}}),SelectWidget=props=>{var _indexes$value$value;const{choices:choices,vocabBaseUrl:vocabBaseUrl,getVocabulary:getVocabulary}=props;(0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)((()=>{!choices&&vocabBaseUrl&&getVocabulary({vocabNameOrURL:vocabBaseUrl})}),[choices,vocabBaseUrl,getVocabulary]);const{id:id,value:value,onChange:onChange,placeholder:placeholder,querystring:querystring,filterOptions:filterOptions=identity}=props,{indexes:indexes=[]}=querystring,Select=props.reactSelect.default;return __jsx(_plone_volto_components_manage_Widgets__WEBPACK_IMPORTED_MODULE_6__.ic,props,__jsx(Select,{id:`field-${id}`,name:id,placeholder:null!=placeholder?placeholder:props.intl.formatMessage(messages.select),isDisabled:!1,className:"react-select-container",classNamePrefix:"react-select",options:lodash_map__WEBPACK_IMPORTED_MODULE_3___default()(lodash_toPairs__WEBPACK_IMPORTED_MODULE_1___default()(lodash_groupBy__WEBPACK_IMPORTED_MODULE_0___default()(lodash_toPairs__WEBPACK_IMPORTED_MODULE_1___default()(filterOptions(indexes)),(item=>item[1].group))),(group=>({label:group[0],options:lodash_map__WEBPACK_IMPORTED_MODULE_3___default()(lodash_filter__WEBPACK_IMPORTED_MODULE_2___default()(group[1],(item=>item[1].enabled)),(field=>({label:field[1].title,value:field[0]})))}))),styles:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_8__.cF,theme:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_8__.qe,components:{DropdownIndicator:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_8__.y,Option:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_8__.cb},value:{value:null==value?void 0:value.value,label:null===(_indexes$value$value=indexes[null==value?void 0:value.value])||void 0===_indexes$value$value?void 0:_indexes$value$value.title},onChange:data=>{let dataValue=[];if(Array.isArray(data)){for(let obj of data)dataValue.push(obj.value);return onChange(id,dataValue)}return onChange(id,data)}}))};SelectWidget.defaultProps={description:null,required:!1,items:{vocabulary:null},widgetOptions:{vocabulary:null},error:[],choices:[],loading:!1,value:null,onChange:()=>{},onBlur:()=>{},onClick:()=>{},onEdit:null,onDelete:null},__webpack_exports__.default=(0,redux__WEBPACK_IMPORTED_MODULE_10__.compose)(_hocs_withQueryString__WEBPACK_IMPORTED_MODULE_7__.c,(0,_plone_volto_helpers_Loadable_Loadable__WEBPACK_IMPORTED_MODULE_5__.yM)(["reactSelect"]))(SelectWidget),SelectWidget.__docgenInfo={description:"SelectWidget component function.\n@function SelectWidget\n@returns {string} Markup of the component.",methods:[],displayName:"SelectWidget",props:{description:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},required:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},items:{defaultValue:{value:"{\n  vocabulary: null,\n}",computed:!1},required:!1},widgetOptions:{defaultValue:{value:"{\n  vocabulary: null,\n}",computed:!1},required:!1},error:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},choices:{defaultValue:{value:"[]",computed:!1},required:!1},loading:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"union",value:[{name:"object"},{name:"string"},{name:"bool"}]},required:!1},onChange:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onBlur:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onClick:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onEdit:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},onDelete:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},id:{description:"",type:{name:"string"},required:!0},title:{description:"",type:{name:"string"},required:!0},wrapped:{description:"",type:{name:"bool"},required:!1},querystring:{description:"",type:{name:"object"},required:!1}}}},"./src/components/manage/Widgets/AlignWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{defaultActionsInfo:function(){return defaultActionsInfo}});var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/useIntl.js"),_ButtonsWidget__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/manage/Widgets/ButtonsWidget.jsx"),_plone_volto_icons_image_left_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/icons/image-left.svg"),_plone_volto_icons_image_left_svg__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_plone_volto_icons_image_left_svg__WEBPACK_IMPORTED_MODULE_2__),_plone_volto_icons_image_right_svg__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/icons/image-right.svg"),_plone_volto_icons_image_right_svg__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_plone_volto_icons_image_right_svg__WEBPACK_IMPORTED_MODULE_3__),_plone_volto_icons_image_fit_svg__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/icons/image-fit.svg"),_plone_volto_icons_image_fit_svg__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_plone_volto_icons_image_fit_svg__WEBPACK_IMPORTED_MODULE_4__),_plone_volto_icons_image_narrow_svg__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/icons/image-narrow.svg"),_plone_volto_icons_image_narrow_svg__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_plone_volto_icons_image_narrow_svg__WEBPACK_IMPORTED_MODULE_5__),_plone_volto_icons_image_wide_svg__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/icons/image-wide.svg"),_plone_volto_icons_image_wide_svg__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_plone_volto_icons_image_wide_svg__WEBPACK_IMPORTED_MODULE_6__),_plone_volto_icons_image_full_svg__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/icons/image-full.svg"),_plone_volto_icons_image_full_svg__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_plone_volto_icons_image_full_svg__WEBPACK_IMPORTED_MODULE_7__),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const messages=(0,react_intl__WEBPACK_IMPORTED_MODULE_8__.defineMessages)({left:{id:"Left",defaultMessage:"Left"},right:{id:"Right",defaultMessage:"Right"},center:{id:"Center",defaultMessage:"Center"},narrow:{id:"Narrow",defaultMessage:"Narrow"},wide:{id:"Wide",defaultMessage:"Wide"},full:{id:"Full",defaultMessage:"Full"}}),defaultActionsInfo=({intl:intl})=>({left:[_plone_volto_icons_image_left_svg__WEBPACK_IMPORTED_MODULE_2___default(),intl.formatMessage(messages.left)],right:[_plone_volto_icons_image_right_svg__WEBPACK_IMPORTED_MODULE_3___default(),intl.formatMessage(messages.right)],center:[_plone_volto_icons_image_fit_svg__WEBPACK_IMPORTED_MODULE_4___default(),intl.formatMessage(messages.center)],narrow:[_plone_volto_icons_image_narrow_svg__WEBPACK_IMPORTED_MODULE_5___default(),intl.formatMessage(messages.narrow)],wide:[_plone_volto_icons_image_wide_svg__WEBPACK_IMPORTED_MODULE_6___default(),intl.formatMessage(messages.wide)],full:[_plone_volto_icons_image_full_svg__WEBPACK_IMPORTED_MODULE_7___default(),intl.formatMessage(messages.full)]}),AlignWidget=props=>{const intl=(0,react_intl__WEBPACK_IMPORTED_MODULE_9__.c)(),{actions:actions=["left","right","center","full"],actionsInfoMap:actionsInfoMap}=props,actionsInfo=(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_10__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_10__.c)({},defaultActionsInfo({intl:intl})),actionsInfoMap);return __jsx(_ButtonsWidget__WEBPACK_IMPORTED_MODULE_1__.default,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_11__.c)({},props,{actions:actions,actionsInfoMap:actionsInfo,defaultAction:props.defaultAction||"center"}))};__webpack_exports__.default=AlignWidget,AlignWidget.__docgenInfo={description:"",methods:[],displayName:"AlignWidget"}},"./src/components/manage/Widgets/ArrayWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ArrayWidgetComponent:function(){return ArrayWidgetComponent}});var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),lodash_isObject__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObject.js"),lodash_isObject__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_isObject__WEBPACK_IMPORTED_MODULE_0__),lodash_find__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/find.js"),lodash_find__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_find__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/injectIntl.js"),redux__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../../node_modules/.pnpm/redux@4.2.1/node_modules/redux/es/redux.js"),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/react-redux@8.1.2_@types+react-dom@18.2.12_@types+react@18.2.27_react-dom@18.2.0_react@18.2.0__react@18.2.0_redux@4.2.1/node_modules/react-redux/es/index.js"),_plone_volto_helpers_Loadable_Loadable__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/helpers/Loadable/Loadable.jsx"),_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/helpers/index.js"),_plone_volto_actions__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/actions/index.js"),_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/manage/Widgets/SelectStyling.jsx"),_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/manage/Widgets/FormFieldWrapper.jsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_2__.createElement;const messages=(0,react_intl__WEBPACK_IMPORTED_MODULE_9__.defineMessages)({select:{id:"Select…",defaultMessage:"Select…"},no_value:{id:"No value",defaultMessage:"No value"},no_options:{id:"No options",defaultMessage:"No options"}});const compareOption=(inputValue="",option,accessors)=>{const candidate=String(inputValue),optionValue=String(accessors.getOptionValue(option)),optionLabel=String(accessors.getOptionLabel(option));return optionValue===candidate||optionLabel===candidate};class ArrayWidget extends react__WEBPACK_IMPORTED_MODULE_2__.Component{constructor(props){super(props),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__.c)(this,"onSortEnd",((selectedOption,{oldIndex:oldIndex,newIndex:newIndex})=>{const newValue=function arrayMove(array,from,to){const slicedArray=array.slice();return slicedArray.splice(to<0?array.length+to:to,0,slicedArray.splice(from,1)[0]),slicedArray}(selectedOption,oldIndex,newIndex);this.handleChange(newValue)})),this.handleChange=this.handleChange.bind(this)}componentDidMount(){var _this$props$items,_this$props$items$cho,_this$props$choices;null!==(_this$props$items=this.props.items)&&void 0!==_this$props$items&&null!==(_this$props$items$cho=_this$props$items.choices)&&void 0!==_this$props$items$cho&&_this$props$items$cho.length||null!==(_this$props$choices=this.props.choices)&&void 0!==_this$props$choices&&_this$props$choices.length||!this.props.vocabBaseUrl||this.props.getVocabulary({vocabNameOrURL:this.props.vocabBaseUrl,size:-1,subrequest:this.props.lang})}componentDidUpdate(){var _this$props$items2,_this$props$items2$ch,_this$props$choices2;null!==(_this$props$items2=this.props.items)&&void 0!==_this$props$items2&&null!==(_this$props$items2$ch=_this$props$items2.choices)&&void 0!==_this$props$items2$ch&&_this$props$items2$ch.length||null!==(_this$props$choices2=this.props.choices)&&void 0!==_this$props$choices2&&_this$props$choices2.length||void 0!==this.props.vocabLoading||this.props.vocabLoaded||!this.props.vocabBaseUrl||this.props.getVocabulary({vocabNameOrURL:this.props.vocabBaseUrl,size:-1,subrequest:this.props.lang})}handleChange(selectedOption){this.props.onChange(this.props.id,selectedOption?selectedOption.map((item=>item.value)):null)}render(){var _this$props,_this$props2,_this$props$choices3,_this$props$placehold;const choices=function normalizeChoices(choices){return Array.isArray(choices)&&choices.length&&Array.isArray(choices[0])?choices.map((option=>({value:option[0],label:"None"!==option[1]&&option[1]?option[1]:option[0]}))):choices}((null===(_this$props=this.props)||void 0===_this$props?void 0:_this$props.choices)||[]),selectedOption=function normalizeArrayValue(choices,value){return value&&Array.isArray(value)?0===value.length?value:"string"==typeof value[0]?value.map((v=>{var _find2;return{label:(null===(_find2=lodash_find__WEBPACK_IMPORTED_MODULE_1___default()(choices,(c=>c.value===v)))||void 0===_find2?void 0:_find2.label)||v,value:v}})):lodash_isObject__WEBPACK_IMPORTED_MODULE_0___default()(value[0])&&Object.keys(value[0]).includes("token")?value.map((v=>{const item=lodash_find__WEBPACK_IMPORTED_MODULE_1___default()(choices,(c=>c.value===v.token));return item?{label:item.label||item.title||item.token,value:v.token}:{label:v.label,value:v.token}})).filter((f=>!!f)):[]:[]}(choices,this.props.value),CreatableSelect=this.props.reactSelectCreateable.default,{SortableContainer:SortableContainer}=this.props.reactSortableHOC,Select=this.props.reactSelect.default,SortableSelect=null===(_this$props2=this.props)||void 0===_this$props2||!_this$props2.choices||(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_5__.YB)(this.props)||this.props.creatable?SortableContainer(CreatableSelect):SortableContainer(Select);return __jsx(_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_8__.default,this.props,__jsx(SortableSelect,{useDragHandle:!0,axis:"xy",onSortEnd:sortProp=>{this.onSortEnd(selectedOption,sortProp)},menuShouldScrollIntoView:!1,distance:4,getHelperDimensions:({node:node})=>node.getBoundingClientRect(),id:`field-${this.props.id}`,"aria-labelledby":`fieldset-${this.props.fieldSet}-field-label-${this.props.id}`,key:this.props.id,isDisabled:this.props.disabled||this.props.isDisabled,className:"react-select-container",classNamePrefix:"react-select",autoFocus:this.props.focus,options:this.props.vocabBaseUrl?choices:this.props.choices?[...choices,...!this.props.noValueOption||void 0!==this.props.default&&null!==this.props.default?[]:[{label:this.props.intl.formatMessage(messages.no_value),value:"no-value"}]]:[{label:this.props.intl.formatMessage(messages.no_value),value:"no-value"}],styles:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_7__.cF,theme:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_7__.qe,components:(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__.c)({},(null===(_this$props$choices3=this.props.choices)||void 0===_this$props$choices3?void 0:_this$props$choices3.length)>25&&{MenuList:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_7__.__}),{},{MultiValueContainer:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_7__.cC,MultiValue:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_7__.sH,MultiValueLabel:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_7__.MP,DropdownIndicator:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_7__.y,ClearIndicator:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_7__.ug,Option:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_7__.cb}),value:selectedOption||[],placeholder:null!==(_this$props$placehold=this.props.placeholder)&&void 0!==_this$props$placehold?_this$props$placehold:this.props.intl.formatMessage(messages.select),onChange:this.handleChange,isValidNewOption:(inputValue,selectValue,selectOptions,accessors)=>!(!inputValue||selectValue.some((option=>compareOption(inputValue,option,accessors)))||selectOptions.some((option=>compareOption(inputValue,option,accessors)))),isClearable:!0,isMulti:!0}))}}(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__.c)(ArrayWidget,"defaultProps",{description:null,required:!1,items:{vocabulary:null},widgetOptions:{vocabulary:null},error:[],choices:[],value:null,creatable:!1});const ArrayWidgetComponent=(0,react_intl__WEBPACK_IMPORTED_MODULE_12__.cp)(ArrayWidget);__webpack_exports__.default=(0,redux__WEBPACK_IMPORTED_MODULE_13__.compose)(react_intl__WEBPACK_IMPORTED_MODULE_12__.cp,(0,_plone_volto_helpers_Loadable_Loadable__WEBPACK_IMPORTED_MODULE_4__.yM)(["reactSelect","reactSelectCreateable","reactSortableHOC"]),(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.connect)(((state,props)=>{var _state$vocabularies,_state$vocabularies$v,_state$vocabularies$v2,_props$items;const vocabBaseUrl=(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_5__.YB)(props)||(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_5__.sj)(props)||(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_5__.UL)(props),vocabState=null===(_state$vocabularies=state.vocabularies)||void 0===_state$vocabularies||null===(_state$vocabularies$v=_state$vocabularies[vocabBaseUrl])||void 0===_state$vocabularies$v||null===(_state$vocabularies$v2=_state$vocabularies$v.subrequests)||void 0===_state$vocabularies$v2?void 0:_state$vocabularies$v2[state.intl.locale];return null!==(_props$items=props.items)&&void 0!==_props$items&&_props$items.choices?{choices:props.items.choices,lang:state.intl.locale}:vocabState?{choices:vocabState.items,vocabBaseUrl:vocabBaseUrl,vocabLoading:vocabState.loading,vocabLoaded:vocabState.loaded,lang:state.intl.locale}:{vocabBaseUrl:vocabBaseUrl,lang:state.intl.locale}}),{getVocabulary:_plone_volto_actions__WEBPACK_IMPORTED_MODULE_6__.um}))(ArrayWidget),ArrayWidget.__docgenInfo={description:'ArrayWidget component class.\n@class ArrayWidget\n@extends Component\n\nA creatable select array widget will be rendered if the named vocabulary is\nin the widget definition (hint) like:\n\n```\nlist_field_voc_unconstrained = schema.List(\n    title=u"List field with values from vocabulary but not constrained to them.",\n    description=u"zope.schema.List",\n    value_type=schema.TextLine(),\n    required=False,\n    missing_value=[],\n)\ndirectives.widget(\n    "list_field_voc_unconstrained",\n    AjaxSelectFieldWidget,\n    vocabulary="plone.app.vocabularies.PortalTypes",\n)\n```',methods:[{name:"handleChange",docblock:"Handle the field change, store it in the local state and back to simple\narray of tokens for correct serialization\n@method handleChange\n@param {array} selectedOption The selected options (already aggregated).\n@returns {undefined}",modifiers:[],params:[{name:"selectedOption",description:"The selected options (already aggregated).",type:{name:"array"},optional:!1}],returns:{},description:"Handle the field change, store it in the local state and back to simple\narray of tokens for correct serialization"},{name:"onSortEnd",docblock:null,modifiers:[],params:[{name:"selectedOption",optional:!1,type:null},{name:"{ oldIndex, newIndex }",optional:!1,type:null}],returns:null}],displayName:"ArrayWidget",props:{description:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},required:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},items:{defaultValue:{value:"{\n  vocabulary: null,\n}",computed:!1},description:"",type:{name:"shape",value:{vocabulary:{name:"object",required:!1}}},required:!1},widgetOptions:{defaultValue:{value:"{\n  vocabulary: null,\n}",computed:!1},description:"",type:{name:"shape",value:{vocabulary:{name:"object",required:!1}}},required:!1},error:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},choices:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"union",value:[{name:"object"},{name:"array"}]}},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"arrayOf",value:{name:"union",value:[{name:"object"},{name:"string"}]}},required:!1},creatable:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},id:{description:"",type:{name:"string"},required:!0},title:{description:"",type:{name:"string"},required:!0},getVocabulary:{description:"",type:{name:"func"},required:!0},vocabLoading:{description:"",type:{name:"bool"},required:!1},vocabLoaded:{description:"",type:{name:"bool"},required:!1},placeholder:{description:"",type:{name:"string"},required:!1},onChange:{description:"",type:{name:"func"},required:!0},wrapped:{description:"",type:{name:"bool"},required:!1}}}},"./src/components/manage/Widgets/ButtonsWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/manage/Widgets/FormFieldWrapper.jsx"),_plone_volto_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/index.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Button/Button.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const ButtonsWidget=props=>{const{id:id,onChange:onChange,actions:actions,actionsInfoMap:actionsInfoMap,defaultAction:defaultAction,value:value}=props;return react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{!props.value&&props.default&&props.onChange(props.id,props.default)})),__jsx(_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_1__.default,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__.c)({},props,{className:"align-widget"}),__jsx("div",{className:"align-buttons"},actions.map((action=>__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__.c.Group,{key:action},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__.c,{icon:!0,basic:!0,"aria-label":actionsInfoMap[action][1],onClick:()=>onChange(id,action),active:action===defaultAction&&!value||value===action},__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_2__.GWx,{name:actionsInfoMap[action][0],title:actionsInfoMap[action][1]||action,size:"24px"})))))))};__webpack_exports__.default=ButtonsWidget,ButtonsWidget.__docgenInfo={description:"",methods:[],displayName:"ButtonsWidget"}},"./src/components/manage/Widgets/CheckboxWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/modules/Checkbox/Checkbox.js"),react_intl__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/injectIntl.js"),_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/manage/Widgets/FormFieldWrapper.jsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const CheckboxWidget=props=>{const{id:id,title:title,value:value,onChange:onChange,isDisabled:isDisabled}=props;return __jsx(_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_1__.default,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__.c)({},props,{columns:1}),__jsx("div",{className:"wrapper"},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__.c,{name:`field-${id}`,checked:value||!1,disabled:isDisabled,onChange:(event,{checked:checked})=>{onChange(id,checked)},label:__jsx("label",{htmlFor:`field-${id}`},title)})))};CheckboxWidget.defaultProps={description:null,required:!1,error:[],value:null,onChange:null,onEdit:null,onDelete:null},__webpack_exports__.default=(0,react_intl__WEBPACK_IMPORTED_MODULE_4__.cp)(CheckboxWidget),CheckboxWidget.__docgenInfo={description:"CheckboxWidget component class.\n@function CheckboxWidget\n@returns {string} Markup of the component.\n\nTo use it, in schema properties, declare a field like:\n\n```jsx\n{\n title: \"Active\",\n type: 'boolean',\n}\n```",methods:[],displayName:"CheckboxWidget",props:{description:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"union",value:[{name:"string"},{name:"object"}]},required:!1},required:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},error:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"bool"},required:!1},onChange:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},onEdit:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},onDelete:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},id:{description:"",type:{name:"string"},required:!0},title:{description:"",type:{name:"union",value:[{name:"string"},{name:"object"}]},required:!0},wrapped:{description:"",type:{name:"bool"},required:!1}}}},"./src/components/manage/Widgets/EmailWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js"),_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/manage/Widgets/FormFieldWrapper.jsx"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Input/Input.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const EmailWidget=props=>{const{id:id,value:value,onChange:onChange,onBlur:onBlur,onClick:onClick,minLength:minLength,maxLength:maxLength,placeholder:placeholder,isDisabled:isDisabled}=props,inputId=`field-${id}`;return __jsx(_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_1__.default,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__.c)({},props,{className:"email"}),__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__.c,{id:inputId,name:id,type:"email",value:value||"",disabled:isDisabled,placeholder:placeholder,onChange:({target:target})=>onChange(id,""===target.value?void 0:target.value),onBlur:({target:target})=>onBlur(id,""===target.value?void 0:target.value),onClick:()=>onClick(),minLength:minLength||null,maxLength:maxLength||null}))};EmailWidget.defaultProps={description:null,required:!1,error:[],value:null,onChange:()=>{},onBlur:()=>{},onClick:()=>{},minLength:null,maxLength:null},__webpack_exports__.default=EmailWidget,EmailWidget.__docgenInfo={description:"EmailWidget, a widget for email addresses\n\nTo use it, in schema properties, declare a field like:\n\n```jsx\n{\n title: \"Email\",\n widget: 'email',\n}\n```",methods:[],displayName:"EmailWidget",props:{description:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},required:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},error:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},onChange:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onBlur:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onClick:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},minLength:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"number"},required:!1},maxLength:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"number"},required:!1},id:{description:"",type:{name:"string"},required:!0},title:{description:"",type:{name:"string"},required:!0},placeholder:{description:"",type:{name:"string"},required:!1}}}},"./src/components/manage/Widgets/FileWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/modules/Dimmer/Dimmer.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Image/Image.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Button/Button.js"),promise_file_reader__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/promise-file-reader@1.0.2/node_modules/promise-file-reader/PromiseFileReader.js"),promise_file_reader__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(promise_file_reader__WEBPACK_IMPORTED_MODULE_1__),react_intl__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/injectIntl.js"),_plone_volto_icons_delete_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/icons/delete.svg"),_plone_volto_icons_delete_svg__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_plone_volto_icons_delete_svg__WEBPACK_IMPORTED_MODULE_2__),_plone_volto_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/index.js"),_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/manage/Widgets/FormFieldWrapper.jsx"),_loadable_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/.pnpm/@loadable+component@5.14.1_react@18.2.0/node_modules/@loadable/component/dist/loadable.esm.js"),_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/helpers/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/useIntl.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const imageMimetypes=["image/png","image/jpeg","image/webp","image/jpg","image/gif","image/svg+xml"],Dropzone=(0,_loadable_component__WEBPACK_IMPORTED_MODULE_5__.cp)({resolved:{},chunkName(){return"react-dropzone"},isReady(props){const key=this.resolve(props);return!0===this.resolved[key]&&!!__webpack_require__.m[key]},importAsync:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"../../../node_modules/.pnpm/react-dropzone@11.1.0_react@18.2.0/node_modules/react-dropzone/dist/es/index.js")),requireAsync(props){const key=this.resolve(props);return this.resolved[key]=!1,this.importAsync(props).then((resolved=>(this.resolved[key]=!0,resolved)))},requireSync(props){const id=this.resolve(props);return __webpack_require__(id)},resolve(){return"../../../node_modules/.pnpm/react-dropzone@11.1.0_react@18.2.0/node_modules/react-dropzone/dist/es/index.js"}}),messages=(0,react_intl__WEBPACK_IMPORTED_MODULE_7__.defineMessages)({releaseDrag:{id:"Drop files here ...",defaultMessage:"Drop files here ..."},editFile:{id:"Drop file here to replace the existing file",defaultMessage:"Drop file here to replace the existing file"},fileDrag:{id:"Drop file here to upload a new file",defaultMessage:"Drop file here to upload a new file"},replaceFile:{id:"Replace existing file",defaultMessage:"Replace existing file"},addNewFile:{id:"Choose a file",defaultMessage:"Choose a file"}}),FileWidget=props=>{const{id:id,value:value,onChange:onChange,isDisabled:isDisabled}=props,[fileType,setFileType]=react__WEBPACK_IMPORTED_MODULE_0__.useState(!1),intl=(0,react_intl__WEBPACK_IMPORTED_MODULE_8__.c)();react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{value&&imageMimetypes.includes(value["content-type"])&&setFileType(!0)}),[value]);const imgsrc=null!=value&&value.download?`${(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_6__._c)(null==value?void 0:value.download)}?id=${Date.now()}`:null!=value&&value.data?`data:${value["content-type"]};${value.encoding},${value.data}`:null;return __jsx(_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_4__.default,props,__jsx(Dropzone,{onDrop:files=>{const file=files[0];if(!(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_6__.my)(file,intl.formatMessage))return;(0,promise_file_reader__WEBPACK_IMPORTED_MODULE_1__.readAsDataURL)(file).then((data=>{const fields=data.match(/^data:(.*);(.*),(.*)$/);onChange(id,{data:fields[3],encoding:fields[2],"content-type":fields[1],filename:file.name})}));let reader=new FileReader;reader.onload=function(){const fields=reader.result.match(/^data:(.*);(.*),(.*)$/);if(imageMimetypes.includes(fields[1])){setFileType(!0);let imagePreview=document.getElementById(`field-${id}-image`);imagePreview&&(imagePreview.src=reader.result)}else setFileType(!1)},reader.readAsDataURL(files[0])}},(({getRootProps:getRootProps,getInputProps:getInputProps,isDragActive:isDragActive})=>__jsx("div",(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_9__.c)({className:"file-widget-dropzone"},getRootProps()),isDragActive&&__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_10__.c,{active:!0}),fileType?__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_11__.c,{className:"image-preview",id:`field-${id}-image`,size:"small",src:imgsrc}):__jsx("div",{className:"dropzone-placeholder"},__jsx("p",{className:"dropzone-text"},isDragActive?intl.formatMessage(messages.releaseDrag):value?intl.formatMessage(messages.editFile):intl.formatMessage(messages.fileDrag))),__jsx("label",{className:"label-file-widget-input"},value?intl.formatMessage(messages.replaceFile):intl.formatMessage(messages.addNewFile)),__jsx("input",(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_9__.c)({},getInputProps({type:"file",style:{display:"none"}}),{id:`field-${id}`,name:id,type:"file",disabled:isDisabled}))))),__jsx("div",{className:"field-file-name"},value&&__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_3__.GQK,{href:value.download,download:!0},value.filename),value&&__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_12__.c,{type:"button",icon:!0,basic:!0,className:"delete-button","aria-label":"delete file",disabled:isDisabled,onClick:()=>{onChange(id,null),setFileType(!1)}},__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_3__.GWx,{name:_plone_volto_icons_delete_svg__WEBPACK_IMPORTED_MODULE_2___default(),size:"20px"}))))};FileWidget.defaultProps={description:null,required:!1,error:[],value:null},__webpack_exports__.default=(0,react_intl__WEBPACK_IMPORTED_MODULE_13__.cp)(FileWidget),FileWidget.__docgenInfo={description:"FileWidget component class.\n@function FileWidget\n@returns {string} Markup of the component.\n\nTo use it, in schema properties, declare a field like:\n\n```jsx\n{\n title: \"File\",\n widget: 'file',\n}\n```\nor:\n\n```jsx\n{\n title: \"File\",\n type: 'object',\n}\n```",methods:[],displayName:"FileWidget",props:{description:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},required:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},error:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"shape",value:{"@type":{name:"string",required:!1},title:{name:"string",required:!1}}},required:!1},id:{description:"",type:{name:"string"},required:!0},title:{description:"",type:{name:"string"},required:!0},onChange:{description:"",type:{name:"func"},required:!0},wrapped:{description:"",type:{name:"bool"},required:!1}}}},"./src/components/manage/Widgets/IdWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),lodash_uniq__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/uniq.js"),lodash_uniq__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_uniq__WEBPACK_IMPORTED_MODULE_0__),lodash_union__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/union.js"),lodash_union__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_union__WEBPACK_IMPORTED_MODULE_1__),lodash_map__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/map.js"),lodash_map__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_2__),lodash_keys__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/keys.js"),lodash_keys__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash_keys__WEBPACK_IMPORTED_MODULE_3__),lodash_concat__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/concat.js"),lodash_concat__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(lodash_concat__WEBPACK_IMPORTED_MODULE_4__),lodash_compact__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/compact.js"),lodash_compact__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(lodash_compact__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/.pnpm/react-redux@8.1.2_@types+react-dom@18.2.12_@types+react@18.2.27_react-dom@18.2.0_react@18.2.0__react@18.2.0_redux@4.2.1/node_modules/react-redux/es/index.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Input/Input.js"),react_intl__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/useIntl.js"),_plone_volto_components__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/index.js"),_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/manage/Widgets/FormFieldWrapper.jsx"),_plone_volto_registry__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/registry.js"),_plone_volto_actions__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/actions/index.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_6__.createElement;const messages=(0,react_intl__WEBPACK_IMPORTED_MODULE_12__.defineMessages)({reservedId:{id:"This is a reserved name and can't be used",defaultMessage:"This is a reserved name and can't be used"},invalidCharacters:{id:'Only 7-bit bytes characters are allowed. Cannot contain uppercase letters, special characters: <, >, &, #, /, ?, or others that are illegal in URLs. Cannot start with: _, aq_, @@, ++. Cannot end with __. Cannot be: request,contributors, ., .., "". Cannot contain new lines.',defaultMessage:'Only 7-bit bytes characters are allowed. Cannot contain uppercase letters, special characters: <, >, &, #, /, ?, or others that are illegal in URLs. Cannot start with: _, aq_, @@, ++. Cannot end with __. Cannot be: request,contributors, ., .., "". Cannot contain new lines.'}}),IdWidget=props=>{const{id:id,onClick:onClick,icon:icon,iconAction:iconAction,minLength:minLength,maxLength:maxLength,onBlur:onBlur,value:value,focus:focus,isDisabled:isDisabled,placeholder:placeholder,onChange:onChange}=props,intl=(0,react_intl__WEBPACK_IMPORTED_MODULE_13__.c)(),dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_7__.useDispatch)(),ref=(0,react__WEBPACK_IMPORTED_MODULE_6__.useRef)(),indexes=(0,react_redux__WEBPACK_IMPORTED_MODULE_7__.useSelector)((state=>lodash_keys__WEBPACK_IMPORTED_MODULE_3___default()(state.querystring.indexes))),{0:errors,1:setError}=(0,react__WEBPACK_IMPORTED_MODULE_6__.useState)([]),{0:reservedIds}=(0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(lodash_compact__WEBPACK_IMPORTED_MODULE_5___default()(lodash_uniq__WEBPACK_IMPORTED_MODULE_0___default()(lodash_union__WEBPACK_IMPORTED_MODULE_1___default()(_plone_volto_registry__WEBPACK_IMPORTED_MODULE_10__.default.settings.reservedIds,lodash_map__WEBPACK_IMPORTED_MODULE_2___default()(_plone_volto_registry__WEBPACK_IMPORTED_MODULE_10__.default.settings.nonContentRoutes,(route=>String(route).replace(/[^a-z-]/g,""))))))),fieldValidation=values=>{const error=[];-1!==reservedIds.indexOf(values)&&error.push(intl.formatMessage(messages.reservedId)),/^(?!.*\\)(?!\+\+)(?!@@)(?!.*request)(?!.*contributors)(?!aq_)(?!.*__)(?!_)(?!((^|\/)\.\.?($|\/)|^"\s*"$))(?!.*[A-Z])(?:(?![\r\n<>/?&#\x00-\x1F\x7F])['\x00-\x7F\u0080-\uFFFF. _])*$/.test(values)||error.push(intl.formatMessage(messages.invalidCharacters)),-1!==indexes.indexOf(values)&&error.push(intl.formatMessage(messages.reservedId)),setError(error)};(0,react__WEBPACK_IMPORTED_MODULE_6__.useEffect)((()=>{focus&&ref.current.focus(),dispatch((0,_plone_volto_actions__WEBPACK_IMPORTED_MODULE_11__.m2)()),fieldValidation(value)}),[focus,value,dispatch]);return props=(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__.c)({},props),{},{error:lodash_concat__WEBPACK_IMPORTED_MODULE_4___default()(props.error,errors)}),__jsx(_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_9__.default,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_15__.c)({},props,{className:"text"}),__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_16__.c,{id:`field-${id}`,name:id,value:value||"",disabled:isDisabled,icon:icon||null,placeholder:placeholder,onChange:({target:target})=>{fieldValidation(target.value),onChange(id,""===target.value?void 0:target.value)},onBlur:({target:target})=>{fieldValidation(target.value),onBlur(id,""===target.value?void 0:target.value)},onClick:()=>onClick(),ref:ref,minLength:minLength||null,maxLength:maxLength||null}),icon&&iconAction&&__jsx("button",{className:`field-${id}-action-button`,onClick:iconAction},__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_8__.GWx,{name:icon,size:"18px"})))};__webpack_exports__.default=IdWidget,IdWidget.defaultProps={description:null,required:!1,error:[],value:null,onChange:()=>{},onBlur:()=>{},onClick:()=>{},onEdit:null,onDelete:null,focus:!1,icon:null,iconAction:null,minLength:null,maxLength:null},IdWidget.__docgenInfo={description:"",methods:[],displayName:"IdWidget",props:{description:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},required:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},error:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},onChange:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onBlur:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onClick:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onEdit:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},onDelete:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},focus:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},icon:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"shape",value:{xmlns:{name:"string",required:!1},viewBox:{name:"string",required:!1},content:{name:"string",required:!1}}},required:!1},iconAction:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},minLength:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"number"},required:!1},maxLength:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"number"},required:!1},id:{description:"",type:{name:"string"},required:!0},title:{description:"",type:{name:"string"},required:!0},wrapped:{description:"",type:{name:"bool"},required:!1},placeholder:{description:"",type:{name:"string"},required:!1}}}},"./src/components/manage/Widgets/ImageSizeWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/injectIntl.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/collections/Grid/Grid.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Button/Button.js"),_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/manage/Widgets/FormFieldWrapper.jsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const messages=(0,react_intl__WEBPACK_IMPORTED_MODULE_2__.defineMessages)({small:{id:"Small",defaultMessage:"Small"},medium:{id:"Medium",defaultMessage:"Medium"},large:{id:"Large",defaultMessage:"Large"}}),ImageSizeWidget=props=>{const{onChange:onChange,id:id,disabled:disabled,intl:intl,value:value,isDisabled:isDisabled}=props;return __jsx(_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_1__.default,props,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__.c,null,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__.c.Row,null,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__.c.Column,{width:"8",className:"field-image_size"},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__.c.Group,null,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__.c,{icon:!0,basic:!0,"aria-label":intl.formatMessage(messages.small),onClick:()=>onChange(id,"s"),active:"s"===value,disabled:disabled||isDisabled},__jsx("div",{className:"image-sizes-text"},"S"))),__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__.c.Group,null,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__.c,{icon:!0,basic:!0,"aria-label":intl.formatMessage(messages.medium),onClick:()=>onChange(id,"m"),active:"m"===value,disabled:disabled||isDisabled},__jsx("div",{className:"image-sizes-text"},"M"))),__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__.c.Group,null,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__.c,{icon:!0,basic:!0,"aria-label":intl.formatMessage(messages.large),onClick:()=>onChange(id,"l"),active:"l"===value||void 0===value,disabled:disabled||isDisabled},__jsx("div",{className:"image-sizes-text"},"L")))))))};ImageSizeWidget.defaultProps={onChange:()=>{}},__webpack_exports__.default=(0,react_intl__WEBPACK_IMPORTED_MODULE_5__.cp)(ImageSizeWidget),ImageSizeWidget.__docgenInfo={description:"",methods:[],displayName:"ImageSizeWidget",props:{onChange:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},value:{description:"",type:{name:"string"},required:!1},id:{description:"",type:{name:"string"},required:!0}}}},"./src/components/manage/Widgets/InternalUrlWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{InternalUrlWidget:function(){return InternalUrlWidget}});var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Input/Input.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Button/Button.js"),_plone_volto_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/index.js"),_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/manage/Widgets/FormFieldWrapper.jsx"),_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/helpers/index.js"),_plone_volto_components_manage_Sidebar_ObjectBrowser__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/manage/Sidebar/ObjectBrowser.jsx"),_plone_volto_icons_clear_svg__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/icons/clear.svg"),_plone_volto_icons_clear_svg__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_plone_volto_icons_clear_svg__WEBPACK_IMPORTED_MODULE_5__),_plone_volto_icons_nav_svg__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/icons/nav.svg"),_plone_volto_icons_nav_svg__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_plone_volto_icons_nav_svg__WEBPACK_IMPORTED_MODULE_6__),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const InternalUrlWidget=props=>{const{id:id,onChange:onChange,onBlur:onBlur,onClick:onClick,minLength:minLength,maxLength:maxLength,placeholder:placeholder,isDisabled:isDisabled,value:value}=props,inputId=`field-${id}`,{0:isInvalid,1:setIsInvalid}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),onChangeValue=_value=>{var _newValue;let newValue=_value;if((null===(_newValue=newValue)||void 0===_newValue?void 0:_newValue.length)>0&&(isInvalid&&_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__.UD.isUrl(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__.UD.normalizeUrl(newValue))&&setIsInvalid(!1),(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__.Q5)(newValue)&&(newValue=(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__._c)(newValue))),newValue=(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__.Q5)(newValue)?(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__._c)(newValue):newValue,!(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__.Q5)(newValue)&&newValue.length>0){const checkedURL=_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__.UD.checkAndNormalizeUrl(newValue);newValue=checkedURL.url,checkedURL.isValid||setIsInvalid(!0)}onChange(id,newValue)};return __jsx(_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_2__.default,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_7__.c)({},props,{className:"url wide"}),__jsx("div",{className:"wrapper"},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__.c,{id:inputId,name:id,type:"url",value:value||"",disabled:isDisabled,placeholder:placeholder,onChange:({target:target})=>onChangeValue(target.value),onBlur:({target:target})=>onBlur(id,target.value),onClick:()=>onClick(),minLength:minLength,maxLength:maxLength,error:isInvalid}),(null==value?void 0:value.length)>0?__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_9__.c.Group,null,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_9__.c,{basic:!0,className:"cancel","aria-label":"clearUrlBrowser",onClick:e=>{e.preventDefault(),e.stopPropagation(),onChange(id,"")}},__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_1__.GWx,{name:_plone_volto_icons_clear_svg__WEBPACK_IMPORTED_MODULE_5___default(),size:"30px"}))):__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_9__.c.Group,null,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_9__.c,{basic:!0,icon:!0,"aria-label":"openUrlBrowser",onClick:e=>{e.preventDefault(),e.stopPropagation(),props.openObjectBrowser({mode:"link",overlay:!0,onSelectItem:url=>{onChangeValue(url)}})}},__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_1__.GWx,{name:_plone_volto_icons_nav_svg__WEBPACK_IMPORTED_MODULE_6___default(),size:"24px"})))))};InternalUrlWidget.defaultProps={description:null,required:!1,error:[],value:null,onChange:()=>{},onBlur:()=>{},onClick:()=>{},minLength:null,maxLength:null},__webpack_exports__.default=(0,_plone_volto_components_manage_Sidebar_ObjectBrowser__WEBPACK_IMPORTED_MODULE_4__.c)(InternalUrlWidget),InternalUrlWidget.__docgenInfo={description:"Widget to edit urls\n\nThis is a widget used for getting and setting an internal url. You can also use\nit by declaring a field like:\n\n```jsx\n{\n title: \"URL\",\n widget: 'internal_url',\n}\n```",methods:[],displayName:"InternalUrlWidget",props:{description:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},required:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},error:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},onChange:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onBlur:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onClick:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},minLength:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"number"},required:!1},maxLength:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"number"},required:!1},id:{description:"",type:{name:"string"},required:!0},title:{description:"",type:{name:"string"},required:!0},openObjectBrowser:{description:"",type:{name:"func"},required:!0},placeholder:{description:"",type:{name:"string"},required:!1}}}},"./src/components/manage/Widgets/NumberWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Input/Input.js"),_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/manage/Widgets/FormFieldWrapper.jsx"),react_intl__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/injectIntl.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const NumberWidget=props=>{const{id:id,value:value,onChange:onChange,onBlur:onBlur,onClick:onClick,isDisabled:isDisabled,maximum:maximum,minimum:minimum,placeholder:placeholder,step:step}=props;return __jsx(_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_1__.default,props,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__.c,{id:`field-${id}`,name:id,type:"number",disabled:isDisabled,min:minimum||null,max:maximum||null,step:step,value:null!=value?value:"",placeholder:placeholder,onChange:({target:target})=>onChange(id,""===target.value?void 0:target.value),onBlur:({target:target})=>onBlur(id,""===target.value?void 0:target.value),onClick:()=>onClick()}))};NumberWidget.defaultProps={description:null,required:!1,error:[],value:null,onChange:()=>{},onBlur:()=>{},onClick:()=>{}},__webpack_exports__.default=(0,react_intl__WEBPACK_IMPORTED_MODULE_3__.cp)(NumberWidget),NumberWidget.__docgenInfo={description:"NumberWidget component class.\n\nTo use it, in schema properties, declare a field like:\n\n```jsx\n{\n title: \"Number\",\n type: 'number',\n}\n```",methods:[],displayName:"NumberWidget",props:{description:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"union",value:[{name:"string"},{name:"object"}]},required:!1},required:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},error:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1},onChange:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onBlur:{defaultValue:{value:"() => {}",computed:!1},required:!1},onClick:{defaultValue:{value:"() => {}",computed:!1},required:!1},id:{description:"",type:{name:"string"},required:!0},title:{description:"",type:{name:"string"},required:!0},wrapped:{description:"",type:{name:"bool"},required:!1},maximum:{description:"",type:{name:"number"},required:!1},minimum:{description:"",type:{name:"number"},required:!1},step:{description:"",type:{name:"number"},required:!1},placeholder:{description:"",type:{name:"string"},required:!1}}}},"./src/components/manage/Widgets/ObjectBrowserWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ObjectBrowserWidgetComponent:function(){return ObjectBrowserWidgetComponent},ObjectBrowserWidgetMode:function(){return ObjectBrowserWidgetMode}});var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),lodash_remove__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/remove.js"),lodash_remove__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_remove__WEBPACK_IMPORTED_MODULE_0__),lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isEmpty.js"),lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1__),lodash_isArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArray.js"),lodash_isArray__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_isArray__WEBPACK_IMPORTED_MODULE_2__),lodash_includes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/includes.js"),lodash_includes__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash_includes__WEBPACK_IMPORTED_MODULE_3__),lodash_compact__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/compact.js"),lodash_compact__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(lodash_compact__WEBPACK_IMPORTED_MODULE_4__),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),redux__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("../../../node_modules/.pnpm/redux@4.2.1/node_modules/redux/es/redux.js"),react_redux__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../../node_modules/.pnpm/react-redux@8.1.2_@types+react-dom@18.2.12_@types+react@18.2.27_react-dom@18.2.0_react@18.2.0__react@18.2.0_redux@4.2.1/node_modules/react-redux/es/index.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/modules/Popup/Popup.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Label/Label.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Image/Image.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Button/Button.js"),_plone_volto_helpers_Url_Url__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/helpers/Url/Url.js"),_plone_volto_actions_search_search__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/actions/search/search.js"),_plone_volto_components_manage_Sidebar_ObjectBrowser__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/manage/Sidebar/ObjectBrowser.jsx"),react_intl__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/injectIntl.js"),_plone_volto_components_theme_Icon_Icon__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/components/theme/Icon/Icon.jsx"),_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/components/manage/Widgets/FormFieldWrapper.jsx"),_plone_volto_registry__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/registry.js"),_plone_volto_icons_nav_svg__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/icons/nav.svg"),_plone_volto_icons_nav_svg__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_plone_volto_icons_nav_svg__WEBPACK_IMPORTED_MODULE_13__),_plone_volto_icons_clear_svg__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/icons/clear.svg"),_plone_volto_icons_clear_svg__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_plone_volto_icons_clear_svg__WEBPACK_IMPORTED_MODULE_14__),_plone_volto_icons_home_svg__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/icons/home.svg"),_plone_volto_icons_home_svg__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(_plone_volto_icons_home_svg__WEBPACK_IMPORTED_MODULE_15__),_plone_volto_icons_ahead_svg__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/icons/ahead.svg"),_plone_volto_icons_ahead_svg__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(_plone_volto_icons_ahead_svg__WEBPACK_IMPORTED_MODULE_16__),_plone_volto_icons_blank_svg__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./src/icons/blank.svg"),_plone_volto_icons_blank_svg__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(_plone_volto_icons_blank_svg__WEBPACK_IMPORTED_MODULE_17__),react_router__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("../../../node_modules/.pnpm/react-router@5.2.0_react@18.2.0/node_modules/react-router/esm/react-router.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_5__.createElement;const messages=(0,react_intl__WEBPACK_IMPORTED_MODULE_18__.defineMessages)({placeholder:{id:"No items selected",defaultMessage:"No items selected"},edit:{id:"Edit",defaultMessage:"Edit"},delete:{id:"Delete",defaultMessage:"Delete"},openObjectBrowser:{id:"Open object browser",defaultMessage:"Open object browser"}});class ObjectBrowserWidgetComponent extends react__WEBPACK_IMPORTED_MODULE_5__.Component{constructor(props){super(props),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_19__.c)(this,"state",{manualLinkInput:"",validURL:!1}),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_19__.c)(this,"removeItem",(item=>{let value=[...this.props.value];lodash_remove__WEBPACK_IMPORTED_MODULE_0___default()(value,(function(_item){return _item["@id"]===item["@id"]})),this.props.onChange(this.props.id,value)})),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_19__.c)(this,"onChange",(item=>{var _this$props$widgetOpt,_this$props$widgetOpt2;let value="multiple"===this.props.mode&&this.props.value?[...this.props.value]:[];value=value.filter((item=>null!=item));1===((null===(_this$props$widgetOpt=this.props.widgetOptions)||void 0===_this$props$widgetOpt||null===(_this$props$widgetOpt2=_this$props$widgetOpt.pattern_options)||void 0===_this$props$widgetOpt2?void 0:_this$props$widgetOpt2.maximumSelectionSize)||-1)&&1===value.length&&(value=[]);let exists=!1,index=-1;if(value.forEach(((_item,_index)=>{(0,_plone_volto_helpers_Url_Url__WEBPACK_IMPORTED_MODULE_7__._c)(_item["@id"])===(0,_plone_volto_helpers_Url_Url__WEBPACK_IMPORTED_MODULE_7__._c)(item["@id"])&&(exists=!0,index=_index)})),exists)value.splice(index,1),this.props.onChange(this.props.id,value);else{let resultantItem=item;if(this.props.selectedItemAttrs){const allowedItemKeys=[...this.props.selectedItemAttrs,"@id","title"];resultantItem=Object.keys(item).filter((key=>allowedItemKeys.includes(key))).reduce(((obj,key)=>(obj[key]=item[key],obj)),{})}resultantItem=(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_20__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_20__.c)({},resultantItem),{},{"@id":item["@id"]}),value.push(resultantItem),"single"===this.props.return?this.props.onChange(this.props.id,value[0]):this.props.onChange(this.props.id,value)}})),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_19__.c)(this,"onManualLinkInput",(e=>{this.setState({manualLinkInput:e.target.value}),this.validateManualLink(e.target.value)?this.setState({validURL:!0}):this.setState({validURL:!1})})),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_19__.c)(this,"validateManualLink",(url=>this.props.allowExternals?(0,_plone_volto_helpers_Url_Url__WEBPACK_IMPORTED_MODULE_7__.g9)(url):(0,_plone_volto_helpers_Url_Url__WEBPACK_IMPORTED_MODULE_7__.Q5)(url))),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_19__.c)(this,"onSubmitManualLink",(()=>{if(this.validateManualLink(this.state.manualLinkInput)){if((0,_plone_volto_helpers_Url_Url__WEBPACK_IMPORTED_MODULE_7__.Q5)(this.state.manualLinkInput)){const link=this.state.manualLinkInput;this.props.searchContent("/",{"path.query":(0,_plone_volto_helpers_Url_Url__WEBPACK_IMPORTED_MODULE_7__._c)(this.state.manualLinkInput),"path.depth":"0",sort_on:"getObjPositionInParent",metadata_fields:"_all",b_size:1e3},`${this.props.block}-${this.props.mode}`).then((resp=>{var _resp$items;(null===(_resp$items=resp.items)||void 0===_resp$items?void 0:_resp$items.length)>0?this.onChange(resp.items[0]):this.props.onChange(this.props.id,[{"@id":(0,_plone_volto_helpers_Url_Url__WEBPACK_IMPORTED_MODULE_7__._c)(link),title:(0,_plone_volto_helpers_Url_Url__WEBPACK_IMPORTED_MODULE_7__.Uf)(link)}])}))}else this.props.onChange(this.props.id,[{"@id":(0,_plone_volto_helpers_Url_Url__WEBPACK_IMPORTED_MODULE_7__.mq)(this.state.manualLinkInput),title:(0,_plone_volto_helpers_Url_Url__WEBPACK_IMPORTED_MODULE_7__.Uf)(this.state.manualLinkInput)}]);this.setState({validURL:!0,manualLinkInput:""})}})),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_19__.c)(this,"onKeyDownManualLink",(e=>{"Enter"===e.key?(e.preventDefault(),e.stopPropagation(),this.onSubmitManualLink()):"Escape"===e.key&&(e.preventDefault(),e.stopPropagation())})),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_19__.c)(this,"showObjectBrowser",(ev=>{var _this$props$widgetOpt3,_this$props$widgetOpt4,_this$props$widgetOpt5,_this$props$widgetOpt6;ev.preventDefault(),this.props.openObjectBrowser({mode:this.props.mode,currentPath:this.props.initialPath||this.props.location.pathname,propDataName:"value",onSelectItem:(url,item)=>{this.onChange(item)},selectableTypes:(null===(_this$props$widgetOpt3=this.props.widgetOptions)||void 0===_this$props$widgetOpt3||null===(_this$props$widgetOpt4=_this$props$widgetOpt3.pattern_options)||void 0===_this$props$widgetOpt4?void 0:_this$props$widgetOpt4.selectableTypes)||this.props.selectableTypes,maximumSelectionSize:(null===(_this$props$widgetOpt5=this.props.widgetOptions)||void 0===_this$props$widgetOpt5||null===(_this$props$widgetOpt6=_this$props$widgetOpt5.pattern_options)||void 0===_this$props$widgetOpt6?void 0:_this$props$widgetOpt6.maximumSelectionSize)||this.props.maximumSelectionSize})})),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_19__.c)(this,"handleSelectedItemsRefClick",(e=>{this.props.isDisabled||(e.target.contains(this.selectedItemsRef.current)||e.target.contains(this.placeholderRef.current))&&this.showObjectBrowser(e)})),this.selectedItemsRef=react__WEBPACK_IMPORTED_MODULE_5__.createRef(),this.placeholderRef=react__WEBPACK_IMPORTED_MODULE_5__.createRef()}renderLabel(item){const href=item["@id"];return __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_21__.c,{key:(0,_plone_volto_helpers_Url_Url__WEBPACK_IMPORTED_MODULE_7__._c)(href),content:__jsx("div",{style:{display:"flex"}},(0,_plone_volto_helpers_Url_Url__WEBPACK_IMPORTED_MODULE_7__.Q5)(href)?__jsx(_plone_volto_components_theme_Icon_Icon__WEBPACK_IMPORTED_MODULE_10__.c,{name:_plone_volto_icons_home_svg__WEBPACK_IMPORTED_MODULE_15___default(),size:"18px"}):__jsx(_plone_volto_components_theme_Icon_Icon__WEBPACK_IMPORTED_MODULE_10__.c,{name:_plone_volto_icons_blank_svg__WEBPACK_IMPORTED_MODULE_17___default(),size:"18px"})," ",(0,_plone_volto_helpers_Url_Url__WEBPACK_IMPORTED_MODULE_7__._c)(href)),trigger:__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_22__.c,null,__jsx("div",{className:"item-title"},lodash_includes__WEBPACK_IMPORTED_MODULE_3___default()(_plone_volto_registry__WEBPACK_IMPORTED_MODULE_12__.default.settings.imageObjects,item["@type"])?__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_23__.c,{size:"small",src:`${item["@id"]}/@@images/image/thumb`}):item.title),__jsx("div",null,"multiple"===this.props.mode&&__jsx(_plone_volto_components_theme_Icon_Icon__WEBPACK_IMPORTED_MODULE_10__.c,{name:_plone_volto_icons_clear_svg__WEBPACK_IMPORTED_MODULE_14___default(),size:"12px",className:"right",onClick:event=>{event.preventDefault(),this.removeItem(item)}})))})}render(){var _this$props$placehold,_this$props$placehold2;const{id:id,description:description,fieldSet:fieldSet,value:value,mode:mode,onChange:onChange,isDisabled:isDisabled}=this.props;let items=lodash_compact__WEBPACK_IMPORTED_MODULE_4___default()(!lodash_isArray__WEBPACK_IMPORTED_MODULE_2___default()(value)&&value?[value]:value||[]),icon="multiple"===mode||0===items.length?_plone_volto_icons_nav_svg__WEBPACK_IMPORTED_MODULE_13___default():_plone_volto_icons_clear_svg__WEBPACK_IMPORTED_MODULE_14___default(),iconAction="multiple"===mode||0===items.length?this.showObjectBrowser:e=>{e.preventDefault(),onChange(id,"single"===this.props.return?null:[])};return __jsx(_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_11__.default,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_24__.c)({},this.props,{className:description?"help text":"text"}),__jsx("div",{className:"objectbrowser-field","aria-labelledby":`fieldset-${fieldSet||"default"}-field-label-${id}`},__jsx("div",{className:"selected-values",onClick:this.handleSelectedItemsRefClick,onKeyDown:this.handleSelectedItemsRefClick,role:"searchbox",tabIndex:0,ref:this.selectedItemsRef},items.map((item=>this.renderLabel(item))),0===items.length&&"multiple"===this.props.mode&&__jsx("div",{className:"placeholder",ref:this.placeholderRef},null!==(_this$props$placehold=this.props.placeholder)&&void 0!==_this$props$placehold?_this$props$placehold:this.props.intl.formatMessage(messages.placeholder)),this.props.allowExternals&&0===items.length&&"multiple"!==this.props.mode&&__jsx("input",{onKeyDown:this.onKeyDownManualLink,onChange:this.onManualLinkInput,value:this.state.manualLinkInput,placeholder:null!==(_this$props$placehold2=this.props.placeholder)&&void 0!==_this$props$placehold2?_this$props$placehold2:this.props.intl.formatMessage(messages.placeholder)})),this.state.manualLinkInput&&lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1___default()(items)&&__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_25__.c.Group,null,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_25__.c,{basic:!0,className:"cancel",onClick:e=>{e.stopPropagation(),this.setState({manualLinkInput:""})}},__jsx(_plone_volto_components_theme_Icon_Icon__WEBPACK_IMPORTED_MODULE_10__.c,{name:_plone_volto_icons_clear_svg__WEBPACK_IMPORTED_MODULE_14___default(),size:"18px",color:"#e40166"})),__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_25__.c,{basic:!0,primary:!0,disabled:!this.state.validURL,onClick:e=>{e.stopPropagation(),this.onSubmitManualLink()}},__jsx(_plone_volto_components_theme_Icon_Icon__WEBPACK_IMPORTED_MODULE_10__.c,{name:_plone_volto_icons_ahead_svg__WEBPACK_IMPORTED_MODULE_16___default(),size:"18px"}))),!this.state.manualLinkInput&&__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_25__.c,{"aria-label":this.props.intl.formatMessage(messages.openObjectBrowser),onClick:iconAction,className:"action",disabled:isDisabled},__jsx(_plone_volto_components_theme_Icon_Icon__WEBPACK_IMPORTED_MODULE_10__.c,{name:icon,size:"18px"}))))}}(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_19__.c)(ObjectBrowserWidgetComponent,"defaultProps",{description:null,required:!1,error:[],value:[],mode:"multiple",return:"multiple",initialPath:"",allowExternals:!1});const ObjectBrowserWidgetMode=mode=>(0,redux__WEBPACK_IMPORTED_MODULE_26__.compose)(react_intl__WEBPACK_IMPORTED_MODULE_27__.cp,_plone_volto_components_manage_Sidebar_ObjectBrowser__WEBPACK_IMPORTED_MODULE_9__.c,react_router__WEBPACK_IMPORTED_MODULE_28__.Ak,(0,react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)(null,{searchContent:_plone_volto_actions_search_search__WEBPACK_IMPORTED_MODULE_8__.M}))((props=>__jsx(ObjectBrowserWidgetComponent,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_24__.c)({},props,{mode:mode}))));__webpack_exports__.default=(0,redux__WEBPACK_IMPORTED_MODULE_26__.compose)(react_intl__WEBPACK_IMPORTED_MODULE_27__.cp,_plone_volto_components_manage_Sidebar_ObjectBrowser__WEBPACK_IMPORTED_MODULE_9__.c,react_router__WEBPACK_IMPORTED_MODULE_28__.Ak,(0,react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)(null,{searchContent:_plone_volto_actions_search_search__WEBPACK_IMPORTED_MODULE_8__.M}))(ObjectBrowserWidgetComponent),ObjectBrowserWidgetComponent.__docgenInfo={description:"ObjectBrowserWidget component class.\n@class ObjectBrowserWidget\n@extends Component",methods:[{name:"renderLabel",docblock:null,modifiers:[],params:[{name:"item",optional:!1,type:null}],returns:null},{name:"removeItem",docblock:null,modifiers:[],params:[{name:"item",optional:!1,type:null}],returns:null},{name:"onChange",docblock:null,modifiers:[],params:[{name:"item",optional:!1,type:null}],returns:null},{name:"onManualLinkInput",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"validateManualLink",docblock:null,modifiers:[],params:[{name:"url",optional:!1,type:null}],returns:null},{name:"onSubmitManualLink",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyDownManualLink",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"showObjectBrowser",docblock:null,modifiers:[],params:[{name:"ev",optional:!1,type:null}],returns:null},{name:"handleSelectedItemsRefClick",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null}],displayName:"ObjectBrowserWidgetComponent",props:{description:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},required:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},error:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},value:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"union",value:[{name:"arrayOf",value:{name:"object"}},{name:"object"}]},required:!1},mode:{defaultValue:{value:"'multiple'",computed:!1},description:"",type:{name:"string"},required:!1},return:{defaultValue:{value:"'multiple'",computed:!1},description:"",type:{name:"string"},required:!1},initialPath:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},allowExternals:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},id:{description:"",type:{name:"string"},required:!0},title:{description:"",type:{name:"string"},required:!0},onChange:{description:"",type:{name:"func"},required:!0},openObjectBrowser:{description:"",type:{name:"func"},required:!0},placeholder:{description:"",type:{name:"string"},required:!1}}}},"./src/components/manage/Widgets/ObjectListWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/useIntl.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Button/Button.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/modules/Accordion/Accordion.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Segment/Segment.js"),_plone_volto_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/index.js"),_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/manage/Widgets/FormFieldWrapper.jsx"),_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/helpers/index.js"),_plone_volto_components_manage_Widgets_ObjectWidget__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/manage/Widgets/ObjectWidget.jsx"),_plone_volto_icons_up_key_svg__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/icons/up-key.svg"),_plone_volto_icons_up_key_svg__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_plone_volto_icons_up_key_svg__WEBPACK_IMPORTED_MODULE_5__),_plone_volto_icons_down_key_svg__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/icons/down-key.svg"),_plone_volto_icons_down_key_svg__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_plone_volto_icons_down_key_svg__WEBPACK_IMPORTED_MODULE_6__),_plone_volto_icons_delete_svg__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/icons/delete.svg"),_plone_volto_icons_delete_svg__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_plone_volto_icons_delete_svg__WEBPACK_IMPORTED_MODULE_7__),_plone_volto_icons_add_svg__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/icons/add.svg"),_plone_volto_icons_add_svg__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_plone_volto_icons_add_svg__WEBPACK_IMPORTED_MODULE_8__),_plone_volto_icons_drag_svg__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/icons/drag.svg"),_plone_volto_icons_drag_svg__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_plone_volto_icons_drag_svg__WEBPACK_IMPORTED_MODULE_9__),uuid__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("../../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/v4.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const messages=(0,react_intl__WEBPACK_IMPORTED_MODULE_10__.defineMessages)({labelRemoveItem:{id:"Remove item",defaultMessage:"Remove item"},labelCollapseItem:{id:"Collapse item",defaultMessage:"Collapse item"},labelShowItem:{id:"Show item",defaultMessage:"Show item"},emptyObjectList:{id:"Empty object list",defaultMessage:"Empty object list"},add:{id:"Add (object list)",defaultMessage:"Add"}}),ObjectListWidget=props=>{var _props$activeObject;const{block:block,fieldSet:fieldSet,id:id,schema:schema,value:value=[],onChange:onChange,schemaExtender:schemaExtender}=props,[localActiveObject,setLocalActiveObject]=react__WEBPACK_IMPORTED_MODULE_0__.useState(null!==(_props$activeObject=props.activeObject)&&void 0!==_props$activeObject?_props$activeObject:value.length-1);let activeObject,setActiveObject;(props.activeObject||0===props.activeObject)&&props.setActiveObject?(activeObject=props.activeObject,setActiveObject=props.setActiveObject):(activeObject=localActiveObject,setActiveObject=setLocalActiveObject);const intl=(0,react_intl__WEBPACK_IMPORTED_MODULE_11__.c)();function handleChangeActiveObject(e,blockProps){const{index:index}=blockProps;setActiveObject(activeObject===index?-1:index)}const objectSchema="function"==typeof schema?schema(props):schema;return __jsx("div",{className:"objectlist-widget"},__jsx(_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_2__.default,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_12__.c)({},props,{noForInFieldLabel:!0,className:"objectlist"}),__jsx("div",{className:"add-item-button-wrapper"},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_13__.c,{compact:!0,icon:!0,"aria-label":objectSchema.addMessage||`${intl.formatMessage(messages.add)} ${objectSchema.title}`,onClick:e=>{e.preventDefault();const data={"@id":(0,uuid__WEBPACK_IMPORTED_MODULE_14__.c)()},objSchema=schemaExtender?schemaExtender(schema,data,intl):objectSchema,dataWithDefaults=(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__.M3)({data:data,schema:objSchema,intl:intl});onChange(id,[...value,dataWithDefaults]),setActiveObject(value.length)}},__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_1__.GWx,{name:_plone_volto_icons_add_svg__WEBPACK_IMPORTED_MODULE_8___default(),size:"18px"})," ",objectSchema.addMessage||`${intl.formatMessage(messages.add)} ${objectSchema.title}`)),0===value.length&&__jsx("input",{"aria-labelledby":`fieldset-${fieldSet||"default"}-field-label-${id}`,type:"hidden",value:intl.formatMessage(messages.emptyObjectList)})),__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_1__.UlW,{style:{boxShadow:`0 1px 1px rgba(0,0,0,0.15)${value.length>1?", 0 10px 0 -5px #eee, 0 10px 1px -4px rgba(0,0,0,0.15)":""}${value.length>2?", 0 20px 0 -10px #eee, 0 20px 1px -9px rgba(0,0,0,0.15)":""}`},forwardedAriaLabelledBy:`fieldset-${fieldSet||"default"}-field-label-${id}`,childList:value.map((o=>[o["@id"],o])),onMoveItem:result=>{const{source:source,destination:destination}=result;if(!destination)return;const newValue=(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__.a8)(value,source.index,destination.index);return onChange(id,newValue),!0}},(({child:child,childId:childId,index:index,draginfo:draginfo})=>__jsx("div",(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_12__.c)({ref:draginfo.innerRef},draginfo.draggableProps,{key:childId}),__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_15__.c,{key:index,fluid:!0,styled:!0},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_15__.c.Title,{active:activeObject===index,index:index,onClick:handleChangeActiveObject,"aria-label":`${activeObject===index?intl.formatMessage(messages.labelCollapseItem):intl.formatMessage(messages.labelShowItem)} #${index+1}`},__jsx("button",(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_12__.c)({style:{visibility:"visible",display:"inline-block"}},draginfo.dragHandleProps,{className:"drag handle"}),__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_1__.GWx,{name:_plone_volto_icons_drag_svg__WEBPACK_IMPORTED_MODULE_9___default(),size:"18px"})),__jsx("div",{className:"accordion-title-wrapper"},`${objectSchema.title} #${index+1}`),__jsx("div",{className:"accordion-tools"},__jsx("button",{"aria-label":`${intl.formatMessage(messages.labelRemoveItem)} #${index+1}`,onClick:()=>{onChange(id,value.filter(((v,i)=>i!==index)))}},__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_1__.GWx,{name:_plone_volto_icons_delete_svg__WEBPACK_IMPORTED_MODULE_7___default(),size:"20px",color:"#e40166"})),__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_1__.GWx,activeObject===index?{name:_plone_volto_icons_up_key_svg__WEBPACK_IMPORTED_MODULE_5___default(),size:"20px"}:{name:_plone_volto_icons_down_key_svg__WEBPACK_IMPORTED_MODULE_6___default(),size:"20px"}))),__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_15__.c.Content,{active:activeObject===index},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_16__.c,null,__jsx(_plone_volto_components_manage_Widgets_ObjectWidget__WEBPACK_IMPORTED_MODULE_4__.default,{id:`${id}-${index}`,key:`ow-${id}-${index}`,block:block,schema:schemaExtender?schemaExtender(schema,child,intl):objectSchema,value:child,onChange:(fi,fv)=>{const newvalue=value.map(((v,i)=>i!==index?v:fv));onChange(id,newvalue)}}))))))))};__webpack_exports__.default=ObjectListWidget,ObjectListWidget.__docgenInfo={description:"This is a DataGridField-equivalent widget for schema-based values.\nThe shape of the items in the array is defined using a schema.\n\nObjectListWidget can receive an optional `schemaExtender` prop which is\na function that can mutate the schema for each individual item in the array.\nAn example schema definition of the a field that renders with the\nObjectListWidget:\n\n```jsx\n columns: {\n   title: 'Columns',\n   description: 'Leave empty to show all columns',\n   schema: SomeItemSchema,\n   widget: 'object_list',\n   schemaExtender: (schema, data) => {\n     const mutated = lodash.cloneDeep(schema);\n     mutated.properties.extraField = {\n       title: 'Extra field',\n     }\n     mutated.fieldsets[0].fields.push('extraField');\n     return mutated;\n   },\n   activeObject: 0, // Current active object drilled down from the schema (if present)\n   setActiveObject: () => {} // The current active object state updater function drilled down from the schema (if present)\n },\n```",methods:[],displayName:"ObjectListWidget"}},"./src/components/manage/Widgets/ObjectWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/modules/Tab/Tab.js"),_plone_volto_components_manage_Form__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/manage/Form/index.tsx");const _excluded=["block","schema","value","onChange","errors","id"];var __jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const FieldSet=({block:block,data:data,index:index,schema:schema,value:value,errors:errors,onChange:onChange,onChangeBlock:onChangeBlock,id:id})=>data.fields.map(((field,idx)=>{var _schema$required;return __jsx(_plone_volto_components_manage_Form__WEBPACK_IMPORTED_MODULE_1__.IN,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__.c)({},schema.properties[field],{id:`${field}-${idx}-${id}`,fieldSet:data.title.toLowerCase(),block:block,value:null==value?void 0:value[field],objectvalue:value,required:-1!==(null===(_schema$required=schema.required)||void 0===_schema$required?void 0:_schema$required.indexOf(field)),onChange:(field2,fieldvalue)=>onChange(id,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.c)({},value),{},{[field]:fieldvalue})),key:field,error:null==errors?void 0:errors[field],title:schema.properties[field].title,onChangeBlock:onChangeBlock}))})),ObjectWidget=_ref=>{let{block:block,schema:schema,value:value,onChange:onChange,errors:errors={},id:id}=_ref;(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__.c)(_ref,_excluded);const createTab=react__WEBPACK_IMPORTED_MODULE_0__.useCallback(((fieldset,index)=>({menuItem:fieldset.title,render:()=>__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__.c.Pane,null,__jsx(FieldSet,{block:block,data:fieldset,index:index,schema:schema,errors:errors,value:value,onChange:onChange,id:id}))})),[block,errors,id,onChange,schema,value]);return 1===schema.fieldsets.length?__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,__jsx(FieldSet,{block:block,data:schema.fieldsets[0],index:0,schema:schema,errors:errors,value:value,onChange:onChange,id:id})):__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__.c,{panes:schema.fieldsets.map(createTab)})};ObjectWidget.defaultProps={value:null},__webpack_exports__.default=ObjectWidget,ObjectWidget.__docgenInfo={description:"A JSON data editor widget based on a schema. If you want to represent complex\ndata using a single field, this is the widget to use.\n\nIf there are multiple field sets, it renders a Tab component with multiple\ntab panes. Each tab has the title of the fieldset it renders.",methods:[],displayName:"ObjectWidget",props:{errors:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"object"},required:!1},id:{description:"",type:{name:"string"},required:!0},schema:{description:"",type:{name:"object"},required:!0},onChange:{description:"",type:{name:"func"},required:!0}}}},"./src/components/manage/Widgets/PasswordWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Input/Input.js"),_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/manage/Widgets/FormFieldWrapper.jsx"),react_intl__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/injectIntl.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const PasswordWidget=props=>{const{id:id,value:value,onChange:onChange,onBlur:onBlur,onClick:onClick,minLength:minLength,maxLength:maxLength,placeholder:placeholder,isDisabled:isDisabled}=props;return __jsx(_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_1__.default,props,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__.c,{id:`field-${id}`,name:id,type:"password",disabled:isDisabled,value:value||"",placeholder:placeholder,onChange:({target:target})=>onChange(id,""===target.value?void 0:target.value),onBlur:({target:target})=>onBlur(id,""===target.value?void 0:target.value),onClick:()=>onClick(),minLength:minLength||null,maxLength:maxLength||null,autoComplete:"off"}))};PasswordWidget.defaultProps={description:null,required:!1,error:[],value:null,onChange:()=>{},onBlur:()=>{},onClick:()=>{},minLength:null,maxLength:null},__webpack_exports__.default=(0,react_intl__WEBPACK_IMPORTED_MODULE_3__.cp)(PasswordWidget),PasswordWidget.__docgenInfo={description:"PasswordWidget component class.\n\nTo use it, in schema properties, declare a field like:\n\n```jsx\n{\n title: \"Password\",\n type: 'password',\n}\n```",methods:[],displayName:"PasswordWidget",props:{description:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},required:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},error:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},onChange:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onBlur:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onClick:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},minLength:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"number"},required:!1},maxLength:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"number"},required:!1},id:{description:"",type:{name:"string"},required:!0},title:{description:"",type:{name:"string"},required:!0},wrapped:{description:"",type:{name:"bool"},required:!1},placeholder:{description:"",type:{name:"string"},required:!1}}}},"./src/components/manage/Widgets/QuerySortOnWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js"),lodash_map__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/map.js"),lodash_map__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_0__),lodash_groupBy__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/groupBy.js"),lodash_groupBy__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_1__),lodash_toPairs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toPairs.js"),lodash_toPairs__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_toPairs__WEBPACK_IMPORTED_MODULE_2__),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/manage/Widgets/FormFieldWrapper.jsx"),react_intl__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/useIntl.js"),react_redux__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/.pnpm/react-redux@8.1.2_@types+react-dom@18.2.12_@types+react@18.2.27_react-dom@18.2.0_react@18.2.0__react@18.2.0_redux@4.2.1/node_modules/react-redux/es/index.js"),_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/manage/Widgets/SelectStyling.jsx"),_plone_volto_helpers_Loadable_Loadable__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/helpers/Loadable/Loadable.jsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_3__.createElement;const messages=(0,react_intl__WEBPACK_IMPORTED_MODULE_8__.defineMessages)({SortOn:{id:"Sort on",defaultMessage:"Sort on"},NoSelection:{id:"No selection",defaultMessage:"No selection"}});function QueryStringSortOrderWidget(props){var _sortable_indexes$val;const{id:id,value:value,onChange:onChange,reactSelect:reactSelect,isDisabled:isDisabled}=props,sortable_indexes=(0,react_redux__WEBPACK_IMPORTED_MODULE_5__.useSelector)((state=>state.querystring.sortable_indexes)),intl=(0,react_intl__WEBPACK_IMPORTED_MODULE_9__.c)(),Select=reactSelect.default;return __jsx(_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_4__.default,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_10__.c)({},props,{draggable:!1,className:"query-sort-on-widget"}),__jsx(Select,{id:"select-listingblock-sort-on",name:"select-listingblock-sort-on",className:"react-select-container",classNamePrefix:"react-select",isDisabled:isDisabled,options:[{label:intl.formatMessage(messages.NoSelection),value:""},...lodash_map__WEBPACK_IMPORTED_MODULE_0___default()(lodash_toPairs__WEBPACK_IMPORTED_MODULE_2___default()(lodash_groupBy__WEBPACK_IMPORTED_MODULE_1___default()(lodash_toPairs__WEBPACK_IMPORTED_MODULE_2___default()(sortable_indexes),(item=>item[1].group))),(group=>({label:group[0],options:lodash_map__WEBPACK_IMPORTED_MODULE_0___default()(group[1],(field=>({label:field[1].title,value:field[0]})))})))],styles:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_6__.cF,theme:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_6__.qe,components:{DropdownIndicator:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_6__.y,Option:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_6__.cb},value:{value:value||"",label:value&&sortable_indexes?null===(_sortable_indexes$val=sortable_indexes[value])||void 0===_sortable_indexes$val?void 0:_sortable_indexes$val.title:value||intl.formatMessage(messages.NoSelection)},onChange:field=>{onChange(id,field.value)}}))}__webpack_exports__.default=(0,_plone_volto_helpers_Loadable_Loadable__WEBPACK_IMPORTED_MODULE_7__.yM)(["reactSelect"])(QueryStringSortOrderWidget),QueryStringSortOrderWidget.__docgenInfo={description:"",methods:[],displayName:"QueryStringSortOrderWidget"}},"./src/components/manage/Widgets/QueryWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{QuerystringWidgetComponent:function(){return QuerystringWidgetComponent}});var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),lodash_map__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/map.js"),lodash_map__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_0__),lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isEmpty.js"),lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1__),lodash_groupBy__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/groupBy.js"),lodash_groupBy__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_2__),lodash_toPairs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toPairs.js"),lodash_toPairs__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash_toPairs__WEBPACK_IMPORTED_MODULE_3__),lodash_remove__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/remove.js"),lodash_remove__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(lodash_remove__WEBPACK_IMPORTED_MODULE_4__),lodash_filter__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/filter.js"),lodash_filter__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(lodash_filter__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),redux__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("../../../node_modules/.pnpm/redux@4.2.1/node_modules/redux/es/redux.js"),react_redux__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/.pnpm/react-redux@8.1.2_@types+react-dom@18.2.12_@types+react@18.2.27_react-dom@18.2.0_react@18.2.0__react@18.2.0_redux@4.2.1/node_modules/react-redux/es/index.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/collections/Form/Form.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Input/Input.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/collections/Grid/Grid.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Button/Button.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Label/Label.js"),react_intl__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/injectIntl.js"),_plone_volto_actions__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/actions/index.js"),_plone_volto_components__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/index.js"),_plone_volto_helpers_Loadable_Loadable__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/helpers/Loadable/Loadable.jsx"),classnames__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../../node_modules/.pnpm/classnames@2.2.6/node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_11__),_plone_volto_registry__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/registry.js"),_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/components/manage/Widgets/SelectStyling.jsx"),_plone_volto_icons_clear_svg__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/icons/clear.svg"),_plone_volto_icons_clear_svg__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_plone_volto_icons_clear_svg__WEBPACK_IMPORTED_MODULE_14__),__jsx=react__WEBPACK_IMPORTED_MODULE_6__.createElement;const messages=(0,react_intl__WEBPACK_IMPORTED_MODULE_15__.defineMessages)({Criteria:{id:"Criteria",defaultMessage:"Criteria"},AddCriteria:{id:"Add criteria",defaultMessage:"Add criteria"},select:{id:"querystring-widget-select",defaultMessage:"Select…"}});class QuerystringWidgetComponent extends react__WEBPACK_IMPORTED_MODULE_6__.Component{constructor(props){super(props),this.state={visual:!1},this.onChangeValue=this.onChangeValue.bind(this),this.getWidget=this.getWidget.bind(this)}componentDidMount(){this.props.focus&&this.node.focus(),this.props.getQuerystring()}getWidget(row,index,Select){const props={fluid:!0,value:row.v,onChange:data=>this.onChangeValue(index,data.target.value)},values=this.props.indexes[row.i].values;switch(this.props.indexes[row.i].operators[row.o].widget){case null:return __jsx("span",null);case"DateWidget":return __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_16__.c.Field,{style:{flex:"1 0 auto"}},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_17__.c,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_18__.c)({type:"date"},props,{value:row.v})));case"DateRangeWidget":return __jsx(react__WEBPACK_IMPORTED_MODULE_6__.Fragment,null,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_16__.c.Field,{style:{flex:"1 0 auto"}},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_17__.c,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_18__.c)({type:"date"},props,{value:row.v[0],onChange:data=>this.onChangeValue(index,[data.target.value,row.v[1]])}))),__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_16__.c.Field,{style:{flex:"1 0 auto"}},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_17__.c,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_18__.c)({type:"date"},props,{value:row.v[1],onChange:data=>this.onChangeValue(index,[row.v[0],data.target.value])}))));case"RelativeDateWidget":return __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_16__.c.Field,{style:{flex:"1 0 auto"}},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_17__.c,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_18__.c)({step:1,type:"number"},props)));case"MultipleSelectionWidget":return __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_16__.c.Field,{style:{flex:"1 0 auto",maxWidth:"92%"}},__jsx(Select,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_18__.c)({},props,{className:"react-select-container",classNamePrefix:"react-select",options:values?lodash_map__WEBPACK_IMPORTED_MODULE_0___default()(lodash_toPairs__WEBPACK_IMPORTED_MODULE_3___default()(values),(value=>({label:value[1].title,value:value[0]}))):[],styles:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_13__.cF,placeholder:this.props.intl.formatMessage(messages.select),theme:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_13__.qe,components:{DropdownIndicator:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_13__.y,Option:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_13__.cb},onChange:data=>{this.onChangeValue(index,lodash_map__WEBPACK_IMPORTED_MODULE_0___default()(data,(item=>item.value)))},isMulti:!0,value:lodash_map__WEBPACK_IMPORTED_MODULE_0___default()(row.v,(value=>{var _values$value;return{label:(null==values||null===(_values$value=values[value])||void 0===_values$value?void 0:_values$value.title)||value,value:value}}))})));case"autocomplete":const AutoCompleteComponent=_plone_volto_registry__WEBPACK_IMPORTED_MODULE_12__.default.widgets.widget.autocomplete,vocabulary={"@id":this.props.indexes[row.i].vocabulary};return __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_16__.c.Field,{style:{flex:"1 0 auto",maxWidth:"92%"}},__jsx(AutoCompleteComponent,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_18__.c)({},props,{vocabulary:vocabulary,wrapped:!1,id:`id-${index}`,title:`title-${index}`,onChange:(_d,data)=>{this.onChangeValue(index,data)}})));default:return __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_16__.c.Field,{style:{flex:"1 0 auto"}},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_17__.c,props))}}onChangeValue(index,value){this.props.onChange(this.props.id,lodash_map__WEBPACK_IMPORTED_MODULE_0___default()(this.props.value,((row,i)=>index===i?(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_19__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_19__.c)({},row),{},{v:value}):row)))}render(){const{id:id,required:required,description:description,error:error,value:value,onChange:onChange,onEdit:onEdit,indexes:indexes,fieldSet:fieldSet,reactSelect:reactSelect,intl:intl}=this.props,Select=reactSelect.default;return __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_16__.c.Field,{inline:!0,required:required,error:error.length>0,className:classnames__WEBPACK_IMPORTED_MODULE_11___default()("query-widget",description?"help":""),id:`${fieldSet||"field"}-${id}`},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_20__.c,null,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_20__.c.Row,{stretched:!0},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_20__.c.Column,{width:"12"},__jsx("div",{className:"simple-field-name"},intl.formatMessage(messages.Criteria)))),__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_20__.c.Row,{stretched:!0},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_20__.c.Column,{width:"12"},indexes&&!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1___default()(indexes)&&lodash_map__WEBPACK_IMPORTED_MODULE_0___default()(value,((row,index)=>{var _indexes$row$i,_indexes$row$i$operat,_indexes$row$i2;return __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_16__.c.Group,{key:index},__jsx("div",{className:"main-fields-wrapper"},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_16__.c.Field,{style:{flex:"1 0 auto",marginRight:"10px"}},__jsx(Select,{id:`field-${id}`,name:id,disabled:null!==onEdit,className:"react-select-container",classNamePrefix:"react-select",options:lodash_map__WEBPACK_IMPORTED_MODULE_0___default()(lodash_toPairs__WEBPACK_IMPORTED_MODULE_3___default()(lodash_groupBy__WEBPACK_IMPORTED_MODULE_2___default()(lodash_toPairs__WEBPACK_IMPORTED_MODULE_3___default()(indexes),(item=>item[1].group))),(group=>({label:group[0],options:lodash_map__WEBPACK_IMPORTED_MODULE_0___default()(lodash_filter__WEBPACK_IMPORTED_MODULE_5___default()(group[1],(item=>item[1].enabled)),(field=>({label:field[1].title,value:field[0],isDisabled:(value||[]).some((v=>"path"!==v.i&&v.i===field[0]))})))}))),styles:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_13__.cF,theme:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_13__.qe,placeholder:intl.formatMessage(messages.select),components:{DropdownIndicator:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_13__.y,Option:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_13__.cb},value:{value:row.i,label:null===(_indexes$row$i=indexes[row.i])||void 0===_indexes$row$i?void 0:_indexes$row$i.title},onChange:data=>onChange(id,lodash_map__WEBPACK_IMPORTED_MODULE_0___default()(value,((curRow,curIndex)=>curIndex===index?{i:data.value,o:indexes[data.value].operations[0],v:""}:curRow)))})),__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_16__.c.Field,{style:{flex:"1 0 auto"}},__jsx(Select,{id:`field-${id}`,name:id,disabled:null!==onEdit,className:"react-select-container",classNamePrefix:"react-select",options:lodash_map__WEBPACK_IMPORTED_MODULE_0___default()(null!==(_indexes$row$i$operat=null===(_indexes$row$i2=indexes[row.i])||void 0===_indexes$row$i2?void 0:_indexes$row$i2.operations)&&void 0!==_indexes$row$i$operat?_indexes$row$i$operat:[],(operation=>({value:operation,label:indexes[row.i].operators[operation].title}))),styles:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_13__.cF,theme:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_13__.qe,placeholder:intl.formatMessage(messages.select),components:{DropdownIndicator:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_13__.y,Option:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_13__.cb},value:{value:row.o,label:indexes[row.i].operators[row.o].title},onChange:data=>onChange(id,lodash_map__WEBPACK_IMPORTED_MODULE_0___default()(value,((curRow,curIndex)=>curIndex===index?{i:row.i,o:data.value,v:""}:curRow)))})),!this.props.indexes[row.i].operators[row.o].widget&&__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_21__.c,{onClick:event=>{onChange(id,lodash_remove__WEBPACK_IMPORTED_MODULE_4___default()(value,((v,i)=>i!==index))),event.preventDefault()},style:{background:"none",paddingRight:0,paddingLeft:0,margin:0}},__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_9__.GWx,{name:_plone_volto_icons_clear_svg__WEBPACK_IMPORTED_MODULE_14___default(),size:"24px",className:"close"}))),this.getWidget(row,index,Select),this.props.indexes[row.i].operators[row.o].widget&&__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_21__.c,{onClick:event=>{onChange(id,lodash_remove__WEBPACK_IMPORTED_MODULE_4___default()(value,((v,i)=>i!==index))),event.preventDefault()},style:{background:"none",paddingRight:0,paddingLeft:0,margin:0}},__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_9__.GWx,{name:_plone_volto_icons_clear_svg__WEBPACK_IMPORTED_MODULE_14___default(),size:"24px",className:"close"})))})),__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_16__.c.Group,null,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_16__.c.Field,{style:{flex:"1 0 auto"}},__jsx(Select,{id:`field-${id}`,name:id,disabled:null!==onEdit,className:"react-select-container",classNamePrefix:"react-select",placeholder:intl.formatMessage(messages.AddCriteria),options:lodash_map__WEBPACK_IMPORTED_MODULE_0___default()(lodash_toPairs__WEBPACK_IMPORTED_MODULE_3___default()(lodash_groupBy__WEBPACK_IMPORTED_MODULE_2___default()(lodash_toPairs__WEBPACK_IMPORTED_MODULE_3___default()(indexes),(item=>item[1].group))),(group=>({label:group[0],options:lodash_map__WEBPACK_IMPORTED_MODULE_0___default()(lodash_filter__WEBPACK_IMPORTED_MODULE_5___default()(group[1],(item=>item[1].enabled)),(field=>({label:field[1].title,value:field[0],isDisabled:(value||[]).some((v=>"path"!==v.i&&v.i===field[0]))})))}))),styles:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_13__.cF,theme:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_13__.qe,components:{DropdownIndicator:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_13__.y,Option:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_13__.cb},value:null,onChange:data=>{onChange(id,[...value||[],{i:data.value,o:indexes[data.value].operations[0],v:""}])}}))),lodash_map__WEBPACK_IMPORTED_MODULE_0___default()(error,(message=>__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_22__.c,{key:message,basic:!0,color:"red",pointing:!0},message))))),description&&__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_20__.c.Row,{stretched:!0},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_20__.c.Column,{stretched:!0,width:"12"},__jsx("p",{className:"help"},description)))))}}(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_23__.c)(QuerystringWidgetComponent,"defaultProps",{description:null,required:!1,error:[],value:null,onChange:null,onEdit:null,onDelete:null,focus:!1}),__webpack_exports__.default=(0,redux__WEBPACK_IMPORTED_MODULE_24__.compose)(react_intl__WEBPACK_IMPORTED_MODULE_25__.cp,(0,_plone_volto_helpers_Loadable_Loadable__WEBPACK_IMPORTED_MODULE_10__.yM)(["reactSelect"]),(0,react_redux__WEBPACK_IMPORTED_MODULE_7__.connect)((state=>({indexes:state.querystring.indexes})),{getQuerystring:_plone_volto_actions__WEBPACK_IMPORTED_MODULE_8__.m2}))(QuerystringWidgetComponent),QuerystringWidgetComponent.__docgenInfo={description:"Widget for a querystring value, to define a catalog search criteria.",methods:[{name:"getWidget",docblock:"Get correct widget\n@method getWidget\n@param {Object} row Row object.\n@param {number} index Row index.\n@returns {Object} Widget.",modifiers:[],params:[{name:"row",description:"Row object.",type:{name:"Object"},optional:!1},{name:"index",description:"Row index.",type:{name:"number"},optional:!1},{name:"Select",optional:!1}],returns:{description:"Widget.",type:{name:"Object"}},description:"Get correct widget"},{name:"onChangeValue",docblock:"Change value handler\n@method onChangeValue\n@param {Number} index Index of the row.\n@param {String|Array} value Value of the row.\n@returns {undefined}",modifiers:[],params:[{name:"index",description:"Index of the row.",type:{name:"Number"},optional:!1},{name:"value",description:"Value of the row.",type:{name:"union",elements:[{name:"String"},{name:"Array"}]},optional:!1}],returns:{},description:"Change value handler"}],displayName:"QuerystringWidgetComponent",props:{description:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},required:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},error:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"array"},required:!1},onChange:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},onEdit:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},onDelete:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},focus:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},id:{description:"",type:{name:"string"},required:!0},title:{description:"",type:{name:"string"},required:!0},getQuerystring:{description:"",type:{name:"func"},required:!0}}}},"./src/components/manage/Widgets/QuerystringWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{objectSchema:function(){return objectSchema}});var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/useIntl.js"),_plone_volto_components_manage_Widgets_ObjectWidget__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/manage/Widgets/ObjectWidget.jsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const messages=(0,react_intl__WEBPACK_IMPORTED_MODULE_2__.defineMessages)({Criteria:{id:"Criteria",defaultMessage:"Criteria"},depth:{id:"Depth",defaultMessage:"Depth"},SortOn:{id:"Sort on",defaultMessage:"Sort on"},reversedOrder:{id:"Reversed order",defaultMessage:"Reversed order"},limit:{id:"Results limit",defaultMessage:"Results limit"},itemBatchSize:{id:"Item batch size",defaultMessage:"Item batch size"},NoSelection:{id:"No selection",defaultMessage:"No selection"}}),objectSchema=({intl:intl,isDisabled:isDisabled,value:value})=>{var _value$query;return{fieldsets:[{id:"default",title:"Default",fields:["query",...(null==value||null===(_value$query=value.query)||void 0===_value$query?void 0:_value$query.filter((q=>"path"===q.i)).length)>0?["depth"]:[],"sort_on","sort_order_boolean","limit","b_size"]}],properties:{query:{title:intl.formatMessage(messages.Criteria),widget:"query"},depth:{title:intl.formatMessage(messages.depth),type:"number"},sort_on:{title:intl.formatMessage(messages.SortOn),widget:"query_sort_on",isDisabled:isDisabled},sort_order_boolean:{title:intl.formatMessage(messages.reversedOrder),type:"boolean",isDisabled:isDisabled},limit:{title:intl.formatMessage(messages.limit),type:"number",isDisabled:isDisabled},b_size:{title:intl.formatMessage(messages.itemBatchSize),type:"number",isDisabled:isDisabled}},required:[]}},QuerystringWidget=props=>{var _props$value,_props$value$query;const{block:block,onChange:onChange,schemaEnhancer:schemaEnhancer}=props,isDisabled=null===(_props$value=props.value)||void 0===_props$value||null===(_props$value$query=_props$value.query)||void 0===_props$value$query||!_props$value$query.length,intl=(0,react_intl__WEBPACK_IMPORTED_MODULE_3__.c)();let schema=objectSchema((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.c)({},props),{},{intl:intl,isDisabled:isDisabled}));return schema=schemaEnhancer?schemaEnhancer((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.c)({},props),{},{intl:intl,schema:schema})):schema,__jsx("div",{className:"querystring-widget"},__jsx(_plone_volto_components_manage_Widgets_ObjectWidget__WEBPACK_IMPORTED_MODULE_1__.default,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_5__.c)({},props,{block:block,schema:schema,onChange:(id,value)=>{const adaptedValue=(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.c)({},value),{},{sort_order:value.sort_order_boolean?"descending":"ascending"});onChange(id,adaptedValue)}})))};__webpack_exports__.default=QuerystringWidget,QuerystringWidget.__docgenInfo={description:"",methods:[],displayName:"QuerystringWidget"}},"./src/components/manage/Widgets/RecurrenceWidget/RecurrenceWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return RecurrenceWidget_RecurrenceWidget}});var objectSpread2=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),defineProperty=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),remove=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/remove.js"),remove_default=__webpack_require__.n(remove),concat=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/concat.js"),concat_default=__webpack_require__.n(concat),find=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/find.js"),find_default=__webpack_require__.n(find),map=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/map.js"),map_default=__webpack_require__.n(map),isEqual=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isEqual.js"),isEqual_default=__webpack_require__.n(isEqual),react=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),redux=__webpack_require__("../../../node_modules/.pnpm/redux@4.2.1/node_modules/redux/es/redux.js"),es=__webpack_require__("../../../node_modules/.pnpm/react-redux@8.1.2_@types+react-dom@18.2.12_@types+react@18.2.27_react-dom@18.2.0_react@18.2.0__react@18.2.0_redux@4.2.1/node_modules/react-redux/es/index.js"),classnames=__webpack_require__("../../../node_modules/.pnpm/classnames@2.2.6/node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),lib=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/index.js"),injectIntl=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/injectIntl.js"),Form=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/collections/Form/Form.js"),Grid=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/collections/Grid/Grid.js"),Label=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Label/Label.js"),Segment=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Segment/Segment.js"),Button=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Button/Button.js"),Modal=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/modules/Modal/Modal.js"),Header=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Header/Header.js"),components=__webpack_require__("./src/components/index.js"),DatetimeWidget=__webpack_require__("./src/components/manage/Widgets/DatetimeWidget.jsx"),SelectWidget=__webpack_require__("./src/components/manage/Widgets/SelectWidget.jsx"),helpers=__webpack_require__("./src/helpers/index.js"),Loadable=__webpack_require__("./src/helpers/Loadable/Loadable.jsx"),save=__webpack_require__("./src/icons/save.svg"),save_default=__webpack_require__.n(save),editing=__webpack_require__("./src/icons/editing.svg"),editing_default=__webpack_require__.n(editing),icons_delete=__webpack_require__("./src/icons/delete.svg"),delete_default=__webpack_require__.n(icons_delete),esm=__webpack_require__("../../../node_modules/.pnpm/rrule@2.7.1/node_modules/rrule/dist/esm/index.js");const Days={MO:esm.RRule.MO,TU:esm.RRule.TU,WE:esm.RRule.WE,TH:esm.RRule.TH,FR:esm.RRule.FR,SA:esm.RRule.SA,SU:esm.RRule.SU},WEEKLY_DAYS=[Days.MO,Days.TU,Days.WE,Days.TH,Days.FR],MONDAYFRIDAY_DAYS=[Days.MO,Days.FR],FREQUENCES={DAILY:"daily",MONDAYFRIDAY:"mondayfriday",WEEKDAYS:"weekdays",WEEKLY:"weekly",MONTHLY:"monthly",YEARLY:"yearly"},OPTIONS={frequences:{[FREQUENCES.DAILY]:{rrule:esm.RRule.DAILY,interval:!0},[FREQUENCES.MONDAYFRIDAY]:{rrule:esm.RRule.WEEKLY},[FREQUENCES.WEEKDAYS]:{rrule:esm.RRule.WEEKLY},[FREQUENCES.WEEKLY]:{rrule:esm.RRule.WEEKLY,interval:!0,byday:!0},[FREQUENCES.MONTHLY]:{rrule:esm.RRule.MONTHLY,interval:!0,bymonth:!0},[FREQUENCES.YEARLY]:{rrule:esm.RRule.YEARLY,interval:!0,byyear:!0}}},toISOString=date=>date.toISOString().split("T")[0],rrulei18n=(intl,moment,lang)=>{moment.locale(lang);const messages=(0,lib.defineMessages)({every:{id:"rrule_every",defaultMessage:"every"},until:{id:"rrule_until",defaultMessage:"until"},for:{id:"rrule_for",defaultMessage:"for"},time:{id:"rrule_time",defaultMessage:"time"},times:{id:"rrule_times",defaultMessage:"times"},"(~ approximate)":{id:"rrule_approximate",defaultMessage:"(~approximate)"},hour:{id:"rrule_hour",defaultMessage:"hour"},hours:{id:"rrule_hours",defaultMessage:"hours"},minutes:{id:"rrule_minutes",defaultMessage:"minutes"},weekdays:{id:"rrule_weekdays",defaultMessage:"weekdays"},weekday:{id:"rrule_weekday",defaultMessage:"weekday"},day:{id:"rrule_day",defaultMessage:"day"},days:{id:"rrule_days",defaultMessage:"days"},in:{id:"rrule_in",defaultMessage:"in"},week:{id:"rrule_week",defaultMessage:"week"},weeks:{id:"rrule_weeks",defaultMessage:"weeks"},month:{id:"rrule_month",defaultMessage:"month"},months:{id:"rrule_months",defaultMessage:"months"},on:{id:"rrule_on",defaultMessage:"on"},year:{id:"rrule_year",defaultMessage:"year"},years:{id:"rrule_years",defaultMessage:"years"},"on the":{id:"rrule_on the",defaultMessage:"on the"},the:{id:"rrule_the",defaultMessage:"the"},and:{id:"rrule_and",defaultMessage:"and"},or:{id:"rrule_or",defaultMessage:"or"},at:{id:"rrule_at",defaultMessage:"at"},last:{id:"rrule_last",defaultMessage:"last"},st:{id:"rrule_st",defaultMessage:"st"},nd:{id:"rrule_nd",defaultMessage:"nd"},rd:{id:"rrule_rd",defaultMessage:"rd"},th:{id:"rrule_th",defaultMessage:"th"},dateFormat:{id:"rrule_dateFormat",defaultMessage:"[month] [day], [year]"}});let strings={};Object.keys(messages).map((k=>strings[k]=intl.formatMessage(messages[k])));let dateFormat=strings.dateFormat.replace(new RegExp("\\[","g"),"${").replace(new RegExp("\\]","g"),"}");return{dayNames:moment.weekdays(),monthNames:moment.months(),strings:strings,dateFormatter:(year,month,day)=>dateFormat.replace(/\$\{year\}/g,year).replace(/\$\{month\}/g,month).replace(/\$\{day\}/g,day)}};var Input=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Input/Input.js"),__jsx=react.createElement;const IntervalField=({label:label,labelAfter:labelAfter,value:value,onChange:onChange})=>__jsx(Form.c.Field,{inline:!0,className:"text"},__jsx(Grid.c,null,__jsx(Grid.c.Row,{stretched:!0},__jsx(Grid.c.Column,{width:"4"},__jsx("div",{className:"wrapper"},__jsx("label",{htmlFor:"interval"},label))),__jsx(Grid.c.Column,{width:"8"},__jsx(Form.c.Field,{inline:!0},__jsx(Input.c,{id:"interval",name:"interval",value:value||"",onChange:({target:target})=>{onChange(target.id,""===target.value?void 0:parseInt(target.value))}}),labelAfter&&__jsx("span",null,labelAfter))))));IntervalField.defaultProps={label:null,labelAfter:null,onChange:null};var RecurrenceWidget_IntervalField=IntervalField;IntervalField.__docgenInfo={description:"IntervalField component class.\n@function IntervalField\n@returns {string} Markup of the component.",methods:[],displayName:"IntervalField",props:{label:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},labelAfter:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},onChange:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},value:{description:"",type:{name:"any"},required:!1}}};var ByDayField_jsx=react.createElement;const ByDayField=({label:label,value:value,onChange:onChange,moment:momentlib})=>{const lang=(0,es.useSelector)((state=>state.intl.locale)),moment=momentlib.default;moment.locale((0,helpers.mc)(lang));return ByDayField_jsx(Form.c.Field,{inline:!0,className:"text"},ByDayField_jsx(Grid.c,null,ByDayField_jsx(Grid.c.Row,{stretched:!0},ByDayField_jsx(Grid.c.Column,{width:"4"},ByDayField_jsx("div",{className:"wrapper"},ByDayField_jsx("label",{htmlFor:"byday"},label))),ByDayField_jsx(Grid.c.Column,{width:"8"},ByDayField_jsx(Button.c.Group,{basic:!0,className:"byday-field"},Object.keys(Days).map((d=>ByDayField_jsx(Button.c,{key:d,active:(null==value?void 0:value.indexOf(Days[d]))>=0,type:"button",content:moment.weekdaysShort(Days[d].weekday+1),onClick:()=>{var day,byweekday,i;day=Days[d],byweekday=value?[...value]:[],(i=byweekday.indexOf(day))>=0?byweekday.splice(i,1):byweekday.push(day),onChange("byweekday",byweekday)}}))))))))};ByDayField.defaultProps={label:null,value:null,onChange:null};var RecurrenceWidget_ByDayField=(0,Loadable.yM)(["moment"])(ByDayField);ByDayField.__docgenInfo={description:"ByDayField component class.\n@function ByDayField\n@returns {string} Markup of the component.",methods:[],displayName:"ByDayField",props:{label:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"any"},required:!1},onChange:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1}}};var Radio=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/addons/Radio/Radio.js"),EndField_jsx=react.createElement;const messages=(0,lib.defineMessages)({recurrenceEnds:{id:"Recurrence ends",defaultMessage:"Ends"},recurrenceEndsCount:{id:"Recurrence ends after",defaultMessage:"after"},recurrenceEndsUntil:{id:"Recurrence ends on",defaultMessage:"on"},occurrences:{id:"Occurences",defaultMessage:"occurrence(s)"}}),EndField=({value:value,count:count,until:until,onChange:onChange,intl:intl})=>EndField_jsx(Form.c.Field,{inline:!0,className:"text"},EndField_jsx(Grid.c,null,EndField_jsx(Grid.c.Row,{stretched:!0},EndField_jsx(Grid.c.Column,{width:"4"},EndField_jsx("div",{className:"wrapper"},EndField_jsx("label",{htmlFor:"recurrenceEnds"},intl.formatMessage(messages.recurrenceEnds)))),EndField_jsx(Grid.c.Column,{width:"8"},EndField_jsx(Form.c.Group,{inline:!0},EndField_jsx(Form.c.Field,null,EndField_jsx(Radio.c,{label:"",name:"recurrenceEnds",id:"recurrenceEndsCount",value:"count",checked:"count"===value,onChange:(e,{value:value})=>onChange("recurrenceEnds",value)})),EndField_jsx(Form.c.Field,{disabled:"count"!==value},intl.formatMessage(messages.recurrenceEndsCount)),EndField_jsx(Form.c.Field,{disabled:"count"!==value},EndField_jsx(Input.c,{id:"count",name:"count",value:count||"",onChange:({target:target})=>{onChange(target.id,""===target.value?void 0:target.value)}})),EndField_jsx(Form.c.Field,{disabled:"count"!==value},intl.formatMessage(messages.occurrences))),EndField_jsx(Form.c.Group,{inline:!0},EndField_jsx(Form.c.Field,null,EndField_jsx(Radio.c,{id:"recurrenceEndsUntil",label:"",name:"recurrenceEnds",value:"until",checked:"until"===value,onChange:(e,{value:value})=>onChange("recurrenceEnds",value)})),EndField_jsx(Form.c.Field,{disabled:"until"!==value},EndField_jsx(DatetimeWidget.default,{id:"until",title:intl.formatMessage(messages.recurrenceEndsUntil),dateOnly:!0,value:until?"string"==typeof until?until:null==until?void 0:until.toISOString():"",resettable:!1,onChange:(id,value)=>{onChange(id,""===value?void 0:value)}})))))));EndField.defaultProps={value:null,count:null,until:null,onChange:null};var RecurrenceWidget_EndField=(0,injectIntl.cp)(EndField);EndField.__docgenInfo={description:"EndField component class.\n@function EndField\n@returns {string} Markup of the component.",methods:[],displayName:"EndField",props:{value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},count:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"any"},required:!1},until:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"any"},required:!1},onChange:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1}}};var ByMonthDayField_jsx=react.createElement;const ByMonthDayField_messages=(0,lib.defineMessages)({bymonthDay:{id:"Month day",defaultMessage:"Day"},ofTheMonth:{id:"of the month",defaultMessage:"of the month"}}),ByMonthDayField=({value:value,disabled:disabled,onChange:onChange,hideAfterLabel:hideAfterLabel,intl:intl})=>ByMonthDayField_jsx(react.Fragment,null,ByMonthDayField_jsx(Form.c.Field,{inline:!0,disabled:disabled},intl.formatMessage(ByMonthDayField_messages.bymonthDay)),ByMonthDayField_jsx(Form.c.Field,{inline:!0,disabled:disabled},ByMonthDayField_jsx(Input.c,{type:"number",id:"bymonthday",name:"bymonthday",value:value||"",onChange:({target:target})=>{onChange(target.id,""===target.value?void 0:[parseInt(target.value)])}})),!hideAfterLabel&&ByMonthDayField_jsx(Form.c.Field,{inline:!0,disabled:disabled},intl.formatMessage(ByMonthDayField_messages.ofTheMonth)));ByMonthDayField.defaultProps={disabled:!1,value:null,onChange:null,hideAfterLabel:!1};var RecurrenceWidget_ByMonthDayField=(0,injectIntl.cp)(ByMonthDayField);ByMonthDayField.__docgenInfo={description:"ByMonthDayField component class.\n@function ByMonthDayField\n@returns {string} Markup of the component.",methods:[],displayName:"ByMonthDayField",props:{disabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"any"},required:!1},onChange:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},hideAfterLabel:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1}}};var esm_extends=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js"),SelectStyling=__webpack_require__("./src/components/manage/Widgets/SelectStyling.jsx"),SelectInput_jsx=react.createElement;const SelectInput=({name:name,disabled:disabled,options:options,value:value,onChange:onChange,reactSelect:reactSelect})=>{const Select=reactSelect.default,inlineSelectStyles=(0,objectSpread2.c)((0,objectSpread2.c)({},SelectStyling.cF),{},{control:(styles,state)=>(0,objectSpread2.c)((0,objectSpread2.c)({},SelectStyling.cF.control(styles,state)),{},{minWidth:"130px"})}),getDefaultValue=(choices,value)=>{const element=find_default()(choices,(o=>o.value===value));return element||{}};return SelectInput_jsx(Select,{isDisabled:disabled,id:name,name:name,className:"react-select-container",classNamePrefix:"react-select",defaultValue:getDefaultValue(options,value),value:getDefaultValue(options,value),options:options,styles:inlineSelectStyles,theme:SelectStyling.qe,components:{DropdownIndicator:SelectStyling.y,Option:SelectStyling.cb},onChange:data=>onChange(name,data.value)})};SelectInput.defaultProps={name:"select",options:[],disabled:!1,value:null,onChange:null};var RecurrenceWidget_SelectInput=(0,Loadable.yM)("reactSelect")(SelectInput);SelectInput.__docgenInfo={description:"SelectInput component class.\n@function SelectInput\n@returns {string} Markup of the component.",methods:[],displayName:"SelectInput",props:{name:{defaultValue:{value:"'select'",computed:!1},description:"",type:{name:"string"},required:!1},options:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"array"},required:!1},disabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"any"},required:!1},onChange:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1}}};var WeekdayOfTheMonthIndexField_jsx=react.createElement;const WeekdayOfTheMonthIndexField_messages=(0,lib.defineMessages)({bymonthDayNumber:{id:"Weeek day of month",defaultMessage:"The"},first:{id:"First",defaultMessage:"First"},second:{id:"Second",defaultMessage:"Second"},third:{id:"Third",defaultMessage:"Third"},fourth:{id:"Fourth",defaultMessage:"Fourth"},last:{id:"Last",defaultMessage:"Last"}}),ORDINAL_NUMBERS={1:"first",2:"second",3:"third",4:"fourth","-1":"last"};class WeekdayOfTheMonthIndexField extends react.Component{render(){const{intl:intl,disabled:disabled}=this.props,weekdayOfTheMonthIndexList=[...map_default()(Object.keys(ORDINAL_NUMBERS),(option=>({value:parseInt(option),label:intl.formatMessage(WeekdayOfTheMonthIndexField_messages[ORDINAL_NUMBERS[option]])})))];return WeekdayOfTheMonthIndexField_jsx(react.Fragment,null,WeekdayOfTheMonthIndexField_jsx(Form.c.Field,{disabled:disabled},intl.formatMessage(WeekdayOfTheMonthIndexField_messages.bymonthDayNumber)),WeekdayOfTheMonthIndexField_jsx(Form.c.Field,{disabled:disabled},WeekdayOfTheMonthIndexField_jsx(RecurrenceWidget_SelectInput,(0,esm_extends.c)({name:"weekdayOfTheMonthIndex",options:weekdayOfTheMonthIndexList},this.props))))}}(0,defineProperty.c)(WeekdayOfTheMonthIndexField,"defaultProps",{disabled:!1,value:null,onChange:null});var RecurrenceWidget_WeekdayOfTheMonthIndexField=(0,injectIntl.cp)(WeekdayOfTheMonthIndexField);WeekdayOfTheMonthIndexField.__docgenInfo={description:"",methods:[],displayName:"WeekdayOfTheMonthIndexField",props:{disabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"any"},required:!1},onChange:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1}}};var WeekdayOfTheMonthField_jsx=react.createElement;const WeekdayOfTheMonthField=props=>{const{disabled:disabled=!1,moment:momentlib}=props,lang=(0,es.useSelector)((state=>state.intl.locale)),moment=momentlib.default;moment.locale((0,helpers.mc)(lang));const weekdayOfTheMonthList=[...map_default()(Object.keys(Days),(d=>({value:Days[d].weekday,label:moment.weekdays(Days[d].weekday+1)})))];return WeekdayOfTheMonthField_jsx(Form.c.Field,{disabled:disabled},WeekdayOfTheMonthField_jsx(RecurrenceWidget_SelectInput,(0,esm_extends.c)({name:"weekdayOfTheMonth",options:weekdayOfTheMonthList},props)))};var RecurrenceWidget_WeekdayOfTheMonthField=(0,Loadable.yM)(["moment"])(WeekdayOfTheMonthField);WeekdayOfTheMonthField.__docgenInfo={description:"WeekdayOfTheMonthField component class.\n@function WeekdayOfTheMonthField\n@returns {string} Markup of the component.",methods:[],displayName:"WeekdayOfTheMonthField"};var ByMonthField_jsx=react.createElement;const ByMonthField=({label:label,value:value,bymonthday:bymonthday,weekdayOfTheMonthIndex:weekdayOfTheMonthIndex,weekdayOfTheMonth:weekdayOfTheMonth,onChange:onChange,intl:intl})=>ByMonthField_jsx(Form.c.Field,{inline:!0,className:"text"},ByMonthField_jsx(Grid.c,null,ByMonthField_jsx(Grid.c.Row,{stretched:!0},ByMonthField_jsx(Grid.c.Column,{width:"4"},ByMonthField_jsx("div",{className:"wrapper"},ByMonthField_jsx("label",{htmlFor:"monthly"},label))),ByMonthField_jsx(Grid.c.Column,{width:"8"},ByMonthField_jsx(Form.c.Group,{inline:!0},ByMonthField_jsx(Form.c.Field,null,ByMonthField_jsx(Radio.c,{label:"",name:"monthly",id:"monthly-bymonthday",value:"bymonthday",checked:"bymonthday"===value,onChange:(e,{value:value})=>onChange("monthly",value)})),ByMonthField_jsx(RecurrenceWidget_ByMonthDayField,{value:bymonthday,disabled:"bymonthday"!==value,onChange:onChange})),ByMonthField_jsx(Form.c.Group,{inline:!0},ByMonthField_jsx(Form.c.Field,null,ByMonthField_jsx(Radio.c,{label:"",name:"monthly",id:"monthly-byweekday",value:"byweekday",checked:"byweekday"===value,onChange:(e,{value:value})=>onChange("monthly",value)})),ByMonthField_jsx(RecurrenceWidget_WeekdayOfTheMonthIndexField,{disabled:"byweekday"!==value,value:weekdayOfTheMonthIndex,onChange:onChange}),ByMonthField_jsx(RecurrenceWidget_WeekdayOfTheMonthField,{disabled:"byweekday"!==value,value:weekdayOfTheMonth,onChange:onChange}))))));ByMonthField.defaultProps={label:null,value:null,bymonthday:null,weekdayOfTheMonthIndex:null,weekdayOfTheMonth:null,onChange:null};var RecurrenceWidget_ByMonthField=(0,injectIntl.cp)(ByMonthField);ByMonthField.__docgenInfo={description:"ByMonthField component class.\n@function ByMonthField\n@returns {string} Markup of the component.",methods:[],displayName:"ByMonthField",props:{label:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"any"},required:!1},bymonthday:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"any"},required:!1},weekdayOfTheMonthIndex:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"any"},required:!1},weekdayOfTheMonth:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"any"},required:!1},onChange:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1}}};var MonthOfTheYearField_jsx=react.createElement;const MonthOfTheYearField=({value:value,disabled:disabled,inline:inline,onChange:onChange,moment:momentlib})=>{const moment=momentlib.default,lang=(0,es.useSelector)((state=>state.intl.locale));moment.locale((0,helpers.mc)(lang));const monthList=[...map_default()(moment.months(),((m,i)=>({value:i+1,label:m})))];return MonthOfTheYearField_jsx(Form.c.Field,{inline:inline,disabled:disabled},MonthOfTheYearField_jsx(RecurrenceWidget_SelectInput,{name:"monthOfTheYear",disabled:disabled,options:monthList,value:value,onChange:onChange}))};MonthOfTheYearField.defaultProps={value:null,disabled:!1,inline:!1,onChange:null};var RecurrenceWidget_MonthOfTheYearField=(0,Loadable.yM)(["moment"])(MonthOfTheYearField);MonthOfTheYearField.__docgenInfo={description:"MonthOfTheYearField component class.\n@function MonthOfTheYearField\n@returns {string} Markup of the component.",methods:[],displayName:"MonthOfTheYearField",props:{value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"any"},required:!1},disabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},inline:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},onChange:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1}}};var ByYearField_jsx=react.createElement;const ByYearField_messages=(0,lib.defineMessages)({ofTheMonth:{id:"of the month",defaultMessage:"of the month"}}),ByYearField=({label:label,value:value,bymonthday:bymonthday,monthOfTheYear:monthOfTheYear,weekdayOfTheMonthIndex:weekdayOfTheMonthIndex,weekdayOfTheMonth:weekdayOfTheMonth,onChange:onChange,intl:intl})=>ByYearField_jsx(Form.c.Field,{inline:!0,className:"text byyear-field"},ByYearField_jsx(Grid.c,null,ByYearField_jsx(Grid.c.Row,{stretched:!0},ByYearField_jsx(Grid.c.Column,{width:"4"},ByYearField_jsx("div",{className:"wrapper"},ByYearField_jsx("label",{htmlFor:"yearly"},label))),ByYearField_jsx(Grid.c.Column,{width:"8"},ByYearField_jsx(Form.c.Group,{inline:!0,className:"byyear-bymonthday"},ByYearField_jsx(Form.c.Field,null,ByYearField_jsx(Radio.c,{label:"",name:"yearly",value:"bymonthday",id:"yearly-bymonthday",checked:"bymonthday"===value,onChange:(e,{value:value})=>onChange("yearly",value)})),ByYearField_jsx(RecurrenceWidget_ByMonthDayField,{value:bymonthday,disabled:"bymonthday"!==value,onChange:onChange,hideAfterLabel:!0}),ByYearField_jsx(RecurrenceWidget_MonthOfTheYearField,{value:monthOfTheYear,disabled:"bymonthday"!==value,onChange:onChange})),ByYearField_jsx(Form.c.Group,{inline:!0,className:"byyear-byday"},ByYearField_jsx(Form.c.Field,null,ByYearField_jsx(Radio.c,{label:"",name:"yearly",id:"yearly-byday",value:"byday",checked:"byday"===value,onChange:(e,{value:value})=>onChange("yearly",value)})),ByYearField_jsx(RecurrenceWidget_WeekdayOfTheMonthIndexField,{disabled:"byday"!==value,value:weekdayOfTheMonthIndex,onChange:onChange}),ByYearField_jsx(RecurrenceWidget_WeekdayOfTheMonthField,{disabled:"byday"!==value,value:weekdayOfTheMonth,onChange:onChange}),ByYearField_jsx(Form.c.Field,{disabled:"byday"!==value},intl.formatMessage(ByYearField_messages.ofTheMonth)),ByYearField_jsx(RecurrenceWidget_MonthOfTheYearField,{value:monthOfTheYear,disabled:"byday"!==value,onChange:onChange,inline:!1}))))));ByYearField.defaultProps={label:null,value:null,bymonthday:null,monthOfTheYear:null,weekdayOfTheMonthIndex:null,weekdayOfTheMonth:null,onChange:null};var RecurrenceWidget_ByYearField=(0,injectIntl.cp)(ByYearField);ByYearField.__docgenInfo={description:"ByYearField component class.\n@function ByYearField\n@returns {string} Markup of the component.",methods:[],displayName:"ByYearField",props:{label:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"any"},required:!1},bymonthday:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"any"},required:!1},monthOfTheYear:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"any"},required:!1},weekdayOfTheMonthIndex:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"any"},required:!1},weekdayOfTheMonth:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"any"},required:!1},onChange:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1}}};var prop_types=__webpack_require__("../../../node_modules/.pnpm/prop-types@15.7.2/node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),List=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/List/List.js"),circle_plus=__webpack_require__("./src/icons/circle-plus.svg"),circle_plus_default=__webpack_require__.n(circle_plus),Occurences_jsx=react.createElement;const Occurences_messages=(0,lib.defineMessages)({selected_dates:{id:"Selected dates",defaultMessage:"Selected dates"},start_of_recurrence:{id:"Start of the recurrence",defaultMessage:"Start of the recurrence"},additional_date:{id:"Additional date",defaultMessage:"Additional date"},other_items:{id:"others",defaultMessage:"others"},no_occurences:{id:"No occurences set",defaultMessage:"No occurences set"},exclude:{id:"Exclude this occurence",defaultMessage:"Exclude this occurence"},include:{id:"Include this occurence",defaultMessage:"Include this occurrence"}}),Occurences_=({rruleSet:rruleSet,exclude:exclude,undoExclude:undoExclude,intl:intl,showTitle:showTitle,editOccurences:editOccurences,moment:momentlib})=>{const moment=momentlib.default,lang=(0,es.useSelector)((state=>state.intl.locale));moment.locale((0,helpers.mc)(lang));let all=[];rruleSet&&(all=rruleSet.all(),rruleSet.exdates().forEach((date=>{all.indexOf(date)<0&&all.push(date)})),all.sort(((a,b)=>a>b?1:-1)));const others=all.splice(100);return Occurences_jsx("div",{className:"occurences"},0===all.length&&Occurences_jsx(react.Fragment,null,intl.formatMessage(Occurences_messages.no_occurences)),showTitle&&Occurences_jsx(Header.c,{as:"h2"},intl.formatMessage(Occurences_messages.selected_dates)),Occurences_jsx(List.c,{divided:!0,verticalAlign:"middle"},all.map(((date,index)=>{const excluded=(date=>{var dateISO=toISOString(date),excluded=!1;return rruleSet.exdates().forEach((ex=>{toISOString(ex)===dateISO&&(excluded=!0)})),excluded})(date);return Occurences_jsx(List.c.Item,{key:date.toString()},editOccurences&&Occurences_jsx(List.c.Content,{floated:"right"},index>0?Occurences_jsx(react.Fragment,null,!excluded&&Occurences_jsx(Button.c,{basic:!0,icon:!0,className:"exclude-button",onClick:()=>{exclude(date)},"aria-label":intl.formatMessage(Occurences_messages.exclude)},Occurences_jsx(components.GWx,{name:delete_default(),size:"18px"})),excluded&&Occurences_jsx(Button.c,{basic:!0,icon:!0,className:"include-button",onClick:()=>{undoExclude(date)},"aria-label":intl.formatMessage(Occurences_messages.include)},Occurences_jsx(components.GWx,{name:circle_plus_default(),size:"24px"}))):intl.formatMessage(Occurences_messages.start_of_recurrence)),Occurences_jsx(List.c.Content,{className:classnames_default()({excluded:excluded})},((d,moment)=>{const m=moment(d);return m.format("dddd")+", "+m.format("LL")})(date,moment),(date=>{var dateISO=toISOString(date),additional=!1;return rruleSet.rdates().forEach((d=>{toISOString(d)===dateISO&&(additional=!0)})),additional})(date)&&Occurences_jsx(Label.c,{pointing:"left",size:"small",color:excluded?"grey":"green"},intl.formatMessage(Occurences_messages.additional_date))))})),others.length>0&&Occurences_jsx(List.c.Item,null,Occurences_jsx(List.c.Content,null,`... ${intl.formatMessage(Occurences_messages.other_items)} ${others.length}`))))},Occurences=(0,Loadable.yM)(["moment"])(Occurences_);Occurences.propTypes={rruleSet:prop_types_default().any,showTitle:prop_types_default().bool,editOccurences:prop_types_default().bool},Occurences.defaultProps={rruleSet:null,showTitle:!0,editOccurences:!0};var RecurrenceWidget_Occurences=(0,injectIntl.cp)(Occurences);Occurences_.__docgenInfo={description:"Occurences component class.\n@function Occurences\n@returns {string} Markup of the component.",methods:[],displayName:"Occurences_"};var RecurrenceWidget_jsx=react.createElement;const RecurrenceWidget_messages=(0,lib.defineMessages)({editRecurrence:{id:"Edit recurrence",defaultMessage:"Edit recurrence"},save:{id:"Save recurrence",defaultMessage:"Save"},remove:{id:"Remove recurrence",defaultMessage:"Remove"},repeat:{id:"Repeat",defaultMessage:"Repeat"},daily:{id:"Daily",defaultMessage:"Daily"},mondayfriday:{id:"Monday and Friday",defaultMessage:"Monday and Friday"},weekdays:{id:"Weekday",defaultMessage:"Weekday"},weekly:{id:"Weekly",defaultMessage:"Weekly"},monthly:{id:"Monthly",defaultMessage:"Monthly"},yearly:{id:"Yearly",defaultMessage:"Yearly"},repeatEvery:{id:"Repeat every",defaultMessage:"Repeat every"},repeatOn:{id:"Repeat on",defaultMessage:"Repeat on"},interval_daily:{id:"Interval Daily",defaultMessage:"days"},interval_weekly:{id:"Interval Weekly",defaultMessage:"week(s)"},interval_monthly:{id:"Interval Monthly",defaultMessage:"Month(s)"},interval_yearly:{id:"Interval Yearly",defaultMessage:"year(s)"},add_date:{id:"Add date",defaultMessage:"Add date"},select_date_to_add_to_recurrence:{id:"Select a date to add to recurrence",defaultMessage:"Select a date to add to recurrence"}}),NoRRuleOptions=["recurrenceEnds","monthly","weekdayOfTheMonthIndex","weekdayOfTheMonth","yearly","monthOfTheYear","byhour","byminute","bysecond","bynmonthday","exdates","rdates"];class RecurrenceWidget extends react.Component{constructor(props,intl){super(props),(0,defineProperty.c)(this,"editRecurrence",(()=>{this.setRecurrenceStartEnd()})),(0,defineProperty.c)(this,"setRecurrenceStartEnd",(()=>{var _this$props$formData;const start=null===(_this$props$formData=this.props.formData)||void 0===_this$props$formData?void 0:_this$props$formData.start,_start=new Date(start);this.setState((prevState=>{let rruleSet=prevState.rruleSet;const formValues=this.getFormValues(rruleSet);return rruleSet=this.updateRruleSet(rruleSet,formValues,"dtstart",_start),(0,objectSpread2.c)((0,objectSpread2.c)({},prevState),{},{rruleSet:rruleSet,formValues:formValues})}))})),(0,defineProperty.c)(this,"getUTCDate",(date=>date.match(/T(.)*(-|\+|Z)/g)?this.moment(date).utc():this.moment(`${date}Z`).utc())),(0,defineProperty.c)(this,"show",(dimmer=>()=>{this.setState({dimmer:dimmer,open:!0}),this.editRecurrence()})),(0,defineProperty.c)(this,"close",(()=>this.setState({open:!1}))),(0,defineProperty.c)(this,"getFreq",((number,weekdays)=>{let freq=FREQUENCES.DAILY;return Object.entries(OPTIONS.frequences).forEach((([f,o])=>{o.rrule===number&&(freq=f)})),freq===FREQUENCES.WEEKLY&&weekdays&&isEqual_default()(weekdays.sort(),WEEKLY_DAYS.map((w=>w.weekday)).sort())&&(freq=FREQUENCES.WEEKDAYS),freq})),(0,defineProperty.c)(this,"getWeekday",(number=>{var day=null;const n=-1===number?6:number;return Object.keys(Days).forEach((d=>{Days[d].weekday===n&&(day=Days[d])})),day})),(0,defineProperty.c)(this,"getFormValues",(rruleSet=>{var _this$props$formData2;let formValues={freq:FREQUENCES.DAILY,interval:1};formValues=this.changeField(formValues,"recurrenceEnds",null!==(_this$props$formData2=this.props.formData)&&void 0!==_this$props$formData2&&_this$props$formData2.end?"until":"count");const rrule=rruleSet.rrules()[0];if(rrule){var freq=this.getFreq(rrule.options.freq,rrule.options.byweekday);Object.entries(rrule.options).forEach((([option,value])=>{switch(option){case"freq":formValues[option]=freq;break;case"count":case"until":null!=value&&(formValues.recurrenceEnds=option,formValues[option]=value);break;case"byweekday":value&&value.length>0&&(isEqual_default()(value,WEEKLY_DAYS)&&(formValues.freq=FREQUENCES.WEEKDAYS),isEqual_default()(value,MONDAYFRIDAY_DAYS)&&(formValues.freq=FREQUENCES.MONDAYFRIDAY)),formValues[option]=value?value.map((d=>this.getWeekday(d))):[];break;case"bymonthday":value&&value.length>0?(freq===FREQUENCES.MONTHLY&&(formValues.monthly=option),freq===FREQUENCES.YEARLY&&(formValues.yearly=option)):(freq===FREQUENCES.MONTHLY&&(formValues.monthly=null),freq===FREQUENCES.YEARLY&&(formValues.yearly=null)),formValues[option]=value;break;case"bynweekday":value&&value.length>0&&(freq===FREQUENCES.SMONTHLY&&(formValues.monthly="byweekday"),freq===FREQUENCES.YEARLY&&(formValues.yearly="byday"),formValues.weekdayOfTheMonth=value[0][0],formValues.weekdayOfTheMonthIndex=value[0][1]);break;case"bymonth":freq===FREQUENCES.YEARLY&&(formValues.yearly="byday"),formValues.monthOfTheYear=value?value[0]:null;break;default:formValues[option]=value}}))}return formValues})),(0,defineProperty.c)(this,"formValuesToRRuleOptions",(formValues=>{var values=Object.assign({},formValues);return NoRRuleOptions.forEach((opt=>{delete values[opt]})),Object.keys(values).forEach((field=>{var value=values[field];switch(field){case"freq":value&&(value=OPTIONS.frequences[value].rrule);break;case"until":let mDate=null;if(value&&(mDate=this.moment(new Date(value)),mDate="string"==typeof value?this.moment(new Date(value)):this.moment(value),this.props.formData.end)){const mEnd=this.moment(new Date(this.props.formData.end));mDate.set("hour",mEnd.get("hour")),mDate.set("minute",mEnd.get("minute"))}value=value?mDate.toDate():null}0===value||value?values[field]=value:delete values[field]})),values})),(0,defineProperty.c)(this,"updateRruleSet",((rruleSet,formValues,field,value)=>{var rruleOptions=this.formValuesToRRuleOptions(formValues),dstart="dtstart"===field?value:rruleSet.dtstart()?rruleSet.dtstart():new Date,exdates="exdates"===field?value:Object.assign([],rruleSet.exdates()),rdates="rdates"===field?value:Object.assign([],rruleSet.rdates());rruleOptions.dtstart=dstart;const{RRule:RRule,RRuleSet:RRuleSet}=this.props.rrule;let set=new RRuleSet;return set.rrule(new RRule(rruleOptions)),exdates.map((ex=>set.exdate(ex))),rdates.map((r=>set.rdate(r))),set})),(0,defineProperty.c)(this,"getDefaultUntil",(freq=>{var _this$props$formData3;const moment=this.moment;var end=null!==(_this$props$formData3=this.props.formData)&&void 0!==_this$props$formData3&&_this$props$formData3.end?moment(new Date(this.props.formData.end)):null,tomorrow=moment().add(1,"days"),nextWeek=moment().add(7,"days"),nextMonth=moment().add(1,"months"),nextYear=moment().add(1,"years"),until=end;switch(freq){case FREQUENCES.DAILY:until=end||tomorrow;break;case FREQUENCES.WEEKLY:case FREQUENCES.WEEKDAYS:case FREQUENCES.MONDAYFRIDAY:until=end||nextWeek;break;case FREQUENCES.MONTHLY:until=end||nextMonth;break;case FREQUENCES.YEARLY:until=end||nextYear}return this.props.formData.end&&(until.set("hour",end.get("hour")),until.set("minute",end.get("minute"))),until=new Date(until.get("year"),until.get("month"),until.get("date"),until.get("hour"),until.get("minute"))})),(0,defineProperty.c)(this,"changeField",((formValues,field,value)=>{var _this$state,_this$state$rruleSet,_this$props$formData4,_this$props$formData5,_this$props$formData6;const moment=this.moment,byweekday=(null===(_this$state=this.state)||void 0===_this$state||null===(_this$state$rruleSet=_this$state.rruleSet)||void 0===_this$state$rruleSet?void 0:_this$state$rruleSet.rrules().length)>0?this.state.rruleSet.rrules()[0].origOptions.byweekday:null,currWeekday=this.getWeekday(moment().day()-1),currMonth=moment().month()+1,startMonth=null!==(_this$props$formData4=this.props.formData)&&void 0!==_this$props$formData4&&_this$props$formData4.start?moment(this.props.formData.start).month()+1:currMonth,startWeekday=null!==(_this$props$formData5=this.props.formData)&&void 0!==_this$props$formData5&&_this$props$formData5.start?this.getWeekday(moment(this.props.formData.start).day()-1):currWeekday;formValues[field]=value;const defaultMonthDay=null!==(_this$props$formData6=this.props.formData)&&void 0!==_this$props$formData6&&_this$props$formData6.start?moment(this.props.formData.start).date():moment().date();switch(field){case"freq":formValues.interval=1;switch(OPTIONS.frequences[value].interval||(formValues.interval=null),formValues=this.changeField(formValues,"byweekday",null),formValues=this.changeField(formValues,"yearly",null),formValues=this.changeField(formValues,"bymonthday",null),formValues=this.changeField(formValues,"byweekday",null),(formValues=this.changeField(formValues,"monthOfTheYear",null)).until||(formValues.until=this.getDefaultUntil(value)),value){case FREQUENCES.DAILY:break;case FREQUENCES.WEEKDAYS:formValues=this.changeField(formValues,"byweekday",WEEKLY_DAYS);break;case FREQUENCES.MONDAYFRIDAY:formValues=this.changeField(formValues,"byweekday",MONDAYFRIDAY_DAYS);break;case FREQUENCES.WEEKLY:formValues=this.changeField(formValues,"byweekday",[startWeekday]);break;case FREQUENCES.MONTHLY:formValues=this.changeField(formValues,"monthly","bymonthday");break;case FREQUENCES.YEARLY:formValues=this.changeField(formValues,"yearly","bymonthday")}break;case"recurrenceEnds":"count"===value&&(formValues.count=1,formValues.until=null),"until"===value&&(formValues.until=this.getDefaultUntil(formValues.freq),formValues.count=null);break;case"byweekday":formValues.byweekday=value,FREQUENCES.WEEKLY!==formValues.freq?(formValues.weekdayOfTheMonth=value?value[0].weekday:null,formValues.weekdayOfTheMonthIndex=value?value[0].n:null):(delete formValues.weekdayOfTheMonth,delete formValues.weekdayOfTheMonthIndex);break;case"weekdayOfTheMonth":var weekday=this.getWeekday(value),n=byweekday?byweekday[0].n:1;formValues.byweekday=weekday?[weekday.nth(n)]:null;break;case"weekdayOfTheMonthIndex":var week_day=byweekday?byweekday[0]:currWeekday;formValues.byweekday=value?[week_day.nth(value)]:null;break;case"monthOfTheYear":null==value?delete formValues.bymonth:formValues.bymonth=[value];break;case"monthly":"bymonthday"===value&&(formValues.bymonthday=[defaultMonthDay],formValues=this.changeField(formValues,"byweekday",null)),"byweekday"===value&&(formValues.bymonthday=null,formValues=this.changeField(formValues,"byweekday",[currWeekday.nth(1)])),null===value&&(formValues=this.changeField(formValues,"bymonthday",null),formValues=this.changeField(formValues,"byweekday",null));break;case"yearly":"bymonthday"===value&&(formValues.bymonthday=[defaultMonthDay],formValues=this.changeField(formValues,"monthOfTheYear",startMonth),formValues=this.changeField(formValues,"byweekday",null)),"byday"===value&&(formValues=this.changeField(formValues,"bymonthday",null),formValues=this.changeField(formValues,"byweekday",[startWeekday.nth(1)]),formValues=this.changeField(formValues,"monthOfTheYear",startMonth))}return formValues})),(0,defineProperty.c)(this,"onChangeRule",((field,value)=>{var formValues=Object.assign({},this.state.formValues);formValues=this.changeField(formValues,field,value),this.setState((prevState=>{var rruleSet=prevState.rruleSet;return rruleSet=this.updateRruleSet(rruleSet,formValues,field,value),(0,objectSpread2.c)((0,objectSpread2.c)({},prevState),{},{rruleSet:rruleSet,formValues:formValues})}))})),(0,defineProperty.c)(this,"exclude",(date=>{let list=this.state.rruleSet.exdates().slice(0);list.push(date),this.onChangeRule("exdates",list)})),(0,defineProperty.c)(this,"undoExclude",(date=>{let list=this.state.rruleSet.exdates().slice(0);remove_default()(list,(e=>e.getTime()===date.getTime())),this.onChangeRule("exdates",list)})),(0,defineProperty.c)(this,"addDate",(date=>{const moment=this.moment;let all=concat_default()(this.state.rruleSet.all(),this.state.rruleSet.exdates());var simpleDate=moment(new Date(date)).startOf("day").toDate().getTime();if(!find_default()(all,(e=>moment(e).startOf("day").toDate().getTime()===simpleDate))){let list=this.state.rruleSet.rdates().slice(0);list.push(new Date(date)),this.onChangeRule("rdates",list)}})),(0,defineProperty.c)(this,"saveRrule",(()=>{var value=this.state.rruleSet.toString();this.props.onChange(this.props.id,value)})),(0,defineProperty.c)(this,"save",(()=>{this.saveRrule(),this.close()})),(0,defineProperty.c)(this,"remove",(()=>{const{RRuleSet:RRuleSet}=this.props.rrule;this.props.onChange(this.props.id,null);let rruleSet=new RRuleSet;this.setState({rruleSet:rruleSet,formValues:this.getFormValues(rruleSet)})}));const{RRuleSet:_RRuleSet,rrulestr:rrulestr}=props.rrule;this.moment=this.props.moment.default,this.moment.locale((0,helpers.mc)(this.props.lang));let _rruleSet=this.props.value?rrulestr(props.value,{compatible:!0,forceset:!0}):new _RRuleSet;this.state={open:!1,rruleSet:_rruleSet,formValues:this.getFormValues(_rruleSet),RRULE_LANGUAGE:rrulei18n(this.props.intl,this.moment,(0,helpers.mc)(this.props.lang))}}componentDidMount(){this.props.value&&this.setRecurrenceStartEnd()}componentDidUpdate(prevProps){if(this.props.value){var _prevProps$formData,_this$props$formData7,_prevProps$formData2,_this$props$formData8;const changedStart=(null===(_prevProps$formData=prevProps.formData)||void 0===_prevProps$formData?void 0:_prevProps$formData.start)!==(null===(_this$props$formData7=this.props.formData)||void 0===_this$props$formData7?void 0:_this$props$formData7.start),changedEnd=(null===(_prevProps$formData2=prevProps.formData)||void 0===_prevProps$formData2?void 0:_prevProps$formData2.end)!==(null===(_this$props$formData8=this.props.formData)||void 0===_this$props$formData8?void 0:_this$props$formData8.end);if(changedStart||changedEnd){var _this$props$formData9;let start=this.getUTCDate(null===(_this$props$formData9=this.props.formData)||void 0===_this$props$formData9?void 0:_this$props$formData9.start).toDate(),changeFormValues={};var _this$props$formData10;if(changedEnd)changeFormValues.until=this.getUTCDate(null===(_this$props$formData10=this.props.formData)||void 0===_this$props$formData10?void 0:_this$props$formData10.end).toDate();this.setState((prevState=>{let rruleSet=prevState.rruleSet;return rruleSet=this.updateRruleSet(rruleSet,(0,objectSpread2.c)((0,objectSpread2.c)({},prevState.formValues),changeFormValues),"dtstart",start),(0,objectSpread2.c)((0,objectSpread2.c)({},prevState),{},{rruleSet:rruleSet})}),(()=>{this.saveRrule()}))}}}render(){var _rruleSet$rrules$;const{open:open,dimmer:dimmer,rruleSet:rruleSet,formValues:formValues,RRULE_LANGUAGE:RRULE_LANGUAGE}=this.state,{id:id,title:title,required:required,description:description,error:error,fieldSet:fieldSet,intl:intl}=this.props;return RecurrenceWidget_jsx(Form.c.Field,{inline:!0,required:required,error:error.length>0,className:classnames_default()("recurrence-widget",description?"help":""),id:`${fieldSet||"field"}-${id}`},RecurrenceWidget_jsx(Grid.c,null,RecurrenceWidget_jsx(Grid.c.Row,{stretched:!0,verticalAlign:"middle"},RecurrenceWidget_jsx(Grid.c.Column,{width:"4"},RecurrenceWidget_jsx("div",{className:"wrapper"},RecurrenceWidget_jsx("label",{htmlFor:`field-${id}`},title))),RecurrenceWidget_jsx(Grid.c.Column,{width:"8"},rruleSet.rrules()[0]&&RecurrenceWidget_jsx(react.Fragment,null,RecurrenceWidget_jsx(Label.c,null,null===(_rruleSet$rrules$=rruleSet.rrules()[0])||void 0===_rruleSet$rrules$?void 0:_rruleSet$rrules$.toText((t=>RRULE_LANGUAGE.strings[t]),RRULE_LANGUAGE,RRULE_LANGUAGE.dateFormatter)),RecurrenceWidget_jsx(Segment.c,null,RecurrenceWidget_jsx(RecurrenceWidget_Occurences,{rruleSet:rruleSet,exclude:this.exclude,undoExclude:this.undoExclude,showTitle:!1,editOccurences:!1}))),RecurrenceWidget_jsx("div",null,RecurrenceWidget_jsx(Button.c,{basic:!0,disabled:this.props.isDisabled,color:"blue",className:"edit-recurrence",onClick:this.show("blurring"),type:"button","aria-label":intl.formatMessage(RecurrenceWidget_messages.editRecurrence)},RecurrenceWidget_jsx(components.GWx,{name:editing_default(),size:"20px",title:intl.formatMessage(RecurrenceWidget_messages.editRecurrence)})),this.props.value&&RecurrenceWidget_jsx(Button.c,{basic:!0,color:"pink",className:"remove-recurrence",onClick:()=>{this.remove()},type:"button","aria-label":intl.formatMessage(RecurrenceWidget_messages.remove)},RecurrenceWidget_jsx(components.GWx,{name:delete_default(),size:"20px",title:intl.formatMessage(RecurrenceWidget_messages.remove)}))),RecurrenceWidget_jsx(Modal.c,{dimmer:dimmer,open:open,onClose:this.close,className:"recurrence-form",closeIcon:!0},RecurrenceWidget_jsx(Modal.c.Header,null,intl.formatMessage(RecurrenceWidget_messages.editRecurrence)," "),RecurrenceWidget_jsx(Modal.c.Content,{scrolling:!0},rruleSet.rrules().length>0&&RecurrenceWidget_jsx(Modal.c.Description,null,RecurrenceWidget_jsx(Segment.c,null,RecurrenceWidget_jsx(Form.c,null,RecurrenceWidget_jsx(SelectWidget.default,{id:"freq",title:intl.formatMessage(RecurrenceWidget_messages.repeat),getVocabulary:()=>{},getVocabularyTokenTitle:()=>{},choices:Object.keys(OPTIONS.frequences).map((t=>[t,intl.formatMessage(RecurrenceWidget_messages[t])])),value:formValues.freq,onChange:this.onChangeRule}),OPTIONS.frequences[formValues.freq].interval&&RecurrenceWidget_jsx(RecurrenceWidget_IntervalField,{label:intl.formatMessage(RecurrenceWidget_messages.repeatEvery),labelAfter:formValues.freq&&intl.formatMessage(RecurrenceWidget_messages["interval_"+formValues.freq]),value:formValues.interval,onChange:this.onChangeRule}),OPTIONS.frequences[formValues.freq].byday&&RecurrenceWidget_jsx(RecurrenceWidget_ByDayField,{label:intl.formatMessage(RecurrenceWidget_messages.repeatOn),value:formValues.byweekday,onChange:this.onChangeRule}),OPTIONS.frequences[formValues.freq].bymonth&&RecurrenceWidget_jsx(RecurrenceWidget_ByMonthField,{label:intl.formatMessage(RecurrenceWidget_messages.repeatOn),value:formValues.monthly,bymonthday:formValues.bymonthday,weekdayOfTheMonthIndex:formValues.weekdayOfTheMonthIndex,weekdayOfTheMonth:formValues.weekdayOfTheMonth,onChange:this.onChangeRule}),OPTIONS.frequences[formValues.freq].byyear&&RecurrenceWidget_jsx(RecurrenceWidget_ByYearField,{label:intl.formatMessage(RecurrenceWidget_messages.repeatOn),value:formValues.yearly,bymonthday:formValues.bymonthday,monthOfTheYear:formValues.monthOfTheYear,weekdayOfTheMonthIndex:formValues.weekdayOfTheMonthIndex,weekdayOfTheMonth:formValues.weekdayOfTheMonth,onChange:this.onChangeRule}),RecurrenceWidget_jsx(RecurrenceWidget_EndField,{value:formValues.recurrenceEnds,count:formValues.count,until:formValues.until,onChange:this.onChangeRule}))),RecurrenceWidget_jsx(Segment.c,null,RecurrenceWidget_jsx(RecurrenceWidget_Occurences,{rruleSet:rruleSet,exclude:this.exclude,undoExclude:this.undoExclude})),RecurrenceWidget_jsx(Segment.c,null,RecurrenceWidget_jsx(Header.c,{as:"h2"},intl.formatMessage(RecurrenceWidget_messages.add_date)),RecurrenceWidget_jsx(DatetimeWidget.default,{id:"addDate",title:intl.formatMessage(RecurrenceWidget_messages.select_date_to_add_to_recurrence),dateOnly:!0,noPastDates:!0,onChange:(id,value)=>{this.addDate(""===value?void 0:value)}})))),RecurrenceWidget_jsx(Modal.c.Actions,null,RecurrenceWidget_jsx(Button.c,{className:"save",basic:!0,onClick:()=>{this.save()},"aria-label":intl.formatMessage(RecurrenceWidget_messages.save)},RecurrenceWidget_jsx(components.GWx,{name:save_default(),className:"circled",size:"30px",title:intl.formatMessage(RecurrenceWidget_messages.save)})))),map_default()(error,(message=>RecurrenceWidget_jsx(Label.c,{key:message,basic:!0,color:"red",pointing:!0},message))))),description&&RecurrenceWidget_jsx(Grid.c.Row,{stretched:!0},RecurrenceWidget_jsx(Grid.c.Column,{stretched:!0,width:"12"},RecurrenceWidget_jsx("p",{className:"help"},description)))))}}(0,defineProperty.c)(RecurrenceWidget,"defaultProps",{description:null,required:!1,error:[],value:null});var RecurrenceWidget_RecurrenceWidget=(0,redux.compose)((0,Loadable.yM)(["moment","rrule"]),(0,es.connect)((state=>({lang:state.intl.locale}))),injectIntl.cp)(RecurrenceWidget);RecurrenceWidget.__docgenInfo={description:"RecurrenceWidget component class.\n@function RecurrenceWidget\n@returns {string} Markup of the component.",methods:[{name:"editRecurrence",docblock:null,modifiers:[],params:[],returns:null},{name:"setRecurrenceStartEnd",docblock:null,modifiers:[],params:[],returns:null},{name:"getUTCDate",docblock:null,modifiers:[],params:[{name:"date",optional:!1,type:null}],returns:null},{name:"show",docblock:null,modifiers:[],params:[{name:"dimmer",optional:!1,type:null}],returns:null},{name:"close",docblock:null,modifiers:[],params:[],returns:null},{name:"getFreq",docblock:null,modifiers:[],params:[{name:"number",optional:!1,type:null},{name:"weekdays",optional:!1,type:null}],returns:null},{name:"getWeekday",docblock:null,modifiers:[],params:[{name:"number",optional:!1,type:null}],returns:null},{name:"getFormValues",docblock:"Called on init, to populate form values",modifiers:[],params:[{name:"rruleSet",optional:!1}],returns:null,description:"Called on init, to populate form values"},{name:"formValuesToRRuleOptions",docblock:null,modifiers:[],params:[{name:"formValues",optional:!1,type:null}],returns:null},{name:"updateRruleSet",docblock:null,modifiers:[],params:[{name:"rruleSet",optional:!1,type:null},{name:"formValues",optional:!1,type:null},{name:"field",optional:!1,type:null},{name:"value",optional:!1,type:null}],returns:null},{name:"getDefaultUntil",docblock:null,modifiers:[],params:[{name:"freq",optional:!1,type:null}],returns:null},{name:"changeField",docblock:null,modifiers:[],params:[{name:"formValues",optional:!1,type:null},{name:"field",optional:!1,type:null},{name:"value",optional:!1,type:null}],returns:null},{name:"onChangeRule",docblock:null,modifiers:[],params:[{name:"field",optional:!1,type:null},{name:"value",optional:!1,type:null}],returns:null},{name:"exclude",docblock:null,modifiers:[],params:[{name:"date",optional:!1,type:null}],returns:null},{name:"undoExclude",docblock:null,modifiers:[],params:[{name:"date",optional:!1,type:null}],returns:null},{name:"addDate",docblock:null,modifiers:[],params:[{name:"date",optional:!1,type:null}],returns:null},{name:"saveRrule",docblock:null,modifiers:[],params:[],returns:null},{name:"save",docblock:null,modifiers:[],params:[],returns:null},{name:"remove",docblock:null,modifiers:[],params:[],returns:null}],displayName:"RecurrenceWidget",props:{description:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},required:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},error:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},id:{description:"",type:{name:"string"},required:!0},formData:{description:"",type:{name:"object"},required:!1},title:{description:"",type:{name:"string"},required:!0},onChange:{description:"",type:{name:"func"},required:!0}}}},"./src/components/manage/Widgets/ReferenceWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),lodash_uniqBy__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/uniqBy.js"),lodash_uniqBy__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_uniqBy__WEBPACK_IMPORTED_MODULE_0__),lodash_values__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/values.js"),lodash_values__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_values__WEBPACK_IMPORTED_MODULE_1__),lodash_map__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/map.js"),lodash_map__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_2__),lodash_fromPairs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/fromPairs.js"),lodash_fromPairs__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash_fromPairs__WEBPACK_IMPORTED_MODULE_3__),lodash_concat__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/concat.js"),lodash_concat__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(lodash_concat__WEBPACK_IMPORTED_MODULE_4__),lodash_compact__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/compact.js"),lodash_compact__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(lodash_compact__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/.pnpm/react-redux@8.1.2_@types+react-dom@18.2.12_@types+react@18.2.27_react-dom@18.2.0_react@18.2.0__react@18.2.0_redux@4.2.1/node_modules/react-redux/es/index.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/modules/Popup/Popup.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Icon/Icon.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Label/Label.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/modules/Dropdown/Dropdown.js"),react_intl__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/useIntl.js"),_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/manage/Widgets/FormFieldWrapper.jsx"),_plone_volto_actions__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/actions/index.js"),_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/helpers/index.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_6__.createElement;const messages=(0,react_intl__WEBPACK_IMPORTED_MODULE_11__.defineMessages)({no_results_found:{id:"No results found.",defaultMessage:"No results found."},no_value:{id:"No value",defaultMessage:"No value"}}),ReferenceWidget=props=>{const{id:id,title:title,value:value,multiple:multiple,onChange:onChange}=props,intl=(0,react_intl__WEBPACK_IMPORTED_MODULE_12__.c)(),dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_7__.useDispatch)(),search=(0,react_redux__WEBPACK_IMPORTED_MODULE_7__.useSelector)((state=>state.search.items)),{0:choices,1:setChoices}=(0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(value?multiple?lodash_fromPairs__WEBPACK_IMPORTED_MODULE_3___default()(lodash_map__WEBPACK_IMPORTED_MODULE_2___default()(value,(value=>[value["@id"],{key:value["@id"],text:(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__._c)(value["@id"]),value:value["@id"],label:{content:value.title},data:value}]))):{[value["@id"]]:{key:value["@id"],text:(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__._c)(value),value:value["@id"],label:{content:value.title},data:value},novalue:{key:"novalue",text:intl.formatMessage(messages.no_value),value:"novalue",data:null}}:{});(0,react__WEBPACK_IMPORTED_MODULE_6__.useEffect)((()=>{dispatch((0,_plone_volto_actions__WEBPACK_IMPORTED_MODULE_9__.kL)())}),[dispatch]),(0,react__WEBPACK_IMPORTED_MODULE_6__.useEffect)((()=>{setChoices((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_13__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_13__.c)({},lodash_fromPairs__WEBPACK_IMPORTED_MODULE_3___default()(lodash_map__WEBPACK_IMPORTED_MODULE_2___default()(lodash_uniqBy__WEBPACK_IMPORTED_MODULE_0___default()(lodash_map__WEBPACK_IMPORTED_MODULE_2___default()(lodash_compact__WEBPACK_IMPORTED_MODULE_5___default()(lodash_concat__WEBPACK_IMPORTED_MODULE_4___default()(value,search)),(item=>(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_13__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_13__.c)({},item),{},{"@id":(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__._c)(item["@id"])}))),"@id"),(value=>[value["@id"],{key:value["@id"],text:(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__._c)(value["@id"]),value:value["@id"],label:{content:value.title},data:value}])))),{},{novalue:{key:"novalue",text:intl.formatMessage(messages.no_value),value:"novalue",data:null}}))}),[intl,search,value]);return __jsx(_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_8__.default,props,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_17__.c,{options:lodash_values__WEBPACK_IMPORTED_MODULE_1___default()(choices),placeholder:title,search:!0,selection:!0,fluid:!0,noResultsMessage:intl.formatMessage(messages.no_results_found),multiple:multiple,value:multiple?value?lodash_map__WEBPACK_IMPORTED_MODULE_2___default()(value,(item=>item&&item["@id"]?(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__._c)(item["@id"]):item)):[]:value?(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_10__._c)(value["@id"]):"",onChange:(event,data)=>onChange(id,multiple?lodash_map__WEBPACK_IMPORTED_MODULE_2___default()(data.value,(item=>choices[item].data)):choices[data.value].data),onSearchChange:(event,data)=>{data.searchQuery&&""!==data.searchQuery?dispatch((0,_plone_volto_actions__WEBPACK_IMPORTED_MODULE_9__.uU)("",{Title:`*${data.searchQuery}*`})):dispatch((0,_plone_volto_actions__WEBPACK_IMPORTED_MODULE_9__.kL)())},renderLabel:(item,index,defaultProps)=>__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_14__.c,{key:item.value,content:__jsx(react__WEBPACK_IMPORTED_MODULE_6__.Fragment,null,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_15__.c,{name:"home"})," ",item.value),trigger:defaultProps&&__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_16__.c,{active:defaultProps.active},item.label.content,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_15__.c,{name:"delete",onClick:event=>{defaultProps.onRemove(event,defaultProps)}}))})}))};ReferenceWidget.defaultProps={description:null,required:!1,error:[],value:null,multiple:!0},__webpack_exports__.default=ReferenceWidget,ReferenceWidget.__docgenInfo={description:"",methods:[],displayName:"ReferenceWidget",props:{description:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},required:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},error:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"union",value:[{name:"arrayOf",value:{name:"object"}},{name:"object"}]},required:!1},multiple:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},id:{description:"",type:{name:"string"},required:!0},title:{description:"",type:{name:"string"},required:!0},onChange:{description:"",type:{name:"func"},required:!0},wrapped:{description:"",type:{name:"bool"},required:!1}}}},"./src/components/manage/Widgets/RegistryImageWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/modules/Dimmer/Dimmer.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Image/Image.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Button/Button.js"),promise_file_reader__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/promise-file-reader@1.0.2/node_modules/promise-file-reader/PromiseFileReader.js"),promise_file_reader__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(promise_file_reader__WEBPACK_IMPORTED_MODULE_1__),react_intl__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/injectIntl.js"),_plone_volto_icons_delete_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/icons/delete.svg"),_plone_volto_icons_delete_svg__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_plone_volto_icons_delete_svg__WEBPACK_IMPORTED_MODULE_2__),_plone_volto_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/index.js"),_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/manage/Widgets/FormFieldWrapper.jsx"),_loadable_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/.pnpm/@loadable+component@5.14.1_react@18.2.0/node_modules/@loadable/component/dist/loadable.esm.js"),react_intl__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/useIntl.js"),_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/helpers/index.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const imageMimetypes=["image/png","image/jpeg","image/webp","image/jpg","image/gif","image/svg+xml"],Dropzone=(0,_loadable_component__WEBPACK_IMPORTED_MODULE_5__.cp)({resolved:{},chunkName(){return"react-dropzone"},isReady(props){const key=this.resolve(props);return!0===this.resolved[key]&&!!__webpack_require__.m[key]},importAsync:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"../../../node_modules/.pnpm/react-dropzone@11.1.0_react@18.2.0/node_modules/react-dropzone/dist/es/index.js")),requireAsync(props){const key=this.resolve(props);return this.resolved[key]=!1,this.importAsync(props).then((resolved=>(this.resolved[key]=!0,resolved)))},requireSync(props){const id=this.resolve(props);return __webpack_require__(id)},resolve(){return"../../../node_modules/.pnpm/react-dropzone@11.1.0_react@18.2.0/node_modules/react-dropzone/dist/es/index.js"}}),messages=(0,react_intl__WEBPACK_IMPORTED_MODULE_7__.defineMessages)({releaseDrag:{id:"Drop files here ...",defaultMessage:"Drop files here ..."},editFile:{id:"Drop file here to replace the existing file",defaultMessage:"Drop file here to replace the existing file"},fileDrag:{id:"Drop file here to upload a new file",defaultMessage:"Drop file here to upload a new file"},replaceFile:{id:"Replace existing file",defaultMessage:"Replace existing file"},addNewFile:{id:"Choose a file",defaultMessage:"Choose a file"}}),RegistryImageWidget=props=>{const{id:id,value:value,onChange:onChange,isDisabled:isDisabled}=props,intl=(0,react_intl__WEBPACK_IMPORTED_MODULE_8__.c)(),fileName=null==value?void 0:value.split(";")[0],imgsrc=fileName?`${(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_6__.IJ)("/")}@@site-logo/${atob(fileName.replace("filenameb64:",""))}`:"";return __jsx(_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_4__.default,props,__jsx(Dropzone,{onDrop:files=>{const file=files[0];if(!(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_6__.my)(file,intl.formatMessage))return;(0,promise_file_reader__WEBPACK_IMPORTED_MODULE_1__.readAsDataURL)(file).then((data=>{const fields=data.match(/^data:(.*);(.*),(.*)$/);onChange(id,`filenameb64:${btoa(file.name)};datab64:${fields[3]}}`)}));let reader=new FileReader;reader.onload=function(){const fields=reader.result.match(/^data:(.*);(.*),(.*)$/);if(imageMimetypes.includes(fields[1])){document.getElementById(`field-${id}-image`).src=reader.result}},reader.readAsDataURL(files[0])}},(({getRootProps:getRootProps,getInputProps:getInputProps,isDragActive:isDragActive})=>__jsx("div",(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_9__.c)({className:"file-widget-dropzone"},getRootProps()),isDragActive&&__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_10__.c,{active:!0}),imgsrc?__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_11__.c,{className:"image-preview",id:`field-${id}-image`,size:"small",src:imgsrc}):__jsx("div",{className:"dropzone-placeholder"},__jsx("p",{className:"dropzone-text"},isDragActive?intl.formatMessage(messages.releaseDrag):value?intl.formatMessage(messages.editFile):intl.formatMessage(messages.fileDrag))),__jsx("label",{className:"label-file-widget-input"},value?intl.formatMessage(messages.replaceFile):intl.formatMessage(messages.addNewFile)),__jsx("input",(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_9__.c)({},getInputProps({type:"file",style:{display:"none"}}),{id:`field-${id}`,name:id,type:"file",disabled:isDisabled}))))),__jsx("div",{className:"field-file-name"},value&&__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_12__.c,{icon:!0,basic:!0,className:"delete-button","aria-label":"delete file",disabled:isDisabled,onClick:()=>{onChange(id,"")}},__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_3__.GWx,{name:_plone_volto_icons_delete_svg__WEBPACK_IMPORTED_MODULE_2___default(),size:"20px"}))))};RegistryImageWidget.defaultProps={description:null,required:!1,error:[],value:null},__webpack_exports__.default=(0,react_intl__WEBPACK_IMPORTED_MODULE_13__.cp)(RegistryImageWidget),RegistryImageWidget.__docgenInfo={description:"RegistryImageWidget component class.\n@function RegistryImageWidget\n@returns {string} Markup of the component.\n\nTo use it, in schema properties, declare a field like:\n\n```jsx\n{\n title: \"File\",\n widget: 'file',\n}\n```\nor:\n\n```jsx\n{\n title: \"File\",\n type: 'object',\n}\n```",methods:[],displayName:"RegistryImageWidget",props:{description:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},required:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},error:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"shape",value:{"@type":{name:"string",required:!1},title:{name:"string",required:!1}}},required:!1},id:{description:"",type:{name:"string"},required:!0},title:{description:"",type:{name:"string"},required:!0},onChange:{description:"",type:{name:"func"},required:!0},wrapped:{description:"",type:{name:"bool"},required:!1}}}},"./src/components/manage/Widgets/SchemaWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),lodash_without__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/without.js"),lodash_without__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_without__WEBPACK_IMPORTED_MODULE_0__),lodash_slice__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/slice.js"),lodash_slice__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_slice__WEBPACK_IMPORTED_MODULE_1__),lodash_omit__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/omit.js"),lodash_omit__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_omit__WEBPACK_IMPORTED_MODULE_2__),lodash_map__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/map.js"),lodash_map__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_3__),lodash_isString__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isString.js"),lodash_isString__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(lodash_isString__WEBPACK_IMPORTED_MODULE_4__),lodash_findIndex__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/findIndex.js"),lodash_findIndex__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(lodash_findIndex__WEBPACK_IMPORTED_MODULE_5__),lodash_concat__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/concat.js"),lodash_concat__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(lodash_concat__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../../node_modules/.pnpm/react-redux@8.1.2_@types+react-dom@18.2.12_@types+react@18.2.27_react-dom@18.2.0_react@18.2.0__react@18.2.0_redux@4.2.1/node_modules/react-redux/es/index.js"),redux__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("../../../node_modules/.pnpm/redux@4.2.1/node_modules/redux/es/redux.js"),lodash_move__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../../node_modules/.pnpm/lodash-move@1.1.1/node_modules/lodash-move/lib/index.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Segment/Segment.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/collections/Message/Message.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Icon/Icon.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/collections/Form/Form.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/collections/Grid/Grid.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/addons/Confirm/Confirm.js"),react_intl__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/injectIntl.js"),_plone_volto_helpers_Loadable_Loadable__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/helpers/Loadable/Loadable.jsx"),_plone_volto_helpers_Utils_Utils__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/helpers/Utils/Utils.jsx"),_plone_volto_components_manage_Widgets_SchemaWidgetFieldset__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/components/manage/Widgets/SchemaWidgetFieldset.jsx"),_plone_volto_components_manage_Form__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/components/manage/Form/index.tsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_7__.createElement;const messages=(0,react_intl__WEBPACK_IMPORTED_MODULE_14__.defineMessages)({add:{id:"Add",defaultMessage:"Add"},addField:{id:"Add field",defaultMessage:"Add field"},addFieldset:{id:"Add fieldset",defaultMessage:"Add fieldset"},parentFieldSet:{id:"Parent fieldset",defaultMessage:"Parent fieldset"},editField:{id:"Edit field",defaultMessage:"Edit field"},editFieldset:{id:"Edit fieldset",defaultMessage:"Edit fieldset"},default:{id:"Default",defaultMessage:"Default"},idTitle:{id:"Short Name",defaultMessage:"Short Name"},idDescription:{id:"Used for programmatic access to the fieldset.",defaultMessage:"Used for programmatic access to the fieldset."},choices:{id:"Possible values",defaultMessage:"Possible values (Enter allowed choices one per line)."},string:{id:"String",defaultMessage:"String"},text:{id:"Text",defaultMessage:"Text"},richtext:{id:"Richtext",defaultMessage:"Richtext"},checkbox:{id:"Checkbox",defaultMessage:"Checkbox"},selection:{id:"Selection",defaultMessage:"Selection"},type:{id:"Type",defaultMessage:"Type"},title:{id:"Title",defaultMessage:"Title"},description:{id:"Description",defaultMessage:"Description"},required:{id:"Required",defaultMessage:"Required"},minLength:{id:"minLength",defaultMessage:"Minimum Length"},maxLength:{id:"maxLength",defaultMessage:"Maximum Length"},minimum:{id:"minimum",defaultMessage:"Start of the range"},maximum:{id:"maximum",defaultMessage:"End of the range (including the value itself)"},deleteFieldset:{id:"Are you sure you want to delete this fieldset including all fields?",defaultMessage:"Are you sure you want to delete this fieldset including all fields?"},deleteField:{id:"Are you sure you want to delete this field?",defaultMessage:"Are you sure you want to delete this field?"},error:{id:"Error",defaultMessage:"Error"}}),fieldsetSchema=intl=>({fieldsets:[{id:"default",title:intl.formatMessage(messages.default),fields:["title","id"]}],properties:{id:{type:"string",title:intl.formatMessage(messages.idTitle),description:intl.formatMessage(messages.idDescription)},title:{type:"string",title:intl.formatMessage(messages.title)}},required:["id","title"]}),getItemStyle=(isDragging,draggableStyle)=>(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({userSelect:"none",background:isDragging?"white":"transparent"},draggableStyle),formatTextareaToArray=textarea=>{const values=textarea&&textarea?textarea.split(/(\r\n|\n|\r)/gm).map((elem=>elem.trim())).filter((elem=>""!==elem)):null;return values?{values:values}:{}},formatTextareaToChoices=(textarea,multiple)=>{const choices=textarea&&textarea?textarea.split(/(\r\n|\n|\r)/gm).map((elem=>elem.trim())).filter((elem=>""!==elem)).map((elem=>[elem,elem])):null;if(!multiple)return choices?{choices:choices}:{};const items=choices?{choices:choices}:{};return items?{items:items}:{}};class SchemaWidget extends react__WEBPACK_IMPORTED_MODULE_7__.Component{constructor(props){super(props),this.onChange=this.onChange.bind(this),this.onChangeDefaultValue=this.onChangeDefaultValue.bind(this),this.onAddField=this.onAddField.bind(this),this.onAddFieldset=this.onAddFieldset.bind(this),this.onEditField=this.onEditField.bind(this),this.onEditFieldset=this.onEditFieldset.bind(this),this.onDeleteFieldset=this.onDeleteFieldset.bind(this),this.onDeleteField=this.onDeleteField.bind(this),this.onShowAddField=this.onShowAddField.bind(this),this.onShowAddFieldset=this.onShowAddFieldset.bind(this),this.onShowEditFieldset=this.onShowEditFieldset.bind(this),this.onShowEditField=this.onShowEditField.bind(this),this.onShowDeleteFieldset=this.onShowDeleteFieldset.bind(this),this.onShowDeleteField=this.onShowDeleteField.bind(this),this.onSetCurrentFieldset=this.onSetCurrentFieldset.bind(this),this.onOrderField=this.onOrderField.bind(this),this.onOrderFieldset=this.onOrderFieldset.bind(this),this.onCancel=this.onCancel.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.state={addField:null,addFieldset:null,editFieldset:null,editField:null,deleteFieldset:null,deleteField:null,currentFieldset:0}}onAddField(values){const fieldId=(0,_plone_volto_helpers_Utils_Utils__WEBPACK_IMPORTED_MODULE_11__.sV)(values.title),currentFieldsetFields=this.props.value.fieldsets[this.state.currentFieldset].fields,newFieldsetFields=currentFieldsetFields.indexOf("changeNote")>-1?[...currentFieldsetFields.slice(0,currentFieldsetFields.length-1),fieldId,currentFieldsetFields[currentFieldsetFields.length-1]]:[...currentFieldsetFields,fieldId];this.onChange((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},this.props.value),{},{fieldsets:[...lodash_slice__WEBPACK_IMPORTED_MODULE_1___default()(this.props.value.fieldsets,0,this.state.currentFieldset),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},this.props.value.fieldsets[this.state.currentFieldset]),{},{fields:newFieldsetFields}),...lodash_slice__WEBPACK_IMPORTED_MODULE_1___default()(this.props.value.fieldsets,this.state.currentFieldset+1)],properties:(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},this.props.value.properties),{},{[fieldId]:(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({title:values.title,description:values.description,id:fieldId},(factory=>{switch(factory){case"Date/Time":case"label_datetime_field":return{type:"string",widget:"datetime",factory:factory};case"Date":case"label_date_field":return{type:"string",widget:"date",factory:factory};case"Email":case"label_email":return{type:"string",widget:"email",factory:factory};case"File":case"File Upload":case"Image":return{type:"object",factory:factory};case"Floating-point number":case"label_float_field":return{type:"number",factory:factory};case"Integer":case"label_integer_field":return{type:"integer",factory:factory};case"JSONField":return{type:"dict",widget:"json",factory:factory};case"Multiple Choice":case"label_multi_choice_field":case"Relation List":return{type:"array",factory:factory};case"Choice":case"label_choice_field":return{type:"string",choices:[],factory:factory};case"Relation Choice":default:return{type:"string",factory:factory};case"Password":case"label_password_field":return{type:"string",widget:"password",factory:factory};case"Rich Text":return{type:"string",widget:"richtext",factory:factory};case"URL":return{type:"string",widget:"url",factory:factory};case"Yes/No":case"label_boolean_field":return{type:"boolean",factory:factory}}})(values.factory))}),required:values.required?[...this.props.value.required,fieldId]:this.props.value.required})),this.onCancel()}onAddFieldset(values){this.onChange((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},this.props.value),{},{fieldsets:[...this.props.value.fieldsets,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},values),{},{fields:[]})]})),this.onCancel()}onEditFieldset(values){var _this$props$value$fie;values.fields=values.fields||(null===(_this$props$value$fie=this.props.value.fieldsets[this.state.editFieldset])||void 0===_this$props$value$fie?void 0:_this$props$value$fie.fields)||[],this.onChange((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},this.props.value),{},{fieldsets:[...lodash_slice__WEBPACK_IMPORTED_MODULE_1___default()(this.props.value.fieldsets,0,this.state.editFieldset),values,...lodash_slice__WEBPACK_IMPORTED_MODULE_1___default()(this.props.value.fieldsets,this.state.editFieldset+1)]})),this.onCancel()}editFieldset(fieldsets,parentFieldSet,currentFieldset,oldfieldId,newfieldId){return parentFieldSet!==fieldsets[currentFieldset].id?(()=>{const newParentFieldsetIndex=fieldsets.findIndex((field=>field.id===parentFieldSet)),indexOfChangeNote=fieldsets[newParentFieldsetIndex].fields.indexOf("changeNote"),fieldsetsWithoutField=[...lodash_slice__WEBPACK_IMPORTED_MODULE_1___default()(fieldsets,0,currentFieldset),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},fieldsets[currentFieldset]),{},{fields:fieldsets[currentFieldset].fields.filter((fieldId=>fieldId!==oldfieldId))}),...lodash_slice__WEBPACK_IMPORTED_MODULE_1___default()(fieldsets,currentFieldset+1)],fieldsOfNewFieldset=indexOfChangeNote>-1?[...fieldsetsWithoutField[newParentFieldsetIndex].fields.slice(0,indexOfChangeNote+1),oldfieldId,fieldsetsWithoutField[newParentFieldsetIndex].fields[indexOfChangeNote]]:[...fieldsetsWithoutField[newParentFieldsetIndex].fields,oldfieldId];return[...lodash_slice__WEBPACK_IMPORTED_MODULE_1___default()(fieldsetsWithoutField,0,newParentFieldsetIndex),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},fieldsetsWithoutField[newParentFieldsetIndex]),{},{fields:fieldsOfNewFieldset}),...lodash_slice__WEBPACK_IMPORTED_MODULE_1___default()(fieldsetsWithoutField,newParentFieldsetIndex+1)]})():[...lodash_slice__WEBPACK_IMPORTED_MODULE_1___default()(fieldsets,0,currentFieldset),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},fieldsets[currentFieldset]),{},{fields:lodash_map__WEBPACK_IMPORTED_MODULE_3___default()(fieldsets[currentFieldset].fields,(field=>field===oldfieldId?newfieldId:field))}),...lodash_slice__WEBPACK_IMPORTED_MODULE_1___default()(fieldsets,currentFieldset+1)]}onEditField(values){var _this$props$value$pro,_this$props$value$pro2;let formattedValues=(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},values);["minLength","maxLength","minimum","maximum"].forEach((prop=>{formattedValues=(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},formattedValues),{[prop]:values[prop]?parseFloat(values[prop]):null})}));const multiple="Multiple Choice"===(null===(_this$props$value$pro=this.props.value.properties[this.state.editField.id])||void 0===_this$props$value$pro?void 0:_this$props$value$pro.factory)||"label_multi_choice_field"===(null===(_this$props$value$pro2=this.props.value.properties[this.state.editField.id])||void 0===_this$props$value$pro2?void 0:_this$props$value$pro2.factory),result=(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},this.props.value),{},{fieldsets:formattedValues.parentFieldSet?this.editFieldset(this.props.value.fieldsets,formattedValues.parentFieldSet,this.state.currentFieldset,this.state.editField.id,formattedValues.id):this.props.value.fieldsets,properties:(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},lodash_omit__WEBPACK_IMPORTED_MODULE_2___default()(this.props.value.properties,[this.state.editField.id])),{},{[formattedValues.id]:(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},this.props.value.properties[this.state.editField.id]),lodash_omit__WEBPACK_IMPORTED_MODULE_2___default()(formattedValues,["id","parentFieldSet"])),formatTextareaToArray(formattedValues.values)),formatTextareaToChoices(formattedValues.values,multiple))}),required:formattedValues.required?lodash_concat__WEBPACK_IMPORTED_MODULE_6___default()(lodash_without__WEBPACK_IMPORTED_MODULE_0___default()(this.props.value.required,this.state.editField.id),[formattedValues.id]):lodash_without__WEBPACK_IMPORTED_MODULE_0___default()(this.props.value.required,this.state.editField.id)});this.onChange(result),this.onCancel()}onDeleteFieldset(){this.state.currentFieldset>this.props.value.fieldsets.length-2&&this.setState({currentFieldset:this.state.currentFieldset-1}),this.onChange((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},this.props.value),{},{fieldsets:[...lodash_slice__WEBPACK_IMPORTED_MODULE_1___default()(this.props.value.fieldsets,0,this.state.deleteFieldset),...lodash_slice__WEBPACK_IMPORTED_MODULE_1___default()(this.props.value.fieldsets,this.state.deleteFieldset+1)],properties:lodash_omit__WEBPACK_IMPORTED_MODULE_2___default()(this.props.value.properties,this.props.value.fieldsets[this.state.deleteFieldset].fields)})),this.onCancel()}onDeleteField(){this.onChange((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},this.props.value),{},{fieldsets:[...lodash_slice__WEBPACK_IMPORTED_MODULE_1___default()(this.props.value.fieldsets,0,this.state.currentFieldset),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},this.props.value.fieldsets[this.state.currentFieldset]),{},{fields:lodash_without__WEBPACK_IMPORTED_MODULE_0___default()(this.props.value.fieldsets[this.state.currentFieldset].fields,this.state.deleteField)}),...lodash_slice__WEBPACK_IMPORTED_MODULE_1___default()(this.props.value.fieldsets,this.state.currentFieldset+1)],properties:lodash_omit__WEBPACK_IMPORTED_MODULE_2___default()(this.props.value.properties,[this.state.deleteField])})),this.onCancel()}onChange(value){this.props.onChange(this.props.id,value)}onChangeDefaultValue(fieldId,fieldValue){const fieldMerge=(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},this.props.value.properties[fieldId]),{}),propsMerge=(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},this.props.value.properties),{[fieldId]:fieldMerge});this.onChange((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},this.props.value),{},{properties:propsMerge}))}onCancel(){this.setState({addField:null,addFieldset:null,editFieldset:null,editField:null,deleteFieldset:null,deleteField:null})}onShowAddField(event){this.setState({addField:!0}),event.preventDefault()}onShowAddFieldset(event){this.setState({addFieldset:!0}),event.preventDefault()}onShowEditFieldset(index){this.setState({editFieldset:index})}onShowEditField(id,schema){return this.setState({editField:{id:id}})}onShowDeleteFieldset(index){this.setState({deleteFieldset:index})}onShowDeleteField(field){this.setState({deleteField:field})}onSetCurrentFieldset(index){this.setState({currentFieldset:index})}onOrderField(index,delta){this.onChange((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},this.props.value),{},{fieldsets:[...lodash_slice__WEBPACK_IMPORTED_MODULE_1___default()(this.props.value.fieldsets,0,this.state.currentFieldset),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},this.props.value.fieldsets[this.state.currentFieldset]),{},{fields:(0,lodash_move__WEBPACK_IMPORTED_MODULE_9__.c)(this.props.value.fieldsets[this.state.currentFieldset].fields,index,delta)}),...lodash_slice__WEBPACK_IMPORTED_MODULE_1___default()(this.props.value.fieldsets,this.state.currentFieldset+1)]}))}onOrderFieldset(index,delta){const schema=(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},this.props.value),{},{fieldsets:(0,lodash_move__WEBPACK_IMPORTED_MODULE_9__.c)(this.props.value.fieldsets,index,delta)});this.setState({currentFieldset:lodash_findIndex__WEBPACK_IMPORTED_MODULE_5___default()(schema.fieldsets,{id:schema.fieldsets[this.state.currentFieldset].id})}),this.onChange(schema)}onDragEnd(result){result.destination&&"fields-schema-edit"===result.destination.droppableId&&this.onOrderField(result.source.index,result.destination.index),result.destination&&"tabs-schema-edit"===result.destination.droppableId&&this.onOrderFieldset(result.source.index,result.destination.index)}render(){const{error:error,reactBeautifulDnd:reactBeautifulDnd}=this.props,{Draggable:Draggable,DragDropContext:DragDropContext,Droppable:Droppable}=reactBeautifulDnd;if(!this.props.value)return"";const nonUserCreatedFields=this.props.value.fieldsets[this.state.currentFieldset].fields.filter((fieldId=>{return!(field=this.props.value.properties[fieldId],!field.behavior||field.behavior.includes("generated")||"changeNote"===fieldId);var field})),hasChangeNote=this.props.value.fieldsets[this.state.currentFieldset].fields.indexOf("changeNote")>-1,userCreatedFieldsStartingIndex=nonUserCreatedFields.length,lastUserCreatedFieldsIndex=hasChangeNote?this.props.value.fieldsets[this.state.currentFieldset].fields.length-1:this.props.value.fieldsets[this.state.currentFieldset].fields.length,makeUserFields=()=>lodash_map__WEBPACK_IMPORTED_MODULE_3___default()(this.props.value.fieldsets[this.state.currentFieldset].fields.slice(userCreatedFieldsStartingIndex,lastUserCreatedFieldsIndex),((field,index)=>__jsx(Draggable,{draggableId:field,index:userCreatedFieldsStartingIndex+index,key:`${field}-${this.state.currentFieldset}-${index}`},((provided,snapshot)=>__jsx("div",(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_16__.c)({ref:provided.innerRef},provided.draggableProps,provided.dragHandleProps,{style:getItemStyle(snapshot.isDragging,provided.draggableProps.style)}),__jsx(_plone_volto_components_manage_Form__WEBPACK_IMPORTED_MODULE_13__.IN,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_16__.c)({},this.props.value.properties[field],{id:field,required:-1!==this.props.value.required.indexOf(field),onEdit:this.onShowEditField,draggable:!0,isDisabled:!1,order:index,onDelete:this.onShowDeleteField,onChange:this.onChangeDefaultValue,key:`${field}-${this.state.currentFieldset}-${index}`,value:this.props.value.properties[field].default}))))))),canAddFields=0===this.state.currentFieldset||!this.props.value.fieldsets[this.state.currentFieldset].behavior||this.props.value.fieldsets[this.state.currentFieldset].behavior.includes("generated");return __jsx("div",null,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_17__.c.Group,{style:{margin:"-1rem"}},error.length>0&&lodash_map__WEBPACK_IMPORTED_MODULE_3___default()(error,((err,index)=>__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_18__.c,{icon:"warning",key:`${err}-${index}`,negative:!0,attached:!0,header:this.props.intl.formatMessage(messages.error),content:err}))),__jsx(DragDropContext,{onDragEnd:this.onDragEnd},__jsx(Droppable,{droppableId:"tabs-schema-edit",direction:"horizontal"},((provided,snapshot)=>{return __jsx("div",(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_16__.c)({role:"tablist",className:"ui pointing secondary attached tabular menu",ref:provided.innerRef},provided.draggableProps,{style:(isDraggingOver=snapshot.isDraggingOver,{background:isDraggingOver?"#f4f4f4":"transparent",display:"flex",flexDirection:"row",flexWrap:"wrap"})}),lodash_map__WEBPACK_IMPORTED_MODULE_3___default()(this.props.value.fieldsets,((fieldset,index)=>__jsx(_plone_volto_components_manage_Widgets_SchemaWidgetFieldset__WEBPACK_IMPORTED_MODULE_12__.default,{key:`${fieldset.id}-${this.state.currentFieldset}-${index}`,title:fieldset.title,order:index,active:index===this.state.currentFieldset,onClick:this.onSetCurrentFieldset,onShowEditFieldset:this.onShowEditFieldset,onShowDeleteFieldset:this.onShowDeleteFieldset,onOrderFieldset:this.onOrderFieldset,getItemStyle:getItemStyle,isDraggable:!0,isDisabled:!!fieldset.behavior&&!fieldset.behavior.includes("generated")}))),__jsx("div",{className:"item item-add"},__jsx("button",{"aria-label":this.props.intl.formatMessage(messages.add),className:"item ui noborder button",onClick:this.onShowAddFieldset},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_19__.c,{name:"plus",size:"large"}))),provided.placeholder);var isDraggingOver})),(()=>lodash_map__WEBPACK_IMPORTED_MODULE_3___default()(this.props.value.fieldsets[this.state.currentFieldset].fields.slice(0,userCreatedFieldsStartingIndex),((field,index)=>__jsx("div",{style:{background:"#c7d5d859"},key:`${field}-${this.state.currentFieldset}-${index}`},__jsx(_plone_volto_components_manage_Form__WEBPACK_IMPORTED_MODULE_13__.IN,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_16__.c)({},this.props.value.properties[field],{id:field,required:-1!==this.props.value.required.indexOf(field),onEdit:this.onShowEditField,draggable:!1,isDisabled:!0,order:index,onDelete:this.onShowDeleteField,onChange:this.onChangeDefaultValue,value:this.props.value.properties[field].default}))))))(),__jsx(Droppable,{droppableId:"fields-schema-edit",direction:"vertical",type:"fixed"},((provided,snapshot)=>{return __jsx("div",(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_16__.c)({ref:provided.innerRef},provided.draggableProps,{style:(isDraggingOver=snapshot.isDraggingOver,{background:isDraggingOver?"#f4f4f4":"transparent"})}),makeUserFields(),provided.placeholder);var isDraggingOver}))),hasChangeNote?__jsx("div",{style:{background:"#c7d5d859"}},__jsx(_plone_volto_components_manage_Form__WEBPACK_IMPORTED_MODULE_13__.IN,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_16__.c)({},this.props.value.properties.changeNote,{id:"changeNote",required:-1!==this.props.value.required.indexOf("changeNote"),onEdit:this.onShowEditField,draggable:!1,isDisabled:!0,order:this.props.value.fieldsets[this.state.currentFieldset].length-1,onDelete:this.onShowDeleteField,onChange:this.onChangeDefaultValue,key:"changeNote",value:this.props.value.properties.changeNote.default}))):null,canAddFields&&__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_20__.c.Field,{inline:!0},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_21__.c,null,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_21__.c.Row,{stretched:!0},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_21__.c.Column,{width:"12"},__jsx("div",{className:"wrapper"},__jsx("label",{htmlFor:"addfield"},this.props.intl.formatMessage(messages.addField))),__jsx("div",{className:"toolbar"},__jsx("button",{"aria-label":this.props.intl.formatMessage(messages.add),id:"addfield",className:"item ui noborder button",onClick:this.onShowAddField},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_19__.c,{name:"plus",color:"blue",size:"large"})))))))),null!==this.state.addField&&__jsx(_plone_volto_components_manage_Form__WEBPACK_IMPORTED_MODULE_13__.Ah,{onSubmit:this.onAddField,onCancel:this.onCancel,title:this.props.intl.formatMessage(messages.addField),formData:{type:"",id:"",title:""},schema:{fieldsets:[{id:"default",title:this.props.intl.formatMessage(messages.default),fields:["factory","title","description","required"]}],properties:{factory:{type:"string",factory:"Choice",title:this.props.intl.formatMessage(messages.type),vocabulary:{"@id":"Fields"}},title:{type:"string",title:this.props.intl.formatMessage(messages.title)},description:{type:"string",widget:"textarea",title:this.props.intl.formatMessage(messages.description)},required:{type:"boolean",title:this.props.intl.formatMessage(messages.required)}},required:["type","title"]}}),null!==this.state.editField&&__jsx(_plone_volto_components_manage_Form__WEBPACK_IMPORTED_MODULE_13__.Ah,{onSubmit:this.onEditField,onCancel:this.onCancel,title:this.props.intl.formatMessage(messages.editField),formData:(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},this.props.value.properties[this.state.editField.id]),{},{id:this.state.editField.id,required:-1!==this.props.value.required.indexOf(this.state.editField.id),parentFieldSet:this.props.value.fieldsets[this.state.currentFieldset].id,values:(props=this.props.value.properties[this.state.editField.id],null!=props&&props.values?props.values.join("\n"):null!=props&&props.choices?props.choices.map((elem=>elem[0])).join("\n"):null!=props&&null!==(_props$items=props.items)&&void 0!==_props$items&&_props$items.choices?props.items.choices.map((elem=>elem[0])).join("\n"):"")}),schema:(factory=this.props.value.properties[this.state.editField.id].factory,intl=this.props.intl,fieldsets=this.props.value.fieldsets.filter((fieldset=>!fieldset.behavior||"default"===fieldset.id||fieldset.behavior.includes("generated"))),{fieldsets:[{id:"default",title:"default",fields:["title","description","parentFieldSet",...(factory=>{switch(factory){case"Rich Text":return["maxLength"];case"URL":case"Password":case"label_password_field":case"Email":case"label_email":default:return["minLength","maxLength"];case"Integer":case"label_integer_field":return["minimum","maximum"];case"Floating-point number":case"label_float_field":case"Date/Time":case"label_datetime_field":case"Date":case"label_date_field":case"File":case"File Upload":case"Image":case"Yes/No":case"label_boolean_field":case"JSONField":case"Relation Choice":case"Relation List":return[];case"Multiple Choice":case"label_multi_choice_field":case"Choice":case"label_choice_field":return["values"]}})(factory),"required"]}],properties:(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({title:{type:"string",title:intl.formatMessage(messages.title)},description:{type:"string",widget:"textarea",title:intl.formatMessage(messages.description)},parentFieldSet:{type:"string",title:intl.formatMessage(messages.parentFieldSet),choices:(listOfFieldsets=fieldsets,listOfFieldsets.map((type=>[type.id,type.title])))},required:{type:"boolean",title:intl.formatMessage(messages.required)}},(factory=>{switch(factory){case"Rich Text":return{maxLength:{type:"integer",title:intl.formatMessage(messages.maxLength)}};case"URL":case"Password":case"label_password_field":case"Email":case"label_email":default:return{minLength:{type:"integer",title:intl.formatMessage(messages.minLength)},maxLength:{type:"integer",title:intl.formatMessage(messages.maxLength)}};case"Integer":case"label_integer_field":return{minimum:{type:"integer",title:intl.formatMessage(messages.minimum)},maximum:{type:"integer",title:intl.formatMessage(messages.maximum)}};case"Floating-point number":case"label_float_field":case"Date/Time":case"label_datetime_field":case"Date":case"label_date_field":case"File":case"File Upload":case"Image":case"Yes/No":case"label_boolean_field":case"JSONField":case"Relation Choice":case"Relation List":return{};case"Multiple Choice":case"label_multi_choice_field":case"Choice":case"label_choice_field":return{values:{type:"string",title:intl.formatMessage(messages.choices),widget:"textarea"}}}})(factory)),required:["type","title"]})}),null!==this.state.addFieldset&&__jsx(_plone_volto_components_manage_Form__WEBPACK_IMPORTED_MODULE_13__.Ah,{onSubmit:this.onAddFieldset,onCancel:this.onCancel,title:this.props.intl.formatMessage(messages.addFieldset),formData:{id:"",title:""},schema:fieldsetSchema(this.props.intl)}),null!==this.state.editFieldset&&__jsx(_plone_volto_components_manage_Form__WEBPACK_IMPORTED_MODULE_13__.Ah,{onSubmit:this.onEditFieldset,onCancel:this.onCancel,title:this.props.intl.formatMessage(messages.editFieldset),formData:{id:this.props.value.fieldsets[this.state.editFieldset].id,title:this.props.value.fieldsets[this.state.editFieldset].title},schema:fieldsetSchema(this.props.intl)}),null!==this.state.deleteFieldset&&__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_22__.c,{open:!0,content:this.props.intl.formatMessage(messages.deleteFieldset),onCancel:this.onCancel,onConfirm:this.onDeleteFieldset}),null!==this.state.deleteField&&__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_22__.c,{open:!0,content:this.props.intl.formatMessage(messages.deleteField),onCancel:this.onCancel,onConfirm:this.onDeleteField}));var factory,intl,fieldsets,listOfFieldsets,props,_props$items}}(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_23__.c)(SchemaWidget,"defaultProps",{required:!1,value:{},error:[]}),__webpack_exports__.default=(0,redux__WEBPACK_IMPORTED_MODULE_24__.compose)(react_intl__WEBPACK_IMPORTED_MODULE_25__.cp,(0,_plone_volto_helpers_Loadable_Loadable__WEBPACK_IMPORTED_MODULE_10__.yM)(["reactBeautifulDnd"]),(0,react_redux__WEBPACK_IMPORTED_MODULE_8__.connect)(((state,props)=>({value:lodash_isString__WEBPACK_IMPORTED_MODULE_4___default()(props.value)?JSON.parse(props.value):props.value})),{}))(SchemaWidget),SchemaWidget.__docgenInfo={description:"SchemaWidget component class.\n@class SchemaWidget\n@extends Component",methods:[{name:"onAddField",docblock:"Add field handler\n@method onAddField\n@param {Object} values Form values\n@returns {undefined}",modifiers:[],params:[{name:"values",description:"Form values",type:{name:"Object"},optional:!1}],returns:{},description:"Add field handler"},{name:"onAddFieldset",docblock:"Add fieldset handler\n@method onAddFieldset\n@param {Object} values Form values\n@returns {undefined}",modifiers:[],params:[{name:"values",description:"Form values",type:{name:"Object"},optional:!1}],returns:{},description:"Add fieldset handler"},{name:"onEditFieldset",docblock:"Edit fieldset handler\n@method onEditFieldset\n@param {Object} values Form values\n@returns {undefined}",modifiers:[],params:[{name:"values",description:"Form values",type:{name:"Object"},optional:!1}],returns:{},description:"Edit fieldset handler"},{name:"editFieldset",docblock:"Recreates the fieldset structure\nwill move change name of the field if needed and\nchange fieldset if changed\n@param {Object[]} fieldsets\n@param {string} parentFieldSet - id\n@param {number} currentFieldset - index\n@param {Object} oldfieldId\n@param {Object} newfieldId\n@returns {Object[]} fieldsets",modifiers:[],params:[{name:"fieldsets",type:{name:"Array",elements:[{name:"Object"}]},optional:!1},{name:"parentFieldSet",description:"id",type:{name:"string"},optional:!1},{name:"currentFieldset",description:"index",type:{name:"number"},optional:!1},{name:"oldfieldId",type:{name:"Object"},optional:!1},{name:"newfieldId",type:{name:"Object"},optional:!1}],returns:{description:"fieldsets",type:{name:"Array",elements:[{name:"Object"}]}},description:"Recreates the fieldset structure\nwill move change name of the field if needed and\nchange fieldset if changed"},{name:"onEditField",docblock:"Edit field handler\nrecreates the schema based on field changes (properties, name, fieldset)\n@method onEditField\n@param {Object} values Field values\n@returns {undefined}",modifiers:[],params:[{name:"values",description:"Field values",type:{name:"Object"},optional:!1}],returns:{},description:"Edit field handler\nrecreates the schema based on field changes (properties, name, fieldset)"},{name:"onDeleteFieldset",docblock:"Delete fieldset handler\n@method onDeleteFieldset\n@returns {undefined}",modifiers:[],params:[],returns:{},description:"Delete fieldset handler"},{name:"onDeleteField",docblock:"Delete field handler\n@method onDeleteField\n@returns {undefined}",modifiers:[],params:[],returns:{},description:"Delete field handler"},{name:"onChange",docblock:"Change handler\n@method onChange\n@param {Object} value New schema\n@returns {undefined}",modifiers:[],params:[{name:"value",description:"New schema",type:{name:"Object"},optional:!1}],returns:{},description:"Change handler"},{name:"onChangeDefaultValue",docblock:"Change default value handler\n@method onChangeDefaultValue\n@param {string} fieldId\n@param {string} fieldValue",modifiers:[],params:[{name:"fieldId",type:{name:"string"},optional:!1},{name:"fieldValue",type:{name:"string"},optional:!1}],returns:null,description:"Change default value handler"},{name:"onCancel",docblock:"Cancel handler\n@method onCancel\n@returns {undefined}",modifiers:[],params:[],returns:{},description:"Cancel handler"},{name:"onShowAddField",docblock:"Show add field handler\n@method onShowAddField\n@returns {undefined}",modifiers:[],params:[{name:"event",optional:!1}],returns:{},description:"Show add field handler"},{name:"onShowAddFieldset",docblock:"Show add fieldset handler\n@method onShowAddFieldset\n@returns {undefined}",modifiers:[],params:[{name:"event",optional:!1}],returns:{},description:"Show add fieldset handler"},{name:"onShowEditFieldset",docblock:"Show edit fieldset handler\n@method onShowEditFieldset\n@param {Number} index Index of fieldset\n@returns {undefined}",modifiers:[],params:[{name:"index",description:"Index of fieldset",type:{name:"Number"},optional:!1}],returns:{},description:"Show edit fieldset handler"},{name:"onShowEditField",docblock:"Show edit field handler\n@method onShowEditField\n@param {string} id Id of field\n@param {Object} schema Schema of the field\n@returns {undefined}",modifiers:[],params:[{name:"id",description:"Id of field",type:{name:"string"},optional:!1},{name:"schema",description:"Schema of the field",type:{name:"Object"},optional:!1}],returns:{},description:"Show edit field handler"},{name:"onShowDeleteFieldset",docblock:"Show delete fieldset handler\n@method onShowDeleteFieldset\n@param {Number} index Index of fieldset\n@param {Object} event Event object\n@returns {undefined}",modifiers:[],params:[{name:"index",description:"Index of fieldset",type:{name:"Number"},optional:!1}],returns:{},description:"Show delete fieldset handler"},{name:"onShowDeleteField",docblock:"Show delete field handler\n@method onShowDeleteField\n@param {String} field Field to delete\n@param {Object} event Event object\n@returns {undefined}",modifiers:[],params:[{name:"field",description:"Field to delete",type:{name:"String"},optional:!1}],returns:{},description:"Show delete field handler"},{name:"onSetCurrentFieldset",docblock:"Set current fieldset handler\n@method onSetCurrentFieldset\n@param {Number} index Index of fieldset\n@returns {undefined}",modifiers:[],params:[{name:"index",description:"Index of fieldset",type:{name:"Number"},optional:!1}],returns:{},description:"Set current fieldset handler"},{name:"onOrderField",docblock:"On order fieldset\n@method onOrderField\n@param {number} index Index\n@param {number} delta Delta\n@returns {undefined}",modifiers:[],params:[{name:"index",description:"Index",type:{name:"number"},optional:!1},{name:"delta",description:"Delta",type:{name:"number"},optional:!1}],returns:{},description:"On order fieldset"},{name:"onOrderFieldset",docblock:"On order fieldset\n@method onOrderFieldset\n@param {number} index Index\n@param {number} delta Delta\n@returns {undefined}",modifiers:[],params:[{name:"index",description:"Index",type:{name:"number"},optional:!1},{name:"delta",description:"Delta",type:{name:"number"},optional:!1}],returns:{},description:"On order fieldset"},{name:"onDragEnd",docblock:"Set current fieldset handler\n@method onDragEnd\n@param {Number} index Index of fieldset\n@returns {undefined}",modifiers:[],params:[{name:"result",optional:!1}],returns:{},description:"Set current fieldset handler"}],displayName:"SchemaWidget",props:{required:{defaultValue:{value:"false",computed:!1},description:"Title of the field",type:{name:"bool"},required:!1},value:{defaultValue:{value:"{}",computed:!1},description:"Value of the field",type:{name:"union",value:[{name:"string"},{name:"object"}]},required:!1},error:{defaultValue:{value:"[]",computed:!1},description:"List of error messages",type:{name:"arrayOf",value:{name:"string"}},required:!1},id:{description:"Id of the field",type:{name:"string"},required:!0},onChange:{description:"On change handler",type:{name:"func"},required:!0}}}},"./src/components/manage/Widgets/SchemaWidgetFieldset.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SchemaWidgetFieldsetComponent:function(){return SchemaWidgetFieldsetComponent}});var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Icon/Icon.js"),_plone_volto_helpers_Loadable_Loadable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/helpers/Loadable/Loadable.jsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const SchemaWidgetFieldsetComponent=({title:title,order:order,active:active,onShowEditFieldset:onShowEditFieldset,onShowDeleteFieldset:onShowDeleteFieldset,onClick:onClick,getItemStyle:getItemStyle,isDraggable:isDraggable,isDisabled:isDisabled,reactBeautifulDnd:reactBeautifulDnd})=>__jsx(reactBeautifulDnd.Draggable,{draggableId:title,index:order,key:title},((provided,snapshot)=>__jsx("div",(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__.c)({className:"item"+(active?" active":""),onClick:()=>onClick(order),ref:provided.innerRef},provided.draggableProps,{style:getItemStyle(snapshot.isDragging,provided.draggableProps.style)}),isDraggable&&__jsx("i",(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__.c)({"aria-hidden":"true",className:"grey bars icon drag handle"},provided.dragHandleProps)),title,!isDisabled&&__jsx("button",{className:"item ui noborder button",onClick:event=>{event.stopPropagation(),event.preventDefault(),onShowEditFieldset(order)}},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__.c,{name:"write square",size:"large",color:"blue"})),!isDisabled&&__jsx("button",{className:"item ui noborder button",onClick:event=>{event.stopPropagation(),event.preventDefault(),onShowDeleteFieldset(order)}},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__.c,{name:"close",size:"large",color:"red"})))));__webpack_exports__.default=(0,_plone_volto_helpers_Loadable_Loadable__WEBPACK_IMPORTED_MODULE_1__.yM)(["reactBeautifulDnd"])(SchemaWidgetFieldsetComponent),SchemaWidgetFieldsetComponent.__docgenInfo={description:"Schema widget fieldset component.\n@function SchemaWidgetFieldset\n@returns {string} Markup of the component.",methods:[],displayName:"SchemaWidgetFieldsetComponent",props:{order:{description:"",type:{name:"number"},required:!0},active:{description:"",type:{name:"bool"},required:!0},onOrderFieldset:{description:"",type:{name:"func"},required:!0},onShowEditFieldset:{description:"",type:{name:"func"},required:!0},onShowDeleteFieldset:{description:"",type:{name:"func"},required:!0},onClick:{description:"",type:{name:"func"},required:!0},getItemStyle:{description:"",type:{name:"func"},required:!0},isDraggable:{description:"",type:{name:"bool"},required:!1},isDisabled:{description:"",type:{name:"bool"},required:!1}}}},"./src/components/manage/Widgets/SelectAutoComplete.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SelectAutoCompleteComponent:function(){return SelectAutoCompleteComponent}});var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/injectIntl.js"),redux__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../../node_modules/.pnpm/redux@4.2.1/node_modules/redux/es/redux.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/react-redux@8.1.2_@types+react-dom@18.2.12_@types+react@18.2.27_react-dom@18.2.0_react@18.2.0__react@18.2.0_redux@4.2.1/node_modules/react-redux/es/index.js"),_plone_volto_helpers_Loadable_Loadable__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/helpers/Loadable/Loadable.jsx"),_SelectUtils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/manage/Widgets/SelectUtils.js"),_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/helpers/index.js"),_plone_volto_actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/actions/index.js"),_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/manage/Widgets/SelectStyling.jsx"),_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/manage/Widgets/FormFieldWrapper.jsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const messages=(0,react_intl__WEBPACK_IMPORTED_MODULE_8__.defineMessages)({select:{id:"Select…",defaultMessage:"Select…"},no_options:{id:"No options",defaultMessage:"No options"},type_text:{id:"Type text...",defaultMessage:"Type text..."}});class SelectAutoComplete extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__.c)(this,"timeoutRef",react__WEBPACK_IMPORTED_MODULE_0__.createRef()),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__.c)(this,"SEARCH_HOLDOFF",2),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__.c)(this,"loadOptions",(query=>query.length>this.SEARCH_HOLDOFF?(this.timeoutRef.current&&clearTimeout(this.timeoutRef.current),new Promise((resolve=>{this.timeoutRef.current=setTimeout((async()=>{const res=await this.fetchAvailableChoices(query);resolve(res)}),400)}))):Promise.resolve([]))),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__.c)(this,"fetchAvailableChoices",(async query=>{const resp=await this.props.getVocabulary({vocabNameOrURL:this.props.vocabBaseUrl,query:query,size:-1,subrequest:this.props.lang});return(0,_SelectUtils__WEBPACK_IMPORTED_MODULE_3__.Cc)(resp.items||[],this.props.intl)})),this.handleChange=this.handleChange.bind(this),this.state={searchLength:0,termsPairsCache:[]}}componentDidMount(){const{id:id,lang:lang,value:value,choices:choices}=this.props;if(value&&(null==value?void 0:value.length)>0){const tokensQuery=(0,_SelectUtils__WEBPACK_IMPORTED_MODULE_3__.eQ)((0,_SelectUtils__WEBPACK_IMPORTED_MODULE_3__.Qy)(choices,value,this.props.intl));this.props.getVocabularyTokenTitle((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_10__.c)({vocabNameOrURL:this.props.vocabBaseUrl,subrequest:`widget-${id}-${lang}`},tokensQuery))}}componentDidUpdate(prevProps,prevState){const{value:value,choices:choices}=this.props;0===this.state.termsPairsCache.length&&(null==value?void 0:value.length)>0&&(null==choices?void 0:choices.length)>0&&this.setState((state=>({termsPairsCache:[...state.termsPairsCache,...choices]})))}handleChange(selectedOption){this.props.onChange(this.props.id,selectedOption?selectedOption.map((item=>item.value)):null),this.setState((state=>({termsPairsCache:[...state.termsPairsCache,...selectedOption]})))}render(){var _this$props$choices,_this$props$placehold;const selectedOption=(0,_SelectUtils__WEBPACK_IMPORTED_MODULE_3__.Qy)(this.state.termsPairsCache,this.props.value,this.props.intl),SelectAsync=this.props.reactSelectAsync.default;return __jsx(_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_7__.default,this.props,__jsx(SelectAsync,{id:`field-${this.props.id}`,key:this.props.id,isDisabled:this.props.disabled||this.props.isDisabled,className:"react-select-container",classNamePrefix:"react-select",cacheOptions:!0,defaultOptions:[],loadOptions:this.loadOptions,onInputChange:search=>this.setState({searchLength:search.length}),noOptionsMessage:()=>this.props.intl.formatMessage(this.state.searchLength>this.SEARCH_HOLDOFF?messages.no_options:messages.type_text),styles:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_6__.cF,theme:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_6__.qe,components:(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_10__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_10__.c)({},(null===(_this$props$choices=this.props.choices)||void 0===_this$props$choices?void 0:_this$props$choices.length)>25&&{MenuList:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_6__.__}),{},{MultiValueContainer:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_6__.cC,ClearIndicator:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_6__.ug,DropdownIndicator:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_6__.y,Option:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_6__.cb}),value:selectedOption||[],placeholder:null!==(_this$props$placehold=this.props.placeholder)&&void 0!==_this$props$placehold?_this$props$placehold:this.props.intl.formatMessage(messages.select),onChange:this.handleChange,isMulti:!0}))}}(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__.c)(SelectAutoComplete,"defaultProps",{description:null,required:!1,items:{vocabulary:null},widgetOptions:{vocabulary:null},error:[],choices:[],value:null});const SelectAutoCompleteComponent=(0,react_intl__WEBPACK_IMPORTED_MODULE_11__.cp)(SelectAutoComplete);__webpack_exports__.default=(0,redux__WEBPACK_IMPORTED_MODULE_12__.compose)(react_intl__WEBPACK_IMPORTED_MODULE_11__.cp,(0,_plone_volto_helpers_Loadable_Loadable__WEBPACK_IMPORTED_MODULE_2__.yM)(["reactSelectAsync"]),(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.connect)(((state,props)=>{var _state$vocabularies,_state$vocabularies$v,_state$vocabularies$v2,_state$vocabularies$v3,_props$items;const vocabBaseUrl=(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_4__.YB)(props)||(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_4__.sj)(props)||(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_4__.UL)(props),vocabState=null===(_state$vocabularies=state.vocabularies)||void 0===_state$vocabularies||null===(_state$vocabularies$v=_state$vocabularies[vocabBaseUrl])||void 0===_state$vocabularies$v||null===(_state$vocabularies$v2=_state$vocabularies$v.subrequests)||void 0===_state$vocabularies$v2||null===(_state$vocabularies$v3=_state$vocabularies$v2[`widget-${props.id}-${state.intl.locale}`])||void 0===_state$vocabularies$v3?void 0:_state$vocabularies$v3.items;return null!==(_props$items=props.items)&&void 0!==_props$items&&_props$items.choices?{choices:props.items.choices,lang:state.intl.locale}:vocabState?{choices:vocabState,vocabBaseUrl:vocabBaseUrl,lang:state.intl.locale}:{vocabBaseUrl:vocabBaseUrl,lang:state.intl.locale}}),{getVocabulary:_plone_volto_actions__WEBPACK_IMPORTED_MODULE_5__.um,getVocabularyTokenTitle:_plone_volto_actions__WEBPACK_IMPORTED_MODULE_5__.IH}))(SelectAutoComplete),SelectAutoComplete.__docgenInfo={description:"SelectAutoComplete component class.\n@class SelectAutoComplete\n@extends Component",methods:[{name:"handleChange",docblock:"Handle the field change, store it in the local state and back to simple\narray of tokens for correct serialization\n@method handleChange\n@param {array} selectedOption The selected options (already aggregated).\n@returns {undefined}",modifiers:[],params:[{name:"selectedOption",description:"The selected options (already aggregated).",type:{name:"array"},optional:!1}],returns:{},description:"Handle the field change, store it in the local state and back to simple\narray of tokens for correct serialization"},{name:"loadOptions",docblock:null,modifiers:[],params:[{name:"query",optional:!1,type:null}],returns:null},{name:"fetchAvailableChoices",docblock:null,modifiers:["async"],params:[{name:"query",optional:!1,type:null}],returns:null}],displayName:"SelectAutoComplete",props:{description:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},required:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},items:{defaultValue:{value:"{\n  vocabulary: null,\n}",computed:!1},description:"",type:{name:"shape",value:{vocabulary:{name:"object",required:!1}}},required:!1},widgetOptions:{defaultValue:{value:"{\n  vocabulary: null,\n}",computed:!1},description:"",type:{name:"shape",value:{vocabulary:{name:"object",required:!1}}},required:!1},error:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},choices:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"union",value:[{name:"object"},{name:"array"}]}},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"arrayOf",value:{name:"union",value:[{name:"object"},{name:"string"}]}},required:!1},id:{description:"",type:{name:"string"},required:!0},title:{description:"",type:{name:"string"},required:!0},getVocabulary:{description:"",type:{name:"func"},required:!0},onChange:{description:"",type:{name:"func"},required:!0},wrapped:{description:"",type:{name:"bool"},required:!1},isDisabled:{description:"",type:{name:"bool"},required:!1},placeholder:{description:"",type:{name:"string"},required:!1}}}},"./src/components/manage/Widgets/SelectUtils.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Cc:function(){return normalizeChoices},Qy:function(){return normalizeValue},eQ:function(){return convertValueToVocabQuery}});var lodash_isString__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isString.js"),lodash_isString__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_isString__WEBPACK_IMPORTED_MODULE_0__),lodash_isObject__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObject.js"),lodash_isObject__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_isObject__WEBPACK_IMPORTED_MODULE_1__),lodash_isBoolean__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isBoolean.js"),lodash_isBoolean__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_isBoolean__WEBPACK_IMPORTED_MODULE_2__),_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/helpers/index.js");const messages=(0,__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/index.js").defineMessages)({no_value:{id:"No value",defaultMessage:"No value"}});function convertValueToVocabQuery(value){var _value$value;if(lodash_isString__WEBPACK_IMPORTED_MODULE_0___default()(value)||lodash_isBoolean__WEBPACK_IMPORTED_MODULE_2___default()(value))return{token:value.toString()};if(!value)return{};if(Array.isArray(value))return{tokens:value.map((v=>{var _v$value;return lodash_isObject__WEBPACK_IMPORTED_MODULE_1___default()(v)?null!==(_v$value=v.value)&&void 0!==_v$value?_v$value:v.token:lodash_isString__WEBPACK_IMPORTED_MODULE_0___default()(v)||lodash_isBoolean__WEBPACK_IMPORTED_MODULE_2___default()(v)?v:null})).filter((f=>null!==f))};const token=null!==(_value$value=value.value)&&void 0!==_value$value?_value$value:value.token;return lodash_isString__WEBPACK_IMPORTED_MODULE_0___default()(token)?{token:token}:{}}function normalizeSingleSelectOption(value,intl){var _ref,_ref2,_value$token,_ref3,_ref4,_ref5;if(!value)return value;if(Array.isArray(value)){if(2===value.length)return{value:value[0],label:value[1]||value[0]};throw new Error(`Unknown value type of select widget: ${value}`)}return{value:null!==(_ref=null!==(_ref2=null!==(_value$token=value.token)&&void 0!==_value$token?_value$token:value.value)&&void 0!==_ref2?_ref2:value.UID)&&void 0!==_ref?_ref:"no-value",label:null!==(_ref3=null!==(_ref4=null!==(_ref5=value.title&&"None"!==value.title?value.title:void 0)&&void 0!==_ref5?_ref5:value.label)&&void 0!==_ref4?_ref4:value.token)&&void 0!==_ref3?_ref3:intl.formatMessage(messages.no_value)}}const normalizeChoices=(items,intl)=>items.map((item=>normalizeSingleSelectOption(item,intl)));function normalizeValue(choices,value,intl){choices=normalizeChoices(choices||[],intl);const choiceMap=Object.assign({},...choices.map((({label:label,value:value})=>({[value]:label}))));if(!lodash_isObject__WEBPACK_IMPORTED_MODULE_1___default()(value)&&lodash_isBoolean__WEBPACK_IMPORTED_MODULE_2___default()(value)){const label=choiceMap[(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__.QT)(value)];return label?{label:label,value:value}:{}}return"no-value"===value?{label:intl.formatMessage(messages.no_value),value:"no-value"}:void 0!==value&&value&&0!==value.length?Array.isArray(value)?value.map((v=>normalizeValue(choices,v,intl))):lodash_isObject__WEBPACK_IMPORTED_MODULE_1___default()(value)?normalizeSingleSelectOption(value,intl):Object.keys(choiceMap).includes(value)?{label:choiceMap[value],value:value}:{label:value,value:value}:null}},"./src/components/manage/Widgets/SelectWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SelectWidgetComponent:function(){return SelectWidgetComponent}});var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),lodash_map__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/map.js"),lodash_map__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/react-redux@8.1.2_@types+react-dom@18.2.12_@types+react@18.2.27_react-dom@18.2.0_react@18.2.0__react@18.2.0_redux@4.2.1/node_modules/react-redux/es/index.js"),redux__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../../node_modules/.pnpm/redux@4.2.1/node_modules/redux/es/redux.js"),react_intl__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/injectIntl.js"),_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/helpers/index.js"),_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/manage/Widgets/FormFieldWrapper.jsx"),_plone_volto_actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/actions/index.js"),_plone_volto_components_manage_Widgets_SelectUtils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/manage/Widgets/SelectUtils.js"),_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/manage/Widgets/SelectStyling.jsx"),_plone_volto_helpers_Loadable_Loadable__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/helpers/Loadable/Loadable.jsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_1__.createElement;const messages=(0,react_intl__WEBPACK_IMPORTED_MODULE_9__.defineMessages)({default:{id:"Default",defaultMessage:"Default"},idTitle:{id:"Short Name",defaultMessage:"Short Name"},idDescription:{id:"Used for programmatic access to the fieldset.",defaultMessage:"Used for programmatic access to the fieldset."},title:{id:"Title",defaultMessage:"Title"},description:{id:"Description",defaultMessage:"Description"},close:{id:"Close",defaultMessage:"Close"},choices:{id:"Choices",defaultMessage:"Choices"},required:{id:"Required",defaultMessage:"Required"},select:{id:"Select…",defaultMessage:"Select…"},no_value:{id:"No value",defaultMessage:"No value"},no_options:{id:"No options",defaultMessage:"No options"}});class SelectWidget extends react__WEBPACK_IMPORTED_MODULE_1__.Component{componentDidMount(){var _this$props$choices;this.props.choices&&0!==(null===(_this$props$choices=this.props.choices)||void 0===_this$props$choices?void 0:_this$props$choices.length)||!this.props.vocabBaseUrl||this.props.getVocabulary({vocabNameOrURL:this.props.vocabBaseUrl,size:-1,subrequest:this.props.lang})}componentDidUpdate(prevProps){var _this$props$choices2;this.props.vocabBaseUrl===prevProps.vocabBaseUrl||this.props.choices&&0!==(null===(_this$props$choices2=this.props.choices)||void 0===_this$props$choices2?void 0:_this$props$choices2.length)||this.props.getVocabulary({vocabNameOrURL:this.props.vocabBaseUrl,size:-1,subrequest:this.props.lang})}render(){var _this$props$placehold;const{id:id,choices:choices,value:value,intl:intl,onChange:onChange}=this.props,normalizedValue=(0,_plone_volto_components_manage_Widgets_SelectUtils__WEBPACK_IMPORTED_MODULE_6__.Qy)(choices,value,intl),disabled=this.props.disabled||this.props.isDisabled,Select=this.props.reactSelect.default;let options=this.props.vocabBaseUrl?this.props.choices:[...lodash_map__WEBPACK_IMPORTED_MODULE_0___default()(choices,(option=>({value:option[0],label:"None"!==option[1]&&option[1]?option[1]:option[0]}))),...!this.props.noValueOption||void 0!==this.props.default&&null!==this.props.default?[]:[{label:this.props.intl.formatMessage(messages.no_value),value:"no-value"}]];const isMulti=this.props.isMulti?this.props.isMulti:"roles"===id||"groups"===id||"array"===this.props.type;return __jsx(_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_4__.default,this.props,__jsx(Select,{id:`field-${id}`,key:choices,name:id,"aria-labelledby":`fieldset-${this.props.fieldSet}-field-label-${id}`,menuShouldScrollIntoView:!1,isDisabled:disabled,isSearchable:!0,className:"react-select-container",classNamePrefix:"react-select",isMulti:isMulti,options:options,styles:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_7__.cF,theme:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_7__.qe,components:(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_10__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_10__.c)({},(null==options?void 0:options.length)>25&&{MenuList:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_7__.__}),{},{MultiValueContainer:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_7__.cC,DropdownIndicator:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_7__.y,ClearIndicator:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_7__.ug,Option:this.props.customOptionStyling||_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_7__.cb}),value:normalizedValue,placeholder:null!==(_this$props$placehold=this.props.placeholder)&&void 0!==_this$props$placehold?_this$props$placehold:this.props.intl.formatMessage(messages.select),onChange:selectedOption=>onChange(id,isMulti?selectedOption.map((el=>el.value)):selectedOption&&"no-value"!==selectedOption.value?selectedOption.value:void 0),isClearable:!0}))}}(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_11__.c)(SelectWidget,"defaultProps",{description:null,required:!1,items:{vocabulary:null},widgetOptions:{vocabulary:null},error:[],choices:[],value:null,onChange:()=>{},onBlur:()=>{},onClick:()=>{},onEdit:null,onDelete:null,noValueOption:!0,customOptionStyling:null});const SelectWidgetComponent=(0,react_intl__WEBPACK_IMPORTED_MODULE_12__.cp)(SelectWidget);__webpack_exports__.default=(0,redux__WEBPACK_IMPORTED_MODULE_13__.compose)((0,_plone_volto_helpers_Loadable_Loadable__WEBPACK_IMPORTED_MODULE_8__.yM)(["reactSelect"]),(0,react_redux__WEBPACK_IMPORTED_MODULE_2__.connect)(((state,props)=>{var _state$vocabularies,_state$vocabularies$v,_state$vocabularies$v2;const vocabBaseUrl=props.choices?"":(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__.YB)(props)||(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__.sj)(props)||(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__.UL)(props),vocabState=null===(_state$vocabularies=state.vocabularies)||void 0===_state$vocabularies||null===(_state$vocabularies$v=_state$vocabularies[vocabBaseUrl])||void 0===_state$vocabularies$v||null===(_state$vocabularies$v2=_state$vocabularies$v.subrequests)||void 0===_state$vocabularies$v2?void 0:_state$vocabularies$v2[state.intl.locale];return props.choices?{choices:props.choices,lang:state.intl.locale}:vocabState?{vocabBaseUrl:vocabBaseUrl,choices:null!==(_vocabState$items=null==vocabState?void 0:vocabState.items)&&void 0!==_vocabState$items?_vocabState$items:[],lang:state.intl.locale}:vocabBaseUrl?{vocabBaseUrl:vocabBaseUrl,lang:state.intl.locale}:{lang:state.intl.locale};var _vocabState$items}),{getVocabulary:_plone_volto_actions__WEBPACK_IMPORTED_MODULE_5__.um,getVocabularyTokenTitle:_plone_volto_actions__WEBPACK_IMPORTED_MODULE_5__.IH}))(SelectWidgetComponent),SelectWidget.__docgenInfo={description:"SelectWidget component class.\n@function SelectWidget\n@returns {string} Markup of the component.",methods:[],displayName:"SelectWidget",props:{description:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},required:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},items:{defaultValue:{value:"{\n  vocabulary: null,\n}",computed:!1},description:"",type:{name:"shape",value:{vocabulary:{name:"object",required:!1}}},required:!1},widgetOptions:{defaultValue:{value:"{\n  vocabulary: null,\n}",computed:!1},description:"",type:{name:"shape",value:{vocabulary:{name:"object",required:!1}}},required:!1},error:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},choices:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"union",value:[{name:"object"},{name:"array"}]}},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"union",value:[{name:"object"},{name:"string"},{name:"bool"},{name:"func"},{name:"array"}]},required:!1},onChange:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onBlur:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onClick:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onEdit:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},onDelete:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},noValueOption:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},customOptionStyling:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"any"},required:!1},id:{description:"",type:{name:"string"},required:!0},title:{description:"",type:{name:"string"},required:!0},getVocabulary:{description:"",type:{name:"func"},required:!0},getVocabularyTokenTitle:{description:"",type:{name:"func"},required:!0},wrapped:{description:"",type:{name:"bool"},required:!1},isMulti:{description:"",type:{name:"bool"},required:!1},placeholder:{description:"",type:{name:"string"},required:!1}}}},"./src/components/manage/Widgets/TextWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Input/Input.js"),_plone_volto_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/index.js"),_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/manage/Widgets/FormFieldWrapper.jsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const TextWidget=props=>{const{id:id,value:value,onChange:onChange,onBlur:onBlur,onClick:onClick,icon:icon,iconAction:iconAction,minLength:minLength,maxLength:maxLength,placeholder:placeholder,isDisabled:isDisabled,focus:focus}=props,ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{focus&&ref.current.focus()}),[]),__jsx(_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_2__.default,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__.c)({},props,{className:"text"}),__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__.c,{id:`field-${id}`,name:id,value:value||"",disabled:isDisabled,icon:icon||null,placeholder:placeholder,onChange:({target:target})=>onChange(id,""===target.value?void 0:target.value),ref:ref,onBlur:({target:target})=>onBlur(id,""===target.value?void 0:target.value),onClick:()=>onClick(),minLength:minLength||null,maxLength:maxLength||null}),icon&&iconAction&&__jsx("button",{className:`field-${id}-action-button`,onClick:iconAction},__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_1__.GWx,{name:icon,size:"18px"})))};__webpack_exports__.default=TextWidget,TextWidget.defaultProps={description:null,required:!1,error:[],value:null,onChange:()=>{},onBlur:()=>{},onClick:()=>{},onEdit:null,onDelete:null,focus:!1,icon:null,iconAction:null,minLength:null,maxLength:null},TextWidget.__docgenInfo={description:"",methods:[],displayName:"TextWidget",props:{description:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},required:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},error:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},onChange:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onBlur:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onClick:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onEdit:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},onDelete:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},focus:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},icon:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"shape",value:{xmlns:{name:"string",required:!1},viewBox:{name:"string",required:!1},content:{name:"string",required:!1}}},required:!1},iconAction:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},minLength:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"number"},required:!1},maxLength:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"number"},required:!1},id:{description:"",type:{name:"string"},required:!0},title:{description:"",type:{name:"string"},required:!0},wrapped:{description:"",type:{name:"bool"},required:!1},placeholder:{description:"",type:{name:"string"},required:!1}}}},"./src/components/manage/Widgets/TextareaWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/addons/TextArea/TextArea.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Label/Label.js"),react_intl__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/injectIntl.js"),_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/manage/Widgets/FormFieldWrapper.jsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const TextareaWidget=props=>{const{id:id,maxLength:maxLength,value:value,onChange:onChange,placeholder:placeholder,isDisabled:isDisabled}=props,{0:lengthError,1:setlengthError}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("");return __jsx(_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_1__.default,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__.c)({},props,{className:"textarea"}),__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_3__.c,{id:`field-${id}`,name:id,value:value||"",disabled:isDisabled,placeholder:placeholder,onChange:({target:target})=>((id,value)=>{if(maxLength&(null==value?void 0:value.length)){let remlength=maxLength-value.length;setlengthError(remlength<0?`You have exceed word limit by ${Math.abs(remlength)}`:"")}onChange(id,value)})(id,""===target.value?void 0:target.value)}),lengthError.length>0&&__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_4__.c,{key:lengthError,basic:!0,color:"red",pointing:!0},lengthError))};TextareaWidget.defaultProps={description:null,maxLength:null,required:!1,error:[],value:null,onChange:null,onEdit:null,onDelete:null},__webpack_exports__.default=(0,react_intl__WEBPACK_IMPORTED_MODULE_5__.cp)(TextareaWidget),TextareaWidget.__docgenInfo={description:"TextareaWidget, a widget for multiple lines text\n\nTo use it, in schema properties, declare a field like:\n\n```jsx\n{\n title: \"Text\",\n widget: 'textarea',\n}\n```",methods:[],displayName:"TextareaWidget",props:{description:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},maxLength:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"number"},required:!1},required:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},error:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},onChange:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},onEdit:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},onDelete:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},id:{description:"",type:{name:"string"},required:!0},title:{description:"",type:{name:"string"},required:!0},wrapped:{description:"",type:{name:"bool"},required:!1},placeholder:{description:"",type:{name:"string"},required:!1}}}},"./src/components/manage/Widgets/TokenWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),redux__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../../node_modules/.pnpm/redux@4.2.1/node_modules/redux/es/redux.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/react-redux@8.1.2_@types+react-dom@18.2.12_@types+react@18.2.27_react-dom@18.2.0_react@18.2.0__react@18.2.0_redux@4.2.1/node_modules/react-redux/es/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/injectIntl.js"),_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/helpers/index.js"),_plone_volto_actions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/actions/index.js"),_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/manage/Widgets/SelectStyling.jsx"),_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/manage/Widgets/FormFieldWrapper.jsx"),_plone_volto_helpers_Loadable_Loadable__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/helpers/Loadable/Loadable.jsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const messages=(0,react_intl__WEBPACK_IMPORTED_MODULE_7__.defineMessages)({select:{id:"Select…",defaultMessage:"Select…"},no_options:{id:"No options",defaultMessage:"No options"}});class TokenWidget extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.handleChange=this.handleChange.bind(this)}componentDidMount(){var _this$props$choices;null!==(_this$props$choices=this.props.choices)&&void 0!==_this$props$choices&&_this$props$choices.length||this.props.getVocabulary({vocabNameOrURL:this.props.vocabBaseUrl,size:-1,subrequest:this.props.lang})}componentDidUpdate(){var _this$props$choices2;null!==(_this$props$choices2=this.props.choices)&&void 0!==_this$props$choices2&&_this$props$choices2.length||void 0!==this.props.vocabLoading||this.props.vocabLoaded||this.props.getVocabulary({vocabNameOrURL:this.props.vocabBaseUrl,size:-1,subrequest:this.props.lang})}handleChange(selectedOption){this.props.onChange(this.props.id,selectedOption?selectedOption.map((item=>item.label)):null)}render(){var _this$props$placehold;const selectedOption=this.props.value?this.props.value.map((item=>({label:item,value:item}))):[],defaultOptions=(this.props.choices||[]).filter((item=>!selectedOption.find((({label:label})=>label===item.label)))).map((item=>({label:item.label||item.value,value:item.value}))),CreatableSelect=this.props.reactSelectCreateable.default;return __jsx(_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_5__.default,this.props,__jsx(CreatableSelect,{id:`field-${this.props.id}`,"aria-labelledby":`fieldset-${this.props.fieldSet}-field-label-${this.props.id}`,key:this.props.id,menuShouldScrollIntoView:!1,isDisabled:this.props.isDisabled,className:"react-select-container",classNamePrefix:"react-select",defaultOptions:defaultOptions,options:defaultOptions,styles:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_4__.cF,theme:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_4__.qe,components:{MultiValueContainer:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_4__.cC,ClearIndicator:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_4__.ug,DropdownIndicator:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_4__.y,Option:_plone_volto_components_manage_Widgets_SelectStyling__WEBPACK_IMPORTED_MODULE_4__.cb},isMulti:!0,value:selectedOption||[],onChange:this.handleChange,placeholder:null!==(_this$props$placehold=this.props.placeholder)&&void 0!==_this$props$placehold?_this$props$placehold:this.props.intl.formatMessage(messages.select),noOptionsMessage:()=>this.props.intl.formatMessage(messages.no_options)}))}}(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_8__.c)(TokenWidget,"defaultProps",{description:null,required:!1,items:{vocabulary:null},widgetOptions:{vocabulary:null},error:[],choices:[],value:null}),__webpack_exports__.default=(0,redux__WEBPACK_IMPORTED_MODULE_9__.compose)(react_intl__WEBPACK_IMPORTED_MODULE_10__.cp,(0,_plone_volto_helpers_Loadable_Loadable__WEBPACK_IMPORTED_MODULE_6__.yM)(["reactSelectCreateable"]),(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.connect)(((state,props)=>{var _state$vocabularies,_state$vocabularies$v,_state$vocabularies$v2;const vocabBaseUrl=(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_2__.YB)(props)||(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_2__.sj)(props)||(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_2__.UL)(props),vocabState=null===(_state$vocabularies=state.vocabularies)||void 0===_state$vocabularies||null===(_state$vocabularies$v=_state$vocabularies[vocabBaseUrl])||void 0===_state$vocabularies$v||null===(_state$vocabularies$v2=_state$vocabularies$v.subrequests)||void 0===_state$vocabularies$v2?void 0:_state$vocabularies$v2[state.intl.locale];return vocabState?{choices:vocabState.items?vocabState.items.map((item=>({label:item.label||item.value,value:item.value}))):[],vocabLoading:vocabState.loading,vocabLoaded:vocabState.loaded,vocabBaseUrl:vocabBaseUrl,lang:state.intl.locale}:{vocabBaseUrl:vocabBaseUrl,lang:state.intl.locale}}),{getVocabulary:_plone_volto_actions__WEBPACK_IMPORTED_MODULE_3__.um}))(TokenWidget),TokenWidget.__docgenInfo={description:"TokenWidget component class.\n\nBecause new terms are created through the web by using the widget, the token\nwidget conflates the meaning of token, label and value and assumes they can\nbe used interchangeably.\n\n@class TokenWidget\n@extends Component",methods:[{name:"handleChange",docblock:"Handle the field change, store it in the local state and back to simple\narray of tokens for correct serialization\n@method handleChange\n@param {array} selectedOption The selected options (already aggregated).\n@returns {undefined}",modifiers:[],params:[{name:"selectedOption",description:"The selected options (already aggregated).",type:{name:"array"},optional:!1}],returns:{},description:"Handle the field change, store it in the local state and back to simple\narray of tokens for correct serialization"}],displayName:"TokenWidget",props:{description:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},required:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},items:{defaultValue:{value:"{\n  vocabulary: null,\n}",computed:!1},description:"",type:{name:"shape",value:{vocabulary:{name:"object",required:!1}}},required:!1},widgetOptions:{defaultValue:{value:"{\n  vocabulary: null,\n}",computed:!1},description:"",type:{name:"shape",value:{vocabulary:{name:"object",required:!1}}},required:!1},error:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},choices:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"object"}},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},id:{description:"",type:{name:"string"},required:!0},title:{description:"",type:{name:"string"},required:!0},getVocabulary:{description:"",type:{name:"func"},required:!0},vocabLoading:{description:"",type:{name:"bool"},required:!1},vocabLoaded:{description:"",type:{name:"bool"},required:!1},onChange:{description:"",type:{name:"func"},required:!0},wrapped:{description:"",type:{name:"bool"},required:!1},placeholder:{description:"",type:{name:"string"},required:!1}}}},"./src/components/manage/Widgets/UrlWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{UrlWidget:function(){return UrlWidget}});var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Input/Input.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Button/Button.js"),_plone_volto_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/index.js"),_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/manage/Widgets/FormFieldWrapper.jsx"),_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/helpers/index.js"),_plone_volto_components_manage_Sidebar_ObjectBrowser__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/manage/Sidebar/ObjectBrowser.jsx"),_plone_volto_icons_clear_svg__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/icons/clear.svg"),_plone_volto_icons_clear_svg__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_plone_volto_icons_clear_svg__WEBPACK_IMPORTED_MODULE_5__),_plone_volto_icons_nav_svg__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/icons/nav.svg"),_plone_volto_icons_nav_svg__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_plone_volto_icons_nav_svg__WEBPACK_IMPORTED_MODULE_6__),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const UrlWidget=props=>{const{id:id,onChange:onChange,onBlur:onBlur,onClick:onClick,minLength:minLength,maxLength:maxLength,placeholder:placeholder,isDisabled:isDisabled}=props,inputId=`field-${id}`,{0:value,1:setValue}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__._c)(props.value)),{0:isInvalid,1:setIsInvalid}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),onChangeValue=_value=>{var _newValue;let newValue=_value;if((null===(_newValue=newValue)||void 0===_newValue?void 0:_newValue.length)>0&&(isInvalid&&_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__.UD.isUrl(_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__.UD.normalizeUrl(newValue))&&setIsInvalid(!1),(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__.Q5)(newValue)&&(newValue=(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__._c)(newValue))),setValue(newValue),newValue=(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__.Q5)(newValue)?(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__.EP)(newValue):newValue,!(0,_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__.Q5)(newValue)&&newValue.length>0){const checkedURL=_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_3__.UD.checkAndNormalizeUrl(newValue);newValue=checkedURL.url,checkedURL.isValid||setIsInvalid(!0)}onChange(id,""===newValue?void 0:newValue)};return __jsx(_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_2__.default,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_7__.c)({},props,{className:"url wide"}),__jsx("div",{className:"wrapper"},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__.c,{id:inputId,name:id,type:"url",value:value||"",disabled:isDisabled,placeholder:placeholder,onChange:({target:target})=>onChangeValue(target.value),onBlur:({target:target})=>onBlur(id,""===target.value?void 0:target.value),onClick:()=>onClick(),minLength:minLength||null,maxLength:maxLength||null,error:isInvalid}),(null==value?void 0:value.length)>0?__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_9__.c.Group,null,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_9__.c,{basic:!0,className:"cancel","aria-label":"clearUrlBrowser",onClick:e=>{e.preventDefault(),e.stopPropagation(),setValue(""),onChange(id,void 0)}},__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_1__.GWx,{name:_plone_volto_icons_clear_svg__WEBPACK_IMPORTED_MODULE_5___default(),size:"30px"}))):__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_9__.c.Group,null,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_9__.c,{basic:!0,icon:!0,"aria-label":"openUrlBrowser",onClick:e=>{e.preventDefault(),e.stopPropagation(),props.openObjectBrowser({mode:"link",overlay:!0,onSelectItem:url=>{onChangeValue(url)}})}},__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_1__.GWx,{name:_plone_volto_icons_nav_svg__WEBPACK_IMPORTED_MODULE_6___default(),size:"24px"})))))};UrlWidget.defaultProps={description:null,required:!1,error:[],value:null,onChange:()=>{},onBlur:()=>{},onClick:()=>{},minLength:null,maxLength:null},__webpack_exports__.default=(0,_plone_volto_components_manage_Sidebar_ObjectBrowser__WEBPACK_IMPORTED_MODULE_4__.c)(UrlWidget),UrlWidget.__docgenInfo={description:"Widget to edit urls\n\nThis is the default widget used for the `remoteUrl` field. You can also use\nit by declaring a field like:\n\n```jsx\n{\n title: \"URL\",\n widget: 'url',\n}\n```",methods:[],displayName:"UrlWidget",props:{description:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},required:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},error:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},value:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},onChange:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onBlur:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onClick:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},minLength:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"number"},required:!1},maxLength:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"number"},required:!1},id:{description:"",type:{name:"string"},required:!0},title:{description:"",type:{name:"string"},required:!0},openObjectBrowser:{description:"",type:{name:"func"},required:!0},placeholder:{description:"",type:{name:"string"},required:!1}}}},"./src/components/manage/Widgets/VocabularyTermsWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),lodash_remove__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/remove.js"),lodash_remove__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_remove__WEBPACK_IMPORTED_MODULE_0__),lodash_findIndex__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/findIndex.js"),lodash_findIndex__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_findIndex__WEBPACK_IMPORTED_MODULE_1__),lodash_find__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/find.js"),lodash_find__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_find__WEBPACK_IMPORTED_MODULE_2__),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/react-redux@8.1.2_@types+react-dom@18.2.12_@types+react@18.2.27_react-dom@18.2.0_react@18.2.0__react@18.2.0_redux@4.2.1/node_modules/react-redux/es/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/useIntl.js"),uuid__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("../../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/v4.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Button/Button.js"),_plone_volto_components__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/index.js"),_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/manage/Widgets/FormFieldWrapper.jsx"),_plone_volto_components_manage_Widgets_ObjectWidget__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/manage/Widgets/ObjectWidget.jsx"),_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/helpers/index.js"),_plone_volto_icons_delete_svg__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/icons/delete.svg"),_plone_volto_icons_delete_svg__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_plone_volto_icons_delete_svg__WEBPACK_IMPORTED_MODULE_9__),_plone_volto_icons_add_svg__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/icons/add.svg"),_plone_volto_icons_add_svg__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_plone_volto_icons_add_svg__WEBPACK_IMPORTED_MODULE_10__),_plone_volto_icons_drag_svg__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/icons/drag.svg"),_plone_volto_icons_drag_svg__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_plone_volto_icons_drag_svg__WEBPACK_IMPORTED_MODULE_11__),__jsx=react__WEBPACK_IMPORTED_MODULE_3__.createElement;const messages=(0,react_intl__WEBPACK_IMPORTED_MODULE_12__.defineMessages)({title:{id:"Vocabulary terms",defaultMessage:"Vocabulary terms"},termtitle:{id:"Vocabulary term",defaultMessage:"Vocabulary term"},addTerm:{id:"Add vocabulary term",defaultMessage:"Add term"},removeTerm:{id:"Remove term",defaultMessage:"Remove term"},clearTermTitle:{id:"Reset term title",defaultMessage:"Reset title"},termtitlelabel:{id:"Vocabulary term title",defaultMessage:"Title"}}),VocabularyTermsWidget=props=>{var _vocabularyterms$map;const{id:id,value:value={},onChange:onChange}=props;var widgetvalue=value;const dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_4__.useDispatch)(),[toFocusId,setToFocusId]=react__WEBPACK_IMPORTED_MODULE_3__.useState(""),[editableToken,setEditableToken]=react__WEBPACK_IMPORTED_MODULE_3__.useState(""),intl=(0,react_intl__WEBPACK_IMPORTED_MODULE_13__.c)();react__WEBPACK_IMPORTED_MODULE_3__.useEffect((()=>{const element=document.getElementById(toFocusId);element&&element.focus(),setToFocusId("")}),[dispatch,toFocusId]),void 0===widgetvalue.items&&(widgetvalue={items:Object.keys(widgetvalue).map((key=>({token:key,titles:{en:widgetvalue[key]}})))});let vocabularyterms=widgetvalue.items,supportedLanguages=Object.keys((null==vocabularyterms||null===(_vocabularyterms$map=vocabularyterms.map((el=>el.titles)))||void 0===_vocabularyterms$map?void 0:_vocabularyterms$map.pop())||{});const TermSchema={title:"Translation of term",fieldsets:[{id:"default",title:"Email",fields:supportedLanguages}],properties:Object.fromEntries(supportedLanguages.map((languageIdentifier=>{var _langmap$languageIden,_langmap$languageIden2;return[languageIdentifier,{title:null!==(_langmap$languageIden=null===(_langmap$languageIden2=_plone_volto_helpers__WEBPACK_IMPORTED_MODULE_8__.YF[languageIdentifier])||void 0===_langmap$languageIden2?void 0:_langmap$languageIden2.nativeName)&&void 0!==_langmap$languageIden?_langmap$languageIden:languageIdentifier}]}))),required:[]};let enhancedvocabularyterms=vocabularyterms.map((el=>(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)((0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({},el),{},{"@id":el.token})));return __jsx(_plone_volto_components_manage_Widgets_FormFieldWrapper__WEBPACK_IMPORTED_MODULE_6__.default,(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_16__.c)({},props,{className:"vocabularytermswidget dictwidget"}),__jsx("div",{className:"add-item-button-wrapper"},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_17__.c,{"aria-label":intl.formatMessage(messages.termtitle),onClick:e=>{!function addTermHandler(e){e.preventDefault();const newtoken=(0,uuid__WEBPACK_IMPORTED_MODULE_14__.c)();let newitems=widgetvalue.items;newitems.push({token:newtoken,titles:Object.fromEntries(supportedLanguages.map((el=>[el,""])))}),onChange(id,{items:newitems}),setToFocusId(`field-${supportedLanguages[0]}-0-${id}-${newtoken}`),setEditableToken(newtoken)}(e)}},__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_5__.GWx,{name:_plone_volto_icons_add_svg__WEBPACK_IMPORTED_MODULE_10___default(),size:"18px"}),intl.formatMessage(messages.addTerm))),__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_5__.UlW,{childList:enhancedvocabularyterms.map((o=>[o["@id"],o])),onMoveItem:result=>{const{source:source,destination:destination}=result;if(!destination)return;let newitems=widgetvalue.items;return function swap(arr,from,to){arr.splice(from,1,arr.splice(to,1,arr[from])[0])}(newitems,source.index,destination.index),onChange(id,{items:newitems}),!0}},(dragProps=>{const{child:child,childId:childId,index:index}=dragProps;let termProps={index:index,id:id,vocabularyterms:vocabularyterms,vterm:child,onChange:onChange};return termsWrapper(dragProps,__jsx(_plone_volto_components_manage_Widgets_ObjectWidget__WEBPACK_IMPORTED_MODULE_7__.default,{id:`${id}-${child.token}`,key:childId,onChange:(fieldid,fieldvalue)=>{!function onChangeFieldHandler(token,fieldid,fieldvalue){let index=lodash_findIndex__WEBPACK_IMPORTED_MODULE_1___default()(widgetvalue.items,{token:token}),newitems=widgetvalue.items;newitems.splice(index,1,{token:token,titles:fieldvalue}),onChange(id,{items:newitems})}(child.token,0,fieldvalue)},value:child.titles,schema:TermSchema,title:"Translation of term"}),(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_15__.c)({editableToken:editableToken,setEditableToken:setEditableToken},termProps))})))},termsWrapper=({draginfo:draginfo},OW,termProps)=>__jsx(TermsWrapper,{draginfo:draginfo,termProps:termProps},OW),TermsWrapper=props=>{const intl=(0,react_intl__WEBPACK_IMPORTED_MODULE_13__.c)(),{termProps:termProps,draginfo:draginfo,children:children}=props,{id:id,vocabularyterms:vocabularyterms,vterm:vterm,onChange:onChange}=termProps;return __jsx("div",(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_16__.c)({ref:draginfo.innerRef},draginfo.draggableProps,{className:"vocabularyterm"}),__jsx("div",{style:{alignItems:"center",display:"flex"}},__jsx("div",(0,_home_runner_work_volto_slate_glossary_volto_slate_glossary_node_modules_pnpm_babel_runtime_7_20_6_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_16__.c)({},draginfo.dragHandleProps,{className:"draghandlewrapper"}),__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_5__.GWx,{name:_plone_volto_icons_drag_svg__WEBPACK_IMPORTED_MODULE_11___default(),size:"18px"})),__jsx("div",{className:"ui drag block inner"},children),__jsx("div",null,vterm.token===termProps.editableToken?__jsx("input",{id:`token-${vterm.token}`,title:"Token",placeholder:"token",onBlur:function onChangeTokenHandler(event){let value=event.target.value;value.length>2&&(lodash_find__WEBPACK_IMPORTED_MODULE_2___default()(termProps.vocabularyterms,(el=>el.token===value))||(((term,newtoken)=>{let newitems=termProps.vocabularyterms,index=lodash_findIndex__WEBPACK_IMPORTED_MODULE_1___default()(newitems,{token:term.token});newitems.splice(index,1,{token:newtoken,titles:newitems[index].titles}),onChange(id,{items:newitems})})(vterm,value),termProps.setEditableToken("")))}}):null,__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_17__.c,{icon:!0,basic:!0,className:"delete-button",title:intl.formatMessage(messages.removeTerm),"aria-label":`${intl.formatMessage(messages.removeTerm)} #${vterm.token}`,onClick:e=>{e.preventDefault(),lodash_remove__WEBPACK_IMPORTED_MODULE_0___default()(vocabularyterms,(el=>el.token===vterm.token)),onChange(id,{items:vocabularyterms})}},__jsx(_plone_volto_components__WEBPACK_IMPORTED_MODULE_5__.GWx,{name:_plone_volto_icons_delete_svg__WEBPACK_IMPORTED_MODULE_9___default(),size:"20px",color:"#e40166"})))))};__webpack_exports__.default=VocabularyTermsWidget,VocabularyTermsWidget.__docgenInfo={description:"",methods:[],displayName:"VocabularyTermsWidget"}},"./src/components/manage/Widgets/WysiwygWidget.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _plone_volto_slate_widgets_HtmlSlateWidget__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../volto-slate/src/widgets/HtmlSlateWidget.jsx");__webpack_exports__.default=_plone_volto_slate_widgets_HtmlSlateWidget__WEBPACK_IMPORTED_MODULE_0__.c},"../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/fromPairs.js":function(module){module.exports=function fromPairs(pairs){for(var index=-1,length=null==pairs?0:pairs.length,result={};++index<length;){var pair=pairs[index];result[pair[0]]=pair[1]}return result}},"../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/slice.js":function(module,__unused_webpack_exports,__webpack_require__){var baseSlice=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseSlice.js"),isIterateeCall=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isIterateeCall.js"),toInteger=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toInteger.js");module.exports=function slice(array,start,end){var length=null==array?0:array.length;return length?(end&&"number"!=typeof end&&isIterateeCall(array,start,end)?(start=0,end=length):(start=null==start?0:toInteger(start),end=void 0===end?length:toInteger(end)),baseSlice(array,start,end)):[]}},"../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/addons/Confirm/Confirm.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js"),_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),lodash_es_has__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/has.js"),lodash_es_has__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_es_has__WEBPACK_IMPORTED_MODULE_0__),lodash_es_invoke__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/invoke.js"),lodash_es_invoke__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_es_invoke__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("../../../node_modules/.pnpm/prop-types@15.7.2/node_modules/prop-types/index.js"),__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js")),_lib__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/lib/getUnhandledProps.js"),_elements_Button__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Button/Button.js"),_modules_Modal__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/modules/Modal/Modal.js"),Confirm=function(_Component){function Confirm(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Component.call.apply(_Component,[this].concat(args))||this).handleCancel=function(e){lodash_es_invoke__WEBPACK_IMPORTED_MODULE_1___default()(_this.props,"onCancel",e,_this.props)},_this.handleCancelOverrides=function(predefinedProps){return{onClick:function onClick(e,buttonProps){lodash_es_invoke__WEBPACK_IMPORTED_MODULE_1___default()(predefinedProps,"onClick",e,buttonProps),_this.handleCancel(e)}}},_this.handleConfirmOverrides=function(predefinedProps){return{onClick:function onClick(e,buttonProps){lodash_es_invoke__WEBPACK_IMPORTED_MODULE_1___default()(predefinedProps,"onClick",e,buttonProps),lodash_es_invoke__WEBPACK_IMPORTED_MODULE_1___default()(_this.props,"onConfirm",e,_this.props)}}},_this}return(0,_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_4__.c)(Confirm,_Component),Confirm.prototype.render=function render(){var _this$props=this.props,cancelButton=_this$props.cancelButton,confirmButton=_this$props.confirmButton,content=_this$props.content,header=_this$props.header,open=_this$props.open,size=_this$props.size,rest=(0,_lib__WEBPACK_IMPORTED_MODULE_5__.c)(Confirm,this.props),openProp={};return lodash_es_has__WEBPACK_IMPORTED_MODULE_0___default()(this.props,"open")&&(openProp.open=open),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_modules_Modal__WEBPACK_IMPORTED_MODULE_6__.c,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_7__.c)({},rest,openProp,{size:size,onClose:this.handleCancel}),_modules_Modal__WEBPACK_IMPORTED_MODULE_6__.c.Header.create(header,{autoGenerateKey:!1}),_modules_Modal__WEBPACK_IMPORTED_MODULE_6__.c.Content.create(content,{autoGenerateKey:!1}),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_modules_Modal__WEBPACK_IMPORTED_MODULE_6__.c.Actions,null,_elements_Button__WEBPACK_IMPORTED_MODULE_8__.c.create(cancelButton,{autoGenerateKey:!1,overrideProps:this.handleCancelOverrides}),_elements_Button__WEBPACK_IMPORTED_MODULE_8__.c.create(confirmButton,{autoGenerateKey:!1,defaultProps:{primary:!0},overrideProps:this.handleConfirmOverrides})))},Confirm}(react__WEBPACK_IMPORTED_MODULE_3__.Component);Confirm.handledProps=["cancelButton","confirmButton","content","header","onCancel","onConfirm","open","size"],Confirm.propTypes={},Confirm.defaultProps={cancelButton:"Cancel",confirmButton:"OK",content:"Are you sure?",size:"small"},__webpack_exports__.c=Confirm},"./src/icons/blank.svg":function(module){module.exports={attributes:{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 36 36"},content:'<g fill-rule="evenodd"><path d="M16 5 16 7 27.586 7 13.293 21.293 14.707 22.707 29 8.414 29 20 31 20 31 5z"/><path d="M23 29 7 29 7 13 18 13 18 11 5 11 5 31 25 31 25 18 23 18z"/></g>'}},"./src/icons/drag.svg":function(module){module.exports={attributes:{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 36 36"},content:'<path d="M13 16C11.897 16 11 16.897 11 18 11 19.103 11.897 20 13 20 14.103 20 15 19.103 15 18 15 16.897 14.103 16 13 16M13 22C10.794 22 9 20.206 9 18 9 15.794 10.794 14 13 14 15.206 14 17 15.794 17 18 17 20.206 15.206 22 13 22M23 16C21.897 16 21 16.897 21 18 21 19.103 21.897 20 23 20 24.103 20 25 19.103 25 18 25 16.897 24.103 16 23 16M23 22C20.794 22 19 20.206 19 18 19 15.794 20.794 14 23 14 25.206 14 27 15.794 27 18 27 20.206 25.206 22 23 22M13 26C11.897 26 11 26.897 11 28 11 29.103 11.897 30 13 30 14.103 30 15 29.103 15 28 15 26.897 14.103 26 13 26M13 32C10.794 32 9 30.206 9 28 9 25.794 10.794 24 13 24 15.206 24 17 25.794 17 28 17 30.206 15.206 32 13 32M23 26C21.897 26 21 26.897 21 28 21 29.103 21.897 30 23 30 24.103 30 25 29.103 25 28 25 26.897 24.103 26 23 26M23 32C20.794 32 19 30.206 19 28 19 25.794 20.794 24 23 24 25.206 24 27 25.794 27 28 27 30.206 25.206 32 23 32M13 6C11.897 6 11 6.897 11 8 11 9.103 11.897 10 13 10 14.103 10 15 9.103 15 8 15 6.897 14.103 6 13 6M13 12C10.794 12 9 10.206 9 8 9 5.794 10.794 4 13 4 15.206 4 17 5.794 17 8 17 10.206 15.206 12 13 12M23 6C21.897 6 21 6.897 21 8 21 9.103 21.897 10 23 10 24.103 10 25 9.103 25 8 25 6.897 24.103 6 23 6M23 12C20.794 12 19 10.206 19 8 19 5.794 20.794 4 23 4 25.206 4 27 5.794 27 8 27 10.206 25.206 12 23 12" fill-rule="evenodd"/>'}},"./src/icons/image-narrow.svg":function(module){module.exports={attributes:{width:"36",height:"36",viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg"},content:'<path d="M10 13L11.9333 11V25L10 23H26L24.0667 25V11L26 13H10ZM26 11V18V21.5V23.5V25H10V11H26Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 31H29V29H7V31ZM7 7H29V5H7V7Z"/>'}}}]);